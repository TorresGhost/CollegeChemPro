\documentclass[a4paper,14pt,twoside,justified, symmetric]{tufte-book} % Use the tufte-book class which in turn uses the tufte-common class
%%%%%%%%%%%%%%%%%%PAGE SIZE%%%%%%
\geometry{textwidth=.58\paperwidth} % size of text column
\geometry{
  left=21.8mm, % left margin
  textwidth=125mm, % main text block
  marginparsep=8.2mm, % gutter between main text block and margin notes
  marginparwidth=49.4mm, % width of margin notes
   top=2.5cm,bottom=2.5cm 
}
%%%
 %%%%%%%%%%%%%%%%%%PAGE SIZE%%%%%%
\newenvironment{problempage}{ left=0.1in,right=0.1in, top=2.5cm,bottom=2cm  }{\par}
\usepackage{paralist}
\usepackage{graphicx}
\usepackage{mathpazo}
\usepackage{lscape}
\usepackage{asymptote}
\usepackage{dingbat}
\usepackage{wrapfig}
\usepackage{dirtytalk}
\usepackage{savesym}
\usepackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\usepackage{tabu}
\usepackage{modiagram}
\usepackage{amsmath}
\usepackage{setspace}
\usepackage{afterpage}
\usepackage[version=4]{mhchem}
\usepackage{fontawesome}
\usepackage{xcolor, soul}
\sethlcolor{green}
\usepackage{amsmath}
\usepackage{fonttable}
\usepackage{paracol}
\usepackage{chemfig}
\usetikzlibrary{3d}
%\usepackage[ugly]{nicefrac}
\usepackage{cutwin}
%\usepackage{pstricks}

\usepackage{pgfplots}\pgfplotsset{compat=newest}

\usepackage{movie15}
\usepackage{hyperref}
%\hypersetup{colorlinks,linkcolor={black},citecolor={black},urlcolor={black}}  
\hypersetup{colorlinks,linkcolor={black}}


\graphicspath{ {images/} }
\hypersetup{colorlinks} % Comment this line if you don't wish to have colored links
\usepackage{microtype} % Improves character and word spacing
\usepackage{lipsum} % Inserts dummy text
\usepackage{booktabs} % Better horizontal rules in tables
%%%%%%COLORS
\definecolor{olive}{rgb}{0.3, 0.4, .1}
\definecolor{fore}{RGB}{249,242,215}
\definecolor{back}{RGB}{51,51,51}
\definecolor{title}{RGB}{255,0,90}
\definecolor{dgreen}{rgb}{0.,0.6,0.}
\definecolor{gold}{rgb}{1.,0.84,0.}
\definecolor{JungleGreen}{cmyk}{0.99,0,0.52,0}
\definecolor{BlueGreen}{cmyk}{0.85,0,0.33,0}
\definecolor{RawSienna}{cmyk}{0,0.72,1,0.45}
\definecolor{Magenta}{cmyk}{0,1,0,0}
%%%%%%COLORS
\usepackage{graphicx} % Needed to insert images into the document
\graphicspath{{graphics/}} % Sets the default location of pictures
\setkeys{Gin}{width=\linewidth,totalheight=\textheight,keepaspectratio} % Improves figure scaling
\usepackage{fancyvrb} % Allows customization of verbatim environments
\fvset{fontsize=\normalsize} % The font size of all verbatim text can be changed here
\newcommand{\hangp}[1]{\makebox[0pt][r]{(}#1\makebox[0pt][l]{)}} % New command to create parentheses around text in tables which take up no horizontal space - this improves column spacing
\newcommand{\hangstar}{\makebox[0pt][l]{*}} % New command to create asterisks in tables which take up no horizontal space - this improves column spacing
\usepackage{xspace} % Used for printing a trailing space better than using a tilde (~) using the \xspace command
\newcommand{\monthyear}{\ifcase\month\or January\or February\or March\or April\or May\or June\or July\or August\or September\or October\or November\or December\fi\space\number\year} % A command to print the current month and year
\newcommand{\openepigraph}[2]{ % This block sets up a command for printing an epigraph with 2 arguments - the quote and the author
\begin{fullwidth}
\sffamily\large
\begin{doublespace}
\noindent\allcaps{#1}\\ % The quote
\noindent\allcaps{#2} % The author
\end{doublespace}
\end{fullwidth}
}
\newcommand{\blankpage}{\newpage\hbox{}\thispagestyle{empty}\newpage} % Command to insert a blank page
\usepackage{units} % Used for printing standard units
\newcommand{\hlred}[1]{\textcolor{Maroon}{#1}} % Print text in maroon
%\newcommand{\hangleft}[1]{\makebox[0pt][r]{#1}} % Used for printing commands in the index, moves the slash left so the command name aligns with the rest of the text in the index 
\newcommand{\hairsp}{\hspace{1pt}} % Command to print a very short space
\newcommand{\ie}{\textit{i.\hairsp{}e.}\xspace} % Command to print i.e.
\newcommand{\eg}{\textit{e.\hairsp{}g.}\xspace} % Command to print e.g.
\newcommand{\na}{\quad--} % Used in tables for N/A cells
\newcommand{\measure}[3]{#1/#2$\times$\unit[#3]{pc}} % Typesets the font size, leading, and measure in the form of: 10/12x26 pc.
\newcommand{\tuftebs}{\symbol{'134}} % Command to print a backslash in tt type in OT1/T1
\providecommand{\XeLaTeX}{X\lower.5ex\hbox{\kern-0.15em\reflectbox{E}}\kern-0.1em\LaTeX}
\newcommand{\tXeLaTeX}{\XeLaTeX\index{XeLaTeX@\protect\XeLaTeX}} % Command to print the XeLaTeX logo while simultaneously adding the position to the index
\newcommand{\doccmdnoindex}[2][]{\texttt{\tuftebs#2}} % Command to print a command in texttt with a backslash of tt type without inserting the command into the index
\newcommand{\doccmddef}[2][]{\hlred{\texttt{\tuftebs#2}}\label{cmd:#2}\ifthenelse{\isempty{#1}} % Command to define a command in red and add it to the index
{ % If no package is specified, add the command to the index
\index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2}}% Command name
}
{ % If a package is also specified as a second argument, add the command and package to the index
\index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2} (\texttt{#1} package)}% Command name
\index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}% Package name
}}
\newcommand{\doccmd}[2][]{% Command to define a command and add it to the index
\texttt{\tuftebs#2}%
\ifthenelse{\isempty{#1}}% If no package is specified, add the command to the index
{%
\index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2}}% Command name
}
{%
\index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2} (\texttt{#1} package)}% Command name
\index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}% Package name
}}
% A bunch of new commands to print commands, arguments, environments, classes, etc within the text using the correct formatting
\newcommand{\docopt}[1]{\ensuremath{\langle}\textrm{\textit{#1}}\ensuremath{\rangle}}
\newcommand{\docarg}[1]{\textrm{\textit{#1}}}
\newenvironment{docspec}{\begin{quotation}\ttfamily\parskip0pt\parindent0pt\ignorespaces}{\end{quotation}}
\newcommand{\docenv}[1]{\texttt{#1}\index{#1 environment@\texttt{#1} environment}\index{environments!#1@\texttt{#1}}}
\newcommand{\docenvdef}[1]{\hlred{\texttt{#1}}\label{env:#1}\index{#1 environment@\texttt{#1} environment}\index{environments!#1@\texttt{#1}}}
\newcommand{\docpkg}[1]{\texttt{#1}\index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}}
\newcommand{\doccls}[1]{\texttt{#1}}
\newcommand{\docclsopt}[1]{\texttt{#1}\index{#1 class option@\texttt{#1} class option}\index{class options!#1@\texttt{#1}}}
\newcommand{\docclsoptdef}[1]{\hlred{\texttt{#1}}\label{clsopt:#1}\index{#1 class option@\texttt{#1} class option}\index{class options!#1@\texttt{#1}}}
\newcommand{\docmsg}[2]{\bigskip\begin{fullwidth}\noindent\ttfamily#1\end{fullwidth}\medskip\par\noindent#2}
\newcommand{\docfilehook}[2]{\texttt{#1}\index{file hooks!#2}\index{#1@\texttt{#1}}}
\newcommand{\doccounter}[1]{\texttt{#1}\index{#1 counter@\texttt{#1} counter}}
\usepackage{makeidx} % Used to generate the index
\makeindex % Generate the index which is printed at the end of the document
% This block contains a number of shortcuts used throughout the book
\newcommand{\vdqi}{\textit{VDQI}\xspace}
\newcommand{\ei}{\textit{EI}\xspace}
\newcommand{\ve}{\textit{VE}\xspace}
\newcommand{\be}{\textit{BE}\xspace}
\newcommand{\VDQI}{\textit{The Visual Display of Quantitative Information}\xspace}
\newcommand{\EI}{\textit{Envisioning Information}\xspace}
\newcommand{\VE}{\textit{Visual Explanations}\xspace}
\newcommand{\BE}{\textit{Beautiful Evidence}\xspace}
\newcommand{\TL}{Tufte-\LaTeX\xspace}


%----------------------------------------------------------------------------------------
%	BOOK META-INFORMATION
%----------------------------------------------------------------------------------------
\title{College Chemistry} % Title of the book
%\author[Daniel Torres, \today]{Daniel Torres} % Author
\publisher{BMCC-CUNY} % Publisher
%----------------------------------------------------------------------------------------
%\newcounter{problemcounter}\newcommand\showmycounter{\stepcounter{problemcounter}\themycounter}


%%%%%%%%%%%%%%%%%%%%%%%%Chapter Numbers
\usepackage{xcolor}
\def\chpcolor{blue!30!black}
\def\chpcolortxt{black!90}
\def\sectionfont{\sffamily\LARGE}
\setcounter{secnumdepth}{2}
\makeatletter
%Section:
\def\@sectionstrut{\vrule\@width\z@\@height12.5\p@}
\def\@makesectionhead#1{%
  {\par\vspace{20pt}%
   \parindent 0pt\raggedleft\sectionfont
   \colorbox{\chpcolor}{%
     \parbox[t]{90pt}{\color{white}\@sectionstrut\@depth4.5\p@\hfill
       \ifnum\c@secnumdepth>\z@\thesection\fi}%
   }%
   \begin{minipage}[t]{\dimexpr\textwidth-90pt-2\fboxsep\relax}
   \color{\chpcolortxt}\@sectionstrut\hspace{5pt}#1
   \end{minipage}\par
   \vspace{10pt}%
  }
}
\def\section{\@afterindentfalse\secdef\@section\@ssection}
\def\@section[#1]#2{%
  \ifnum\c@secnumdepth>\m@ne
    \refstepcounter{section}%
    \addcontentsline{toc}{section}{\protect\numberline{\thesection}#1}%
  \else
    \phantomsection
    \addcontentsline{toc}{section}{#1}%
  \fi
  \sectionmark{#1}%
  \if@twocolumn
    \@topnewpage[\@makesectionhead{#2}]%
  \else
    \@makesectionhead{#2}\@afterheading
  \fi
}
\def\@ssection#1{%
  \if@twocolumn
    \@topnewpage[\@makesectionhead{#1}]%
  \else
    \@makesectionhead{#1}\@afterheading
  \fi
}
\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%Chapter Numbers

%%%%%%BOXES SAMPLE PROBLEM     
\usepackage[many]{tcolorbox}
\definecolor{myblue}{RGB}{0,163,243}
\tcbset{mystyle/.style={
  breakable,
  enhanced,
  outer arc=0pt,
  arc=0pt,
  colframe=black!45,
  colback=black!45,
  attach boxed title to top left,
  boxed title style={
    colback=black!40,
    outer arc=0pt,
    arc=0pt,
    },
  title=Example~\thetcbcounter,
  fonttitle=\sffamily
  }
}
\tcbset{mystyle2/.style={
  breakable,
  enhanced,
  outer arc=0pt,
  arc=0pt,
  colframe=black!45,
  colback=white,
  attach boxed title to top left,
  boxed title style={
    colback=white,
    outer arc=0pt,
    arc=0pt,
    },
  fonttitle=\sffamily
  }
}
\newtcolorbox[auto counter]{example}[1][]{
  mystyle,
  colback=white,
  rightrule=0pt,
  toprule=0pt,
  title=Sample Problem \thetcbcounter,
  }
  \newtcolorbox{work}[1][]{
  mystyle2,
  colback=white,
  rightrule=0pt,
  toprule=0pt,  
  bottomrule=0pt,
  rightrule=0pt,
  }
  \newtcolorbox[auto counter]{problem}[1][]{
  mystyle,
  colback=white,
  rightrule=0pt,
  toprule=0pt,
  title=Chapter Problems,
  }
%%%%%%BOXES SAMPLE PROBLEM
\newcommand\textlcsc[1]{\textsc{\MakeLowercase{#1}}}   %FORCE CAPS
%%%%%%COLOED CIRCLES
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{%
            \node[shape=circle,fill=blue!30!black,,draw,inner sep=2pt] (char) {#1};}}
\usepackage{enumitem}
%%%%%%COLOED CIRCLES
\usepackage{textcomp}
\usepackage{lettrine}
\usepackage{lipsum}
\usepackage{lmodern}
\usepackage{tcolorbox}
\usepackage[framemethod=TikZ]{mdframed}
%%%PROBLEMS BOX
\mdfdefinestyle{problems}{%
    linecolor=black,
    outerlinewidth=2pt,
    roundcorner=20pt,
    innertopmargin=\baselineskip,
    innerbottommargin=\baselineskip,
    innerrightmargin=20pt,
    innerleftmargin=20pt,
    backgroundcolor=gray!10!white}
%%%PROBLEMS BOX 
%%%PROBLEMS BOX 2
\usepackage{blindtext}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{tcolorbox}
\makeatletter
\newtcolorbox{mytcbox}[2][]{%
enhanced, 
breakable,
colback=white,
colframe=blue!30!black,
attach boxed title to top right={yshift=-2pt}, title={#2},
boxed title size=standard,
boxrule=0pt,
boxed title style={%
    sharp corners, 
    rounded corners=northeast, 
    colback=tcbcol@frame, 
    boxrule=0pt},
sharp corners=north,
overlay unbroken={%
    \path[fill=tcbcol@back] 
        ([xshift=2pt]title.south west) 
        to[out=180, in=0] ([xshift=-3.5cm]title.west)--
        (title.west-|frame.west) |- 
        ([xshift=2pt]title.south west)--cycle;
    \path[fill=tcbcol@frame] (title.south west) 
        to[out=180, in=0] ([xshift=-1.5cm]title.west)--
        (title.west-|frame.west)
        [rounded corners=\kvtcb@arc] |- 
        (title.north-|frame.north) 
        [sharp corners] -| (title.south west);
    \draw[line width=.5mm, rounded corners=\kvtcb@arc, 
        tcbcol@frame] 
        (title.north east) rectangle 
        (frame.south west);
}, 
overlay first={%
    \path[fill=tcbcol@back] 
        ([xshift=2pt]title.south west) 
        to[out=180, in=0] ([xshift=-1.5cm]title.west)--
        (title.west-|frame.west) |- 
        ([xshift=2pt]title.south west)--cycle;
    \path[fill=tcbcol@frame] (title.south west) 
        to[out=180, in=0] ([xshift=-1.5cm]title.west)--
        (title.west-|frame.west)
        [rounded corners=\kvtcb@arc] |- 
        (title.north-|frame.north) 
        [sharp corners] -| (title.south west);
    \draw[line width=.5mm, rounded corners=\kvtcb@arc, 
        tcbcol@frame] 
        (frame.south west) |- (title.north) -| 
        (frame.south east);
}, 
overlay middle={%
    \draw[line width=.5mm, tcbcol@frame] 
    (frame.north west)--(frame.south west) 
    (frame.north east)--(frame.south east);
}, 
overlay last={%
    \draw[line width=.5mm, rounded corners=\kvtcb@arc, 
        tcbcol@frame] 
        (frame.north west) |- (frame.south) -|
        (frame.north east);
}, 
#1
}
\makeatother
%%%PROBLEMS BOX 2
%%%DISCUSS BOX
\makeatletter

\def\tcb@shadow@lifted#1#2#3#4{%
  \path[fill,rounded corners=\tcb@outer@arc,#4]
       ([xshift=#1+#3,yshift=#2+#3]frame.south west)
    .. controls ([yshift=\dimexpr#3]frame.south) ..
       ([xshift=-#1-#3,yshift=#2+#3]frame.south east)
    -- ([xshift=-#1-#3,yshift=#2-#3]frame.north east)
    -- ([xshift=#1+#3,yshift=#2-#3]frame.north west)
    -- cycle;
}

\tcbset{
  lifted shadow/.style args={#1#2#3#4}{shad@w app={%
    \begin{scope}[#4]%
      \tcb@shadow@lifted{#1}{#2}{\dimexpr-4\dimexpr#3}{opacity=0.01}%
      \tcb@shadow@lifted{#1}{#2}{\dimexpr-3\dimexpr#3}{opacity=0.02}%
      \tcb@shadow@lifted{#1}{#2}{\dimexpr-2\dimexpr#3}{opacity=0.04}%
      \tcb@shadow@lifted{#1}{#2}{\dimexpr-#3}{opacity=0.07}%
      \tcb@shadow@lifted{#1}{#2}{0pt}{opacity=0.11}%
      \tcb@shadow@lifted{#1}{#2}{\dimexpr+#3}{opacity=0.11}%
      \tcb@shadow@lifted{#1}{#2}{\dimexpr+2\dimexpr#3}{opacity=0.07}%
      \tcb@shadow@lifted{#1}{#2}{\dimexpr+3\dimexpr#3}{opacity=0.04}%
      \tcb@shadow@lifted{#1}{#2}{\dimexpr+4\dimexpr#3}{opacity=0.02}%
      \tcb@shadow@lifted{#1}{#2}{\dimexpr+5\dimexpr#3}{opacity=0.01}%
  \end{scope}}},%
  drop lifted shadow/.style={lifted shadow={1.5mm}{-1.5mm}{0.12mm}{#1}},
  drop lifted shadow/.default={black!50!white},%
  drop heavy lifted shadow/.style={lifted shadow={2mm}{-3mm}{0.16mm}{#1}},
  drop heavy lifted shadow/.default={black!50!white},%
}

\makeatother
%%%DISCUSS BOX
\usepackage{balance}
%BOX FOR EQUATIONS
\usetikzlibrary{calc}
\newcommand*{\boxcolor}{blue!30!black}
\makeatletter
\renewcommand{\boxed}[1]{\textcolor{\boxcolor}{%
\tikz[baseline={([yshift=-1ex]current bounding box.center)}] \node [rectangle, minimum width=1ex,rounded corners,draw] {\normalcolor\m@th$\displaystyle#1$};}}
 \makeatother

%BOX FOR EQUATIONS

%\usepackage{pgffor}
\usepackage{amsmath}
\usepackage[makeroom]{cancel}


%\setlength{\columnsep}{.5cm}

\setlength{\multicolsep}{1.0pt plus 2.0pt minus 1.5pt}% 50% of original values




\newcommand*\correct{\checkedchoicebox}

%TABLES
\usepackage{xcolor,colortbl}
\newcommand{\mc}[2]{\multicolumn{#1}{c}{#2}}
\usepackage{import}
\usepackage{subfiles}
%YELLOW NOTES
\setlength{\parskip}{0ex}
\setlength{\parindent}{0ex}

\newlength{\yellownotewidth}
\setlength{\yellownotewidth}{2.5cm}
\newlength{\yellownoteheight}
\setlength{\yellownoteheight}{2.5cm}
%   -   -   -   -   -   -   -   -   -   -   -   -
% Yellow note...
%   -   -   -   -   -   -   -   -   -   -   -   -
\newcommand{\resizeableyellownote}[3]{
\setlength{\yellownotewidth}{#1cm}
\setlength{\yellownoteheight}{#2cm}
\marginpar{
    \vspace{-0.5\yellownoteheight}
        \begin{center}
        \begin{tikzpicture}
            \draw[white,fill=gray!25,opacity=0.75,shift={(-0.125,-0.125)}] 
                (0,0) rectangle (\yellownotewidth,\yellownoteheight);
            \draw[fill=yellow!35] (0,0) rectangle (\yellownotewidth,\yellownoteheight);
            \draw[opacity=0.45,fill=gray!50] (0.7\yellownotewidth,0) -- 
                (0.9\yellownotewidth,0.45) -- (\yellownotewidth,0.4) -- cycle;
            \node[blue,below] at (0.5\yellownotewidth,\yellownoteheight) {
                \begin{minipage}{\yellownotewidth-1em}
                    \scriptsize\sf#3
                \end{minipage}
            };
        \end{tikzpicture}
        \end{center}
        \vspace{0.5\yellownoteheight}
    }
}
%YELLOW NOTES
%%%% CALCULATOR KEY
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{tikz}
\usetikzlibrary{shadows}
\newcommand*\keystroke[1]{%
  \tikz[baseline=(key.base)]
    \node[%
      draw,
      fill=white,
      drop shadow={shadow xshift=0.25ex,shadow yshift=-0.25ex,fill=black,opacity=0.75},
      rectangle,
      rounded corners=2pt,
      inner sep=1pt,
      line width=0.5pt,
      font=\scriptsize\sffamily
    ](key) {#1\strut}
  ;
}
%%%% CALCULATOR KEY

%HIGHLIGHT IN MATH
\newcommand{\hlmath}[1]{%
  \colorbox{black!20}{$\displaystyle#1$}}
  %HIGHLIGHT IN MATH
%EMAIL SEND
\usepackage{etoolbox}
%\makeatletter
%\patchcmd{\l@chapter}% <cmd>
%  {\addvspace{0.5em \@plus\p@}}% <search>
%  {}% <replace>
%  {}{}% <success><failure>
%\makeatother
\usepackage{tocloft}
\renewcommand{\cftchapafterpnum}{\vspace{2pt}}

\makeatletter
\newcommand\myemail[3]{%                %\newcommand\tpj@compose@mailto[3]{%
\edef\@tempa{mailto:#1?subject=#2 }%
\edef\@tempb{\expandafter\html@spaces\@tempa\@empty}%
\href{\@tempb}{#3}}
\catcode\%=11
\def\html@spaces#1 #2{#1%20\ifx#2\@empty\else\expandafter\html@spaces\fi#2}
\catcode\%=14
\makeatother
\usepackage{hyperref}
%EMAIL SEND
%DECORATION LINE
\usepackage[object=vectorian]{pgfornament} %%  http://altermundus.com/pages/tkz/ornament/index.html
\newcommand{\sectionlinetwo}[2]{%
  \nointerlineskip \vspace{0.5\baselineskip}\hspace{\fill}
  {\color{#1}
    \resizebox{0.8\linewidth}{2ex}
    {{%
    {\begin{tikzpicture}
    \node  (C) at (0,0) {};
    \node (D) at (9,0) {};
    \path (C) to [ornament=#2] (D);
    \end{tikzpicture}}}}}%
    \hspace{\fill}
    \par\nointerlineskip \vspace{.5\baselineskip}
  }
%DECORATION LINE
% Periodic tabe
\usetikzlibrary{shapes,calc}

\ifpdf
  %
\else
  % Implement Outline text using pstricks if regular LaTeX->dvi->ps->pdf route
  \usepackage{pst-all}
\fi
% Periodic tabe
% QUOTES
\usepackage{ifxetex,ifluatex}
\usepackage[svgnames]{xcolor}
\usepackage{framed}
\newif\ifxetexorluatex
\ifxetex
  \xetexorluatextrue
\else
  \ifluatex
    \xetexorluatextrue
  \else
    \xetexorluatexfalse
  \fi
\fi
%
\ifxetexorluatex%
  \usepackage{fontspec}
  \usepackage{libertine} % or use \setmainfont to choose any font on your system
  \newfontfamily\quotefont[Ligatures=TeX]{Linux Libertine O} % selects Libertine as the quote font
\else
  \usepackage[utf8]{inputenc}
  \usepackage[T1]{fontenc}
  \usepackage{libertine} % or any other font package
  \newcommand*\quotefont{\fontfamily{LinuxLibertineT-LF}} % selects Libertine as the quote font
\fi
\newcommand*\quotesize{60} % if quote size changes, need a way to make shifts relative
% Make commands for the quotes
\newcommand*{\openquote}
   {\tikz[remember picture,overlay,xshift=-4ex,yshift=-2.5ex]
   \node (OQ) {\quotefont\fontsize{\quotesize}{\quotesize}\selectfont``};\kern0pt}

\newcommand*{\closequote}[1]
  {\tikz[remember picture,overlay,xshift=4ex,yshift={#1}]
   \node (CQ) {\quotefont\fontsize{\quotesize}{\quotesize}\selectfont''};}
% select a colour for the shading
\colorlet{shadecolor}{Azure}
\newcommand*\shadedauthorformat{\emph} % define format for the author argument

% Now a command to allow left, right and centre alignment of the author
\newcommand*\authoralign[1]{%
  \if#1l
    \def\authorfill{}\def\quotefill{\hfill}
  \else
    \if#1r
      \def\authorfill{\hfill}\def\quotefill{}
    \else
      \if#1c
        \gdef\authorfill{\hfill}\def\quotefill{\hfill}
      \else\typeout{Invalid option}
      \fi
    \fi
  \fi}
% wrap everything in its own environment which takes one argument (author) and one optional argument
% specifying the alignment [l, r or c]
%
\newenvironment{shadequote}[2][l]%
{\authoralign{#1}
\ifblank{#2}
   {\def\shadequoteauthor{}\def\yshift{-2ex}\def\quotefill{\hfill}}
   {\def\shadequoteauthor{\par\authorfill\shadedauthorformat{#2}}\def\yshift{2ex}}
\begin{snugshade}\begin{quote}\openquote}
{\shadequoteauthor\quotefill\closequote{\yshift}\end{quote}\end{snugshade}}
% QUOTES
% FRAMED BOX
\usepackage{mwe}
\usetikzlibrary{shadows}
\definecolor{mygreen}{rgb}{0.61,0.73,0.35}
\mdfdefinestyle{mystyle}{%
    innerlinewidth = 0.5pt,
    outerlinewidth = 2pt,
    linecolor = mygreen,
    tikzsetting = {draw = white, line width = 0.5pt},
    roundcorner=15pt,
    linecolor=mygreen,
    linewidth=2pt,
    topline=true,
    frametitleaboveskip=1.5\dimexpr-\ht\strutbox\relax,
}

\newenvironment{definition}[1][]{%
\ifstrempty{#1}%
    {\mdfsetup{%
    style = mystyle,
    }}%
    {\mdfsetup{%
    style = mystyle,
    frametitle={%
    \tikz{[baseline=(current bounding box.east),outer sep=0pt]
    \node[draw = white, line width = 2pt, text = white, anchor=east,rectangle,
    fill=mygreen, rounded corners, drop shadow]
    {\strut #1};
    }}}}%
    \begin{mdframed}[]\relax%
}{\end{mdframed}}
%FRAMED BOX

% NEW PROBLEMS BOX
\usepackage{tikz}
\usetikzlibrary{calc}

\xdefinecolor{mycolor3}{RGB}{62,96,111} % Neutral Blue
\colorlet{bancolor}{mycolor3}

\def\bancolor{mycolor3}
\newenvironment{mybox3}[3][]{%
    \begin{tikzpicture}[#1]%
        \def\myboxname{#3}%
        \node [draw,inner sep=1.5ex,text width=#2]% good options: minimum height, minimum width
            (BOXCONTENT) \bgroup\rule{0pt}{3ex}\ignorespaces
}{%
        \egroup;
        \node [right,inner xsep=1em,fill=bancolor!75,outer sep=0pt,text height=2ex,text depth=.5ex] (BOXNAME) 
            at ([shift={(-1em,0pt)}]BOXCONTENT.north west) {\myboxname};
        \fill[bancolor] (BOXNAME.north east) -- +(-1em,1em) -- +(-1em,0) -- cycle;
        \fill[bancolor] (BOXNAME.south west) -- +(1em,-1em) -- +(1em,0) -- cycle;
    \end{tikzpicture}
}
% NEW PROBLEMS BOX

\makeatletter
\newlength{\fullwidthlength}
\AtBeginDocument{\setlength{\fullwidthlength}{\@tufte@fullwidth}}
\makeatother

%%%%%% Formula with arrow
\usepackage{mathtools}
\usepackage{empheq}
\definecolor{myblue}{rgb}{.8, .7, 1}
\newcommand*\mybluebox[1]{%
\colorbox{myblue}{\hspace{1em}#1\hspace{1em}}}

\usepackage{amssymb}
\usepackage[customcolors,markings]{hf-tikz}

\tikzset{offset def/.style={
    above left offset={0.015,0.3},
    below right offset={-0.015,-0.12},
  },
  use color/.style={
    offset def,
    set fill color=white,
    set border color=#1,
  },
}

\newcommand{\annotate}[2][]{
\tikz[remember picture,overlay]\draw[#1,use marker id] (0,0.4) -- +(90:0.7cm)
 node[anchor=north,text=black,align=center] {#2};
}
\usetikzlibrary{positioning}
\tikzset{>=stealth}
\newcommand{\tikzmark}[3][]{\tikz[overlay,remember picture,baseline] \node [anchor=base,#1](#2) {#3};}
\usepackage[utf8]{inputenc}
%%%%%% Formula with arrow

%%%% FANCY COLOR TABLE
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{tcolorbox}
\usepackage{tabularx}
\usepackage{array}
\usepackage{colortbl}
\tcbuselibrary{skins}
\newcolumntype{Y}{>{\raggedleft\arraybackslash}X}

\tcbset{tab1/.style={fonttitle=\bfseries\large,fontupper=\normalsize\sffamily,
colback=yellow!10!white,colframe=red!75!black,colbacktitle=Salmon!40!white,
coltitle=black,center title,freelance,frame code={
\foreach \n in {north east,north west,south east,south west}
{\path [fill=red!75!black] (interior.\n) circle (3mm); };},}}
\tcbset{tab2/.style={enhanced,fonttitle=\bfseries,fontupper=\normalsize\sffamily,
colback=yellow!10!white,colframe=red!50!black,colbacktitle=Salmon!40!white,
coltitle=black,center title}}
%%%% FANCY COLOR TABLE


\usepackage{times}
\colorlet{helpful}{lime!70}
\colorlet{harmful}{red!30}
\colorlet{internal}{yellow!20}
\colorlet{external}{cyan!30}
\colorlet{G}{helpful!50!internal}
\colorlet{A}{harmful!50!internal}
\colorlet{O}{helpful!50!external}
\colorlet{T}{harmful!50!external}
\newcommand{\texta}{Given}
\newcommand{\textb}{Asking}
\newcommand{\textcn}{\rotatebox[origin=c]{90}{\parbox[t]{2cm}{\centering Analyze\\ the Problem}}}
\newcommand{\texts}{strength 1\par strength 2}
\newcommand{\textw}{weakness 1\par weakness 2}
\newcommand{\texto}{opportunity 1\par opportunity 2}
\newcommand{\textt}{threat 1\par threat 2}
\tcbset{swotbox/.style={size=normal, boxrule=0pt,
            colback=#1, watermark text=#1, width=.4\linewidth-5mm},
        header/.style={size=small, boxrule=0pt, width=.4\linewidth-5mm, colback=#1, valign=center, halign=center},
        firstcol/.style={header=#1, width=1cm}
        }
        
        
        \tcbset{%
  save height/.code={%
    \tcbset{breakable}%
    \providecommand{#1}{2cm}%
    \def\tcb@split@start{%
      \tcb@breakat@init%
      \tcb@comp@h@page%
      \def\tcb@ch{%
        \tcbset{height=\tcb@h@page}%
        \tcbdimto#1{#1+\tcb@h@page-\tcb@natheight}%
        \immediate\write\@auxout{\string\gdef\string#1{#1}}%
        \tcb@ch%
      }%
      \tcb@drawcolorbox@standalone%
    }%
  }%
}

%%%%%%%%% BACKGROUND IMAGE IN A BOX
\newsavebox\MBox
\newenvironment{Minipage}[1]
  {\par\smallskip\begin{lrbox}{\MBox}\begin{minipage}{#1}}
  {\end{minipage}\end{lrbox}%
   \makebox(0,0){\put(-24,-19){%
     \shadowimage[width=1.5\wd\MBox,height=2.1\ht\MBox]{paperpage}}}%
%     \includegraphics[width=1.8\wd\MBox,height=2.1\ht\MBox]{paperpage}}}%
   \usebox\MBox\par%
  }
\newenvironment{Minipage2}[1]
  {\par\smallskip\begin{lrbox}{\MBox}\begin{minipage}{#1}}
  {\end{minipage}\end{lrbox}%
   \makebox(0,0){\put(-31,-19){%
     \shadowimage[width=1.08\wd\MBox,height=2.4\ht\MBox]{paperpage}}}%
%     \includegraphics[width=1.8\wd\MBox,height=2.1\ht\MBox]{paperpage}}}%
   \usebox\MBox\par%
  }
%%%%%%%%% BACKGROUND IMAGE IN A BOX

%%% SHADOW IN AN IMAGE
\usetikzlibrary{shadows,calc}

\def\shadowshift{3pt,-3pt}
\def\shadowradius{6pt}

\colorlet{innercolor}{black!60}
\colorlet{outercolor}{gray!05}

\newcommand\drawshadow[1]{
    \begin{pgfonlayer}{shadow}
        \shade[outercolor,inner color=innercolor,outer color=outercolor] ($(#1.south west)+(\shadowshift)+(\shadowradius/2,\shadowradius/2)$) circle (\shadowradius);
        \shade[outercolor,inner color=innercolor,outer color=outercolor] ($(#1.north west)+(\shadowshift)+(\shadowradius/2,-\shadowradius/2)$) circle (\shadowradius);
        \shade[outercolor,inner color=innercolor,outer color=outercolor] ($(#1.south east)+(\shadowshift)+(-\shadowradius/2,\shadowradius/2)$) circle (\shadowradius);
        \shade[outercolor,inner color=innercolor,outer color=outercolor] ($(#1.north east)+(\shadowshift)+(-\shadowradius/2,-\shadowradius/2)$) circle (\shadowradius);
        \shade[top color=innercolor,bottom color=outercolor] ($(#1.south west)+(\shadowshift)+(\shadowradius/2,-\shadowradius/2)$) rectangle ($(#1.south east)+(\shadowshift)+(-\shadowradius/2,\shadowradius/2)$);
        \shade[left color=innercolor,right color=outercolor] ($(#1.south east)+(\shadowshift)+(-\shadowradius/2,\shadowradius/2)$) rectangle ($(#1.north east)+(\shadowshift)+(\shadowradius/2,-\shadowradius/2)$);
        \shade[bottom color=innercolor,top color=outercolor] ($(#1.north west)+(\shadowshift)+(\shadowradius/2,-\shadowradius/2)$) rectangle ($(#1.north east)+(\shadowshift)+(-\shadowradius/2,\shadowradius/2)$);
        \shade[outercolor,right color=innercolor,left color=outercolor] ($(#1.south west)+(\shadowshift)+(-\shadowradius/2,\shadowradius/2)$) rectangle ($(#1.north west)+(\shadowshift)+(\shadowradius/2,-\shadowradius/2)$);
        \filldraw ($(#1.south west)+(\shadowshift)+(\shadowradius/2,\shadowradius/2)$) rectangle ($(#1.north east)+(\shadowshift)-(\shadowradius/2,\shadowradius/2)$);
    \end{pgfonlayer}
}

\pgfdeclarelayer{shadow} 
\pgfsetlayers{shadow,main}

\newsavebox\mybox
\newlength\mylen

\newcommand\shadowimage[2][]{%
\setbox0=\hbox{\includegraphics[#1]{#2}}
\setlength\mylen{\wd0}
\ifnum\mylen<\ht0
\setlength\mylen{\ht0}
\fi
\divide \mylen by 120
\def\shadowshift{\mylen,-\mylen}
\def\shadowradius{\the\dimexpr\mylen+\mylen+\mylen\relax}
\begin{tikzpicture}
\node[anchor=south west,inner sep=0] (image) at (0,0) {\includegraphics[#1]{#2}};
\drawshadow{image}
\end{tikzpicture}}

%%% SHADOW IN AN IMAGE
%% TABULAR X ALIAS
\newcolumntype{Y}{>{\centering\arraybackslash}X} % for centering tables in tabularx
\def\tabularxcolumn#1{m{#1}}
\newcommand{\heading}[1]{\bfseries\begin{tabular}{@{}c@{}} #1 \end{tabular}}
%% TABULAR X ALIAS



%%%%%%%%%TITLEPAGE
\newcommand*{\titleBC}{\begingroup % Create the command for including the title page in the document
%\includegraphics[width=1\textwidth]{cover0}
%\newpage
%\incgraph[documentpaper,
%  overlay={\node[red] at (page.center) {\Huge Picture sized to paper};}]
%  [width=\paperwidth,height=\paperheight]{cover0}
%\newpage
\centering % Center all text

\def\CP{\textit{\Huge Experiments in College Chemistry I}} % Title

\settowidth{\unitlength}{\CP} % Set the width of the curly brackets to the width of the title
{\color{LightGoldenrod}\resizebox*{\unitlength}{\baselineskip}{\rotrt{$\}$}}} \\[\baselineskip] % Print top curly bracket
\textcolor{Sienna}{\CP} \\[\baselineskip] % Print title
{\color{RosyBrown}\Large AN OPENTEXTBOOK} \\ % Tagline or further description
{\color{Magenta}Version 2.0} \\ % Tagline or further description
{\color{LightGoldenrod}\resizebox*{\unitlength}{\baselineskip}{\rotlft{$\}$}}} % Print bottom curly bracket

\vfill % Whitespace between the title and the author name
 \includegraphics[width=0.8\textwidth]{coverfolder/cover}
 \vfill 
{\Large\textbf{Daniel Torres \& Luis Gonzalez-Urbina}}\\ % Author name
{\textbf{B.M.C.C.}}\\ % Author name
{\textbf{The City University of New York}}\\ % Author name
\vfill % Whitespace between the author name and the publisher logo

 \includegraphics[width=0.1\textwidth]{coverfolder/cc}\\[0.5\baselineskip] % Publisher logo
2017 % Year published


\endgroup}%%%%%%%%%% TITLE PAGE



\usepackage{booktabs,array,ragged2e,dcolumn}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}
\newcolumntype{L}[1]{>{\RaggedRight\arraybackslash}p{#1}}
\newcolumntype{d}[1]{D{.}{.}{#1}}




%%%% PROBLEMS CHAPTER BOX
\mdfdefinestyle{conclusion}{%
innerleftmargin=0.3\linewidth,
innerrightmargin=0.1cm,
leftline=false,
rightline=false,
bottomline=false,
backgroundcolor=white,
linecolor=DarkGreen,
linewidth=4pt,
skipabove=\dimexpr\topskip+.5cm\relax,
settings={\setlist[itemize]{label=\color{DarkGreen}\rule[.25ex]{1ex}{1ex}}%
               \refstepcounter{section}},
frametitleaboveskip=\dimexpr-1.5\ht\strutbox\relax,
frametitle=%
 {%
  \null\llap{%
     \tikz[baseline=(current bounding box.east),outer sep=0pt,remember picture]
      \node[anchor=west,
             xshift=0cm,fill=DarkGreen,
             rounded corners,
             font=\color{white}\Huge\sffamily] (frametitle)%
                                                                 {CHAPTER~\thechapter};
               }%
  }
}

\newmdenv[style=conclusion]{conclusion}


\newcommand{\pol}[1]{\rlap{${}^{^{\color{red} \delta #1}}$}}
\usepackage{fancybox}


\usepackage{fontawesome}
\def\Plus{\texttt{+}}
\def\Minus{\texttt{-}}
\newenvironment{myenv}[1]
  {\mdfsetup{
    frametitle={\colorbox{white}{\space#1\space}},
    innertopmargin=0pt,
    frametitleaboveskip=-\ht\strutbox,
    frametitlealignment=\center
    }
  \begin{mdframed}%
  }
  {\end{mdframed}}

%%%% BOXES DIAGRAMS  FOR CARBS
\tikzset{
     block/.style={rectangle, draw, fill=red!40, text width=4em,
                   text centered, rounded corners, minimum height=3em},
     arrow/.style={-{Stealth[]}}
     }
\usetikzlibrary{positioning,arrows.meta}
%%%% BOXES DIAGRAMS  FOR CARBS



\usepackage{enumitem}
\SetLabelAlign{myright}{\hss\llap{$#1$}}
\newlist{where}{description}{1}
\setlist[where]{labelwidth=2cm,labelsep=1em,
                        leftmargin=!,align=myright,font=\normalfont}



\usepackage{smartdiagram}

\usepackage{PTSansNarrow}
\usepackage[T1]{fontenc}

\usetikzlibrary{matrix}


\usepackage{rotating}


\def\parsecomma#1,#2\endparsecomma{\def\page@x{#1}\def\page@y{#2}}
\tikzdeclarecoordinatesystem{page}{
    \parsecomma#1\endparsecomma
    \pgfpointanchor{current page}{north east}
    \pgf@xc=\pgf@x%
    \pgf@yc=\pgf@y%
    \pgfpointanchor{current page}{south west}
    \pgf@xb=\pgf@x%
    \pgf@yb=\pgf@y%
    \pgfmathparse{(\pgf@xc-\pgf@xb)/2.*\page@x+(\pgf@xc+\pgf@xb)/2.}
    \expandafter\pgf@x\expandafter=\pgfmathresult pt
    \pgfmathparse{(\pgf@yc-\pgf@yb)/2.*\page@y+(\pgf@yc+\pgf@yb)/2.}
    \expandafter\pgf@y\expandafter=\pgfmathresult pt
}
\makeatother




%%%% Add text in itemize
\newcounter{saveenumerate}
\usepackage{enumitem}
\setlist[enumerate]{itemsep=0mm}

\newcounter{figurenewcounter}



\makeatletter
\newcommand{\enumeratext}[1]{%
\setcounter{saveenumerate}{\value{enum\romannumeral\the\@enumdepth}}
\end{enumerate}
#1
\begin{enumerate}
\setcounter{enum\romannumeral\the\@enumdepth}{\value{saveenumerate}}%
}
\makeatother






\usetikzlibrary{arrows,positioning}

%%%% COLOR ARROWS
\usetikzlibrary{shapes.arrows}
\makeatletter
\def\createshadingfromlist#1#2#3{%
  \pgfutil@tempcnta=0\relax
  \pgfutil@for\pgf@tmp:={#3}\do{\advance\pgfutil@tempcnta by1}%
  \ifnum\pgfutil@tempcnta=1\relax%
    \edef\pgf@spec{color(0)=(#3);color(100)=(#3)}%
  \else%
    \pgfmathparse{50/(\pgfutil@tempcnta-1)}\let\pgf@step=\pgfmathresult%
    %
    \pgfutil@tempcntb=1\relax%
    \pgfutil@for\pgf@tmp:={#3}\do{%
      \ifnum\pgfutil@tempcntb=1\relax%
        \edef\pgf@spec{color(0)=(\pgf@tmp);color(25)=(\pgf@tmp)}%
      \else%
        \ifnum\pgfutil@tempcntb<\pgfutil@tempcnta\relax%
          \pgfmathparse{25+\pgf@step/4+(\pgfutil@tempcntb-1)*\pgf@step}%
          \edef\pgf@spec{\pgf@spec;color(\pgfmathresult)=(\pgf@tmp)}%
        \else%
          \edef\pgf@spec{\pgf@spec;color(75)=(\pgf@tmp);color(100)=(\pgf@tmp)}%
        \fi%
      \fi%
      \advance\pgfutil@tempcntb by1\relax%
    }%
  \fi%
  \csname pgfdeclare#2shading\endcsname{#1}{100}\pgf@spec%
}

\createshadingfromlist{shading1}{horizontal}{red,yellow,green,cyan,blue}






%ACID CONJGATE BASE
\usetikzlibrary{calc,positioning}



%%% INVERT COLOR MAP
\def\customrevertcolormap#1{%
    \pgfplotsarraycopy{pgfpl@cm@#1}\to{custom@COPY}%
    \c@pgf@counta=0
    \c@pgf@countb=\pgfplotsarraysizeof{custom@COPY}\relax
    \c@pgf@countd=\c@pgf@countb
    \advance\c@pgf@countd by-1 %
    \pgfutil@loop
    \ifnum\c@pgf@counta<\c@pgf@countb
        \pgfplotsarrayselect{\c@pgf@counta}\of{custom@COPY}\to\pgfplots@loc@TMPa
        \pgfplotsarrayletentry\c@pgf@countd\of{pgfpl@cm@#1}=\pgfplots@loc@TMPa
        \advance\c@pgf@counta by1 %
        \advance\c@pgf@countd by-1 %
    \pgfutil@repeat
%\pgfplots@colormap@showdebuginfofor{#1}%
}%


%Extra practice problems box
\newtcolorbox[auto counter]{summary}[1][]{title={\bfseries Extra Practice Problems},enhanced,drop shadow={black!50!white},
  coltitle=black,
  top=0.3in,
  attach boxed title to top right=
  {xshift=0pt},
  boxed title style={size=small,colback=pink},#1}
%Extra practice problems box


%BRACKET FOR CHEMFIG
\newcommand\setpolymerdelim[2]{\def\delimleft{#1}\def\delimright{#2}}

\def\makebraces(#1,#2)#3#4#5{%
  \edef\delimhalfdim{\the\dimexpr(#1+#2)/2}%
  \edef\delimvshift{\the\dimexpr(#1-#2)/2}%
  \chemmove{
    \node[at=(#4),yshift=(\delimvshift)]
      {$
       \left\delimleft
         \vrule height\delimhalfdim depth\delimhalfdim width0pt
       \right.
      $};
    \node[at=(#5),yshift=(\delimvshift)]
      {$
        \left.
          \vrule height\delimhalfdim depth\delimhalfdim width0pt
        \right\delimright_{\rlap{#3}}
      $};
  }%
}


\usepackage[weather]{ifsym}%
%\usepackage{xymtexps}%PostScript Mode





%%%%% DNA
\usepackage{carbohydrates}
\definesubmol\nobond{[,0.2,,,draw=none]}
\definesubmol{adenine}{-[:72,,,,draw=none]\textcolor{blue}{N}(-[:-90]H)*5(-*6(-N=-N=(-NH_2)-=)--N=-)}
\definesubmol{adenine2}{-[:72,0.4,,,draw=none]\textcolor{blue}{N}*5(-*6(-N=-N=(-NH_2)-=)--N=-)}
\definesubmol{guanine}{-[:72,,,,draw=none]\textcolor{blue}{N}(-[:-90]H)*5(-*6(-N=(-[:-45]NH_2)-N(-[:45]H)-(=O)-=)--N=-)}
\definesubmol{guanine2}{-[:72,0.4,,,draw=none]\textcolor{blue}{N}*5(-*6(-N=(-[:-45]NH_2)-N(-[:45]H)-(=O)-=)--N=-)}

\definesubmol{uracil}{-[:90,,,,draw=none]\textcolor{blue}{N}(-[:-90]H)*6(-(=O)-N(-[:45]H)-(=O)-=-)}
\definesubmol{uracil2}{-[:90,0.4,,,draw=none]\textcolor{blue}{N}*6(-(=O)-N(-[:45]H)-(=O)-=-)}

\definesubmol{thymine}{-[:90,0.4,,,draw=none]\textcolor{blue}{N}(-[:-90]H)*6(-(=O)-N(-[:45]H)-(=O)-(-[:145]CH_3)=-)}
\definesubmol{thymine2}{-[:90,0.4,,,draw=none]\textcolor{blue}{N}*6(-(=O)-N(-[:45]H)-(=O)-(-[:145]CH_3)=-)}

\definesubmol{cytosine}{-[:90,,,,draw=none]\textcolor{blue}{N}(-[:-90]H)*6(-(=O)-N=(-NH_2)-=-)}
\definesubmol{cytosine2}{-[:90,0.4,,,draw=none]\textcolor{blue}{N}*6(-(=O)-N=(-NH_2)-=-)}

\definesubmol{ribose}{HO-[:90,0.5,2]?-[:60,1.0](-[:90,1.1]\textcolor{orange}{OH})-[:160,1.2]\textcolor{red}{O}-[:-160,1.2](-[:90,0.7](-[:180,0.9]H\textcolor{pink}{O}))-[:-60, 1.0]?(-[:-90,0.5]OH)}
\definesubmol{deoxyribose}{-[:90,0.5,2,,,draw=none]?-[:60,1.0](-[:90,1.1]OH)-[:160,1.2]\textcolor{red}{O}-[:-160,1.2](-[:90,0.7](-[:180,0.9]H\textcolor{pink}{O}))-[:-60, 1.0]?(-[:-90,0.5]OH)}
\definesubmol{phosphate}{-[6,.6]O-[6,1.5]P(-[4,.8]HO)(=[6,0.8]O)-[,1.5]O}
\newcommand*\derivesubmol[4]{%
    \saveexpandmode\saveexploremode\expandarg\exploregroups
    \csname @\ifcat\relax\noexpand#2first\else second\fi oftwo\endcsname
        {\expandafter\StrSubstitute\@car#2\@nil}
        {\expandafter\StrSubstitute\csname CF@@#2\endcsname}
    {\@empty#3}{\@empty#4}[\temp@]%
    \csname @\ifcat\relax\noexpand#1first\else second\fi oftwo\endcsname
        {\expandafter\let\@car#1\@nil}
        {\expandafter\let\csname CF@@#1\endcsname}\temp@
    \restoreexpandmode\restoreexploremode
}
\definesubmol{rt1}{-[2]rt1}
\definesubmol{rt2}{-[6,.6]rt2}
\definesubmol{rt3}{-[6,.6]rt3}
\definesubmol{ribose2}{%
    H\textcolor{pink}{O}-[:0,0.8]-[:-90,0.8]%
        (%
            -[:25,1.176]\textcolor{red}{O}%
            -[:-25,1.176]%
        )%
    -[:-45,0.8]%
        (%
          (-[:-90,0.8]OH)-[0,,,,line width=1pt,shorten <=-.5pt,shorten >=-.5pt]%
              (!{rt2})%
          -[:45,0.8]%
              (!{rt1})%
         )%
}
\definesubmol{deoxyribose2}{%
    H\textcolor{pink}{O}-[:0,0.8]-[:-90,0.8]%
        (%
            -[:25,1.176]\textcolor{red}{O}%
            -[:-25,1.176]%
        )%
    -[:-45,0.8]%
        (%
          (-[:-90,0.8]OH)-[0,,,,line width=1pt,shorten <=-.5pt,shorten >=-.5pt]%
              ()%
          -[:45,0.8]%
              (!{rt1})%
         )%
}
%\derivesubmol{deoxyribose2}{ribose2}{(!{rt2})}{   }
\definesubmol{deoxyribosephosphate}{%
    P(-[:-90,0.8]OH)(-[:90,0.8]OH)(=[:180,0.8]O)-\textcolor{pink}{O}-[:0,0.8]-[:-90,0.8]%
        (%
            -[:25,1.176]\textcolor{red}{O}%
            -[:-25,1.176]%
        )%
    -[:-45,0.8]%
        (%
          (-[:-90,0.8]OH)-[0,,,,,shorten <=-.5pt,shorten >=-.5pt]%
          -[:45,0.8]%
              (!{rt1})%
         )%
}
\definesubmol{ribosephosphate}{%
    P(-[:-90,0.8]OH)(-[:90,0.8]OH)(=[:180,0.8]O)-\textcolor{pink}{O}-[:0,0.8]-[:-90,0.8]%
        (%
            -[:25,1.176]\textcolor{red}{O}%
            -[:-25,1.176]%
        )%
    -[:-45,0.8]%
        (%
          (-[:-90,0.8]OH)-[0,,,,,shorten <=-.5pt,shorten >=-.5pt]%
          (-[:-90,0.8]OH)-[:45,0.8]%
              (!{rt1})%
         )%
}
%%%%% DNA



%%%% AMINO ACIDS
%chemical symbols
\newcommand{\glycine}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3} N^{+})([:-90]-H)([:90]-H)}}
%\newcommand{\proline}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:-90]-H)*5([:135]-CH_2-CH_2-H_2C-H_{2} N^{+}-)}}
\newcommand{\alanine}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:90]-CH_{3})([:-90]-H)}}
\newcommand{\valin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3} N^{+})([:90]-CH([:120]-CH_{3})([:60]-CH_{3}))([:-90]-H)}}
\newcommand{\leucin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-CH([:120]-CH_{3})([:60]-CH_{3})))}}
\newcommand{\isoleucin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH ([:90]-CH_{2}([:90]-CH_3))
    ([:180]-H_{3}C))}}
\newcommand{\methionin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-CH_{2}([:90]-S ([:90]-CH_{3}))))}}
\newcommand{\phenylalanin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-*6(-=-=-=)))}}
\newcommand{\tryptophan}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-([:60]*6(?=-NH-*6([:120]-=-=-)=?))))}}
\newcommand{\serin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-OH))}}
\newcommand{\threonin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-CH([:120]-OH)([:60]-CH_{3})))}}
\newcommand{\cystein}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-CH_{2}([:90]-SH)))}}
\newcommand{\tyrosin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-*6(-=-([:90]-OH)=-=)))}}
\newcommand{\asparagin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-C([:120]-NH_{2})([:60]=O)))}}
\newcommand{\glutamin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-CH_{2}([:90]-C([:120]-NH_{2})([:60]=O))))}}
\newcommand{\asparaginacid}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-C([:120]-O^{-})([:60]=O)))}}
\newcommand{\glutaminacid}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-CH_{2}([:90]-C([:120]-O^{-})([:60]=O))))}}
\newcommand{\lysin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-CH_{2}([:90]-CH_{2}([:90]-CH_{2}([:90]-NH_{3}^{+})))))}}
\newcommand{\arginin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}
    N^{+})([:-90]-H)([:90]-CH_{2}([:90]-CH_{2}([:90]-CH_{2}([:90]-NH([:90]-C([:90]-NH_{2})([:0]=NH_2^{+}))))))}}
%\newcommand{\histidin}{\footnotesize\chemfig{C([:0]-C(=[:30]O)(-[:-30]O^{-}))([:180]-H_{3}N^{+})([:-90]-H)([:90]-CH_{2}([:90]-([:60]*5(-NH-=NH^{+}-=))))}}

\newcommand{\proline}{\footnotesize
\chemfig{
  H-[2]
  C
  (-C(=[:45]O)(-[:-45]O|^{-}))
 *5([:135]-C|H_2-\chemabove{C}{H\mathrlap{_2}}-H_2|C-[,,,2]H_{2}|\chemabove{N}{\quad\scriptstyle+}-)
}
}

\newcommand{\histidin}{\footnotesize
\chemfig{
  H_{3}\chemabove{N}{\quad\scriptstyle+}-
  C
   ([:-90]-H)
   ([:90]
     -CH_{2}-
     ([:90]*5(-NH-[,,1]=\chemabove{\chemabove{N}{H}}{\hskip1.5em\scriptstyle+}-=))
   )
  -C(=[:45]O)(-[:-45]O|^{-})
}
}



% BRACET LIPID
\usetikzlibrary{decorations.pathreplacing}
\tikzset{brace/.style = { decorate, decoration={brace, amplitude=5pt} },}
% BRACET LIPID

%%%LIPIDS DISGRAMS
\@namedef{color@1}{red!40}
\@namedef{color@2}{green!40}   
\@namedef{color@3}{blue!40} 
\@namedef{color@4}{cyan!40}  
\@namedef{color@5}{magenta!40} 
\@namedef{color@6}{yellow!40}    

\newcommand{\graphitemize}[2]{%
\begin{tikzpicture}[every node/.style={align=center}]  
  \node[minimum size=4cm,circle,fill=gray!40,font=\Large,outer sep =.25cm,inner sep=.5cm](ce){#1};  
\foreach \gritem [count=\xi] in {#2}  {\global\let\maxgritem\xi}  

\foreach \gritem [count=\xi] in {#2}
{% 
\pgfmathtruncatemacro{\angle}{360/\maxgritem*\xi}
\edef\col{\@nameuse{color@\xi}}
\node[circle,
     ultra thick,
     draw=white,
     fill opacity=.5,
     fill=\col,outer sep=0.25cm,        
     minimum size=2cm] (satellite-\xi) at (\angle:5cm) {\gritem };
     \draw[line width=0.5cm,->,\col] (ce) -- (satellite-\xi);
     }%
\end{tikzpicture}  
}%




%%%% CHECKBOX
\usepackage{amssymb,tikz,pdftexcmds,xparse}
\tikzset{box/.style={
    minimum size=0.225cm,
    inner sep=0pt,
    draw,
  },  
  insert mark/.style={
    append after command={%
         node[inner sep=0pt,#1]
           at (\tikzlastnode.center){$\checkmark$}
     }     
  },
  insert bad mark/.style={
    append after command={%
         [shorten <=\pgflinewidth,shorten >=\pgflinewidth]
         (\tikzlastnode.north west)edge[#1](\tikzlastnode.south east)
         (\tikzlastnode.south west)edge[#1](\tikzlastnode.north east)
     }     
  },
}
\makeatletter
\NewDocumentCommand{\tikzcheckmark}{O{} m}{%
  \ifnum\pdf@strcmp{#2}{mark}=\z@%
    \tikz[baseline=-0.5ex]\node[box,insert mark={#1},#1]{};%
  \fi%
  \ifnum\pdf@strcmp{#2}{bad mark}=\z@%
    \tikz[baseline=-0.5ex]\node[box,insert bad mark={#1},#1]{};%
  \fi%
  \ifnum\pdf@strcmp{#2}{no mark}=\z@%
    \tikz[baseline=-0.5ex]\node[box,#1]{};%
  \fi%
}
\makeatother
%%%%CHECKBOX



\definecolor{mybrown}{RGB}{128,64,0}
\usepackage{everypage}%%% SIDEBAR ON PAGES
\usepackage{scrlayer}
\DeclareNewLayer[
  background,
  outermargin,
  addhoffset=\marginparsep,
  contents={\color{gray!50}\rule{\layerwidth}{\layerheight}}
]{sidebar.bg}
\makeatletter
\DeclareNewLayer[
  clone=sidebar.bg,
  addhoffset=1em,
  addwidth=-1em,
  contents={\parbox[b][\layerheight]{\layerwidth}{\raggedright\@sidebar}}
]{sidebar.txt}
\newcommand\@sidebar{}
\newcommand\sidebar[1]{\renewcommand\@sidebar{#1}}
\makeatother
\DeclareNewPageStyleByLayers{sidebar}{sidebar.bg,sidebar.txt}%%% SIDEBAR ON PAGES
\usepackage{makecell}




\definecolor{TableBorder}{rgb}{0.0078,0.6824,0.7882}

\definecolor{TableEven}{rgb}{0.8000,0.9216,0.9490}

\definecolor{TableOdd}{rgb}{1,1,1}

\DeclareDocumentCommand\newstep{o}{%
\item\IfNoValueTF{#1}{}{#1 \textendash\xspace}}
\newlist{steps}{enumerate}{1}
\setlist[steps]{label={} \textit{Step \arabic*:},leftmargin=*}

\newwrite\tempfile
\makeatletter
\DeclareDocumentCommand \sidenote {m O{Pbardefault} O{Plightdefault}} {%
\stepcounter{localsidenotecounter}%
\hyperlink{sidenote\arabic{localsidenotecounter}}{${}^\textrm{\footnotesize\arabic{localsidenotecounter}}$}%
\immediate\write\tempfile%
{%
\noexpand\Pnotebox{#2}{#3}{%
\noexpand\footnotesize \noexpand{\noexpand\hypertarget{sidenote\arabic{localsidenotecounter}}{${}^{\arabic{localsidenotecounter}}$} \unexpanded{#1 }}%
}}}
\makeatother
\usepackage{array,multirow,graphicx}


%Numbers in circle
\newcommand{\mycircled}[1]{%
 \begin{tikzpicture}[baseline={(char.base)}]
   \node (char) {#1};
   \node[draw,circle,minimum size=16pt,inner sep=0pt,overlay] (char.center){};
 \end{tikzpicture}
 }
%Numbers in circle



%nucleotides

\derivesubmol{deoxyadenosine}{deoxyribose2}{!{rt1}}{-[2,1.0]!{adenine2}}
\derivesubmol{deoxythymidine}{deoxyribose2}{!{rt1}}{-[2,1.0]!{thymine2}}
\derivesubmol{deoxyuridine}{deoxyribose2}{!{rt1}}{-[2,1.0]!{uracil2}}
\derivesubmol{deoxyguaninephosphate}{deoxyribosephosphate}{!{rt1}}{-[2,1.0]!{guanine2}}
\derivesubmol{deoxyuridinephosphate}{deoxyribosephosphate}{!{rt1}}{-[2,1.0]!{uracil2}}
\derivesubmol{thyminephosphate}{ribosephosphate}{!{rt1}}{-[2,1.0]!{thymine2}}
\derivesubmol{cytosinephosphate}{ribosephosphate}{!{rt1}}{-[2,1.0]!{cytosine2}}
\derivesubmol{deoxyadenosinephosphate}{deoxyribosephosphate}{!{rt1}}{-[2,1.0]!{adenine2}}



%% CIRCLE LEWIS
\newcommand*\circleatom[1]{\tikz\node[circle, fill=green!30]{\printatom{#1}};}
%% CIRCLE LEWIS

%%% ORBITAL DIAGRAMS
\usepackage{tcolorbox}% no need in this mwe
\usepackage[font=small]{caption}% no need in this mwe
\usepackage{float}% no need in this mwe
\usepackage{floatflt}% no need in this mwe
\usepackage{tikz}
%\usepackage{tikzorbital}\savesymbol{orbital}

\usetikzlibrary{fadings,patterns,backgrounds,fit,arrows}
\pgfdeclarelayer{backbackground}
\pgfsetlayers{backbackground,background,main}
\usepackage{amssymb} % for harpoons
\newcommand{\electron}[2]{{%
        \newcommand*\up{\fbox{$\mathord\upharpoonleft\phantom{\downharpoonright}$}}%
        \newcommand*\dwn{\fbox{$\mathord\downharpoonleft\phantom{\upharpoonright}$}}%
        \newcommand*\updwn{\fbox{$\upharpoonleft\downharpoonright$}}%
        \newcommand*\emp{\fbox{$\phantom{\downharpoonright}\phantom{\downharpoonright}$}}%
        \setlength\tabcolsep{0pt}% remove extra horizontal space from tabular
        \begin{tabular}{c}#2\\[2pt]#1\end{tabular}}}%
%%% ORBITAL DIAGRAMS

%%%%EXAMPLE BOX
\definecolor{mybrown}{RGB}{128,64,0}
\mdfdefinestyle{mystyle}{%
linecolor=black,outerlinewidth=1pt,%
frametitlerule=true,frametitlefont=\sffamily\bfseries\color{white},%
frametitlerulewidth=1pt,frametitlerulecolor=black,%
frametitlebackgroundcolor=black,
backgroundcolor=mybrown!05,
innertopmargin=\topskip,
roundcorner=5pt
}
\mdtheorem[style=mystyle]{example}{Example}

\gdef\Sepline{%
  \par\noindent\makebox[\linewidth][l]{%
  \hspace*{-\mdflength{innerleftmargin}}%
   \tikz\draw[thick,dashed,gray!60] (0,0) --%
        (\textwidth+\the\mdflength{innerleftmargin}+\the\mdflength{innerrightmargin},0);
  }\par\nobreak}
%%%%EXAMPLE BOX

\definecolor{tableShade}{gray}{0.9}


\definecolor{bidentitlebg}{RGB}{158,59,255}%YOUR TUBE
\newtcolorbox{ridentidad}[1][]{
  enhanced,
  frame code={
    \fill[draw=white,top color=white,bottom color=blue!60]
      ([xshift=-20pt]title.north west) --
      (title.south west) --
      (title.south east) --
      ([xshift=20pt]title.north east) -- cycle;
    \draw[blue,line width=0.4mm,rounded corners]
      (frame.north west) --
      (frame.south west) --
      ([xshift=-20pt]title.north west) --
      (title.south west) --
      (title.south east) --
      ([xshift=20pt]title.north east) --
      (frame.south east) --
      (frame.north east);
  },
  coltitle=blue!75!black,
  colback=white,
  attach boxed title to bottom center,
  boxed title style={empty},
  fonttitle=\bfseries\sffamily,
  title=\strut Visual,
  #1,
}%YOUR TUBE










%%%%% COLOR TABLE
\usepackage{environ}
\usepackage{longtable}
\newcommand*\rot{\rotatebox{90}}
%\usepackage{chemfig}
\def\Z{  0 & 0 & 12 & Working with leaflets & Claudio Fiandrino\\}
\def\ZZ{\Z\Z\Z\Z}\def\ZZZ{\ZZ\ZZ\ZZ\ZZ}\def\ZZZZ{\ZZZ\ZZZ\ZZZ\ZZZ}

% some stuff common to short and long tables
\definecolor{tablecolor}{named}{ForestGreen}
\newcommand{\header}[1]{%
  \multicolumn{1}{c}{%
    \cellcolor{tablecolor}\color{white}\bfseries#1}}
\newcommand{\rndtablesetup}{%
  \addtolength{\extrarowheight}{1ex}%
  \rowcolors{2}{tablecolor!20}{tablecolor!40}%
  \sffamily}

% styles for the clipping/internal nodes
\tikzset{
  myclip/.style={rounded corners=1ex},
  mynode/.style={anchor=south west,inner sep=0pt,outer sep=0pt},
  mybord/.style={myclip,very thick,tablecolor},
}

% the short table (provided)
\newsavebox{\tablebox}
\NewEnviron{rndtable}[1]{%
  \rndtablesetup%
  \savebox{\tablebox}{%
    \begin{tabular}{#1}%
      \BODY%
    \end{tabular}}%
  \begin{tikzpicture}
    \clip[myclip] (0,-\dp\tablebox) -- (\wd\tablebox,-\dp\tablebox) --
      (\wd\tablebox,\ht\tablebox) -- (0,\ht\tablebox) -- cycle;
    \node[mynode] at (0,-\dp\tablebox) {\usebox{\tablebox}};
    \draw[mybord] (0,-\dp\tablebox) -- (\wd\tablebox,-\dp\tablebox) --
      (\wd\tablebox,\ht\tablebox) -- (0,\ht\tablebox) -- cycle;
  \end{tikzpicture}}

% round top
\newcommand{\roundtop}[1]{%
  \begin{tikzpicture}
    \clip[myclip] (0,0) |- (\wd#1,\ht#1+\dp#1) -- (\wd#1,0);
    \draw[mybord] (0,0) |- (\wd#1,\ht#1+\dp#1) -- (\wd#1,0);
    \node[mynode] at (0,0) {\box#1};
  \end{tikzpicture}}

% round bottom
\newcommand{\roundbot}[1]{%
  \begin{tikzpicture}
    \clip[myclip] (0,0) |- (\wd#1,-\ht#1+\dp#1) -- (\wd#1,0);
    \draw[mybord] (0,0) |- (\wd#1,-\ht#1+\dp#1) -- (\wd#1,0);
    \node[mynode] at (0,0) {\box#1};
  \end{tikzpicture}}

% frame midsections
\newcommand{\framemid}[1]{%
  \begin{tikzpicture}
    \draw[mybord] (0,0) -- (0,\ht#1+\dp#1) (\wd#1,0) -- (\wd#1,\ht#1+\dp#1);
    \node[mynode] at (0,0) {\box#1};
  \end{tikzpicture}}




\usepackage{tcolorbox}% no need in this mwe
\usepackage[font=small]{caption}% no need in this mwe
\usepackage{float}% no need in this mwe
\usepackage{floatflt}% no need in this mwe
\usepackage{tikz}
%\usepackage{tikzorbital}
\usetikzlibrary{fadings,patterns,backgrounds,fit,arrows}
\pgfdeclarelayer{backbackground}
\pgfsetlayers{backbackground,background,main}




\usepackage{adjustbox}


%%%%%%%%%%%%%%%%%%%LIGHT SPECTRUM
\usepackage{siunitx} % SI-units
\usepackage{pgfplots}
\usepgfplotslibrary{units} % to add units easily to axis
\usepgfplotslibrary{fillbetween} % to fill inbetween curves
\usepgfplotslibrary{colormaps} % to create colormaps
\pgfplotsset{width=12.2cm, height=7cm}
\pgfplotsset{compat=newest} %(making it only compatalbe with
%new releases of pgfplots)
\pgfdeclarehorizontalshading{visiblelight}{50bp}{
color(0.00000000000000bp)=(violet);
color(8.33333333333333bp)=(blue);
color(16.66666666666670bp)=(cyan);
color(25.00000000000000bp)=(green);
color(33.33333333333330bp)=(yellow);
color(41.66666666666670bp)=(orange);
color(50.00000000000000bp)=(red)
}%
%%%%%%%%%%%%%%%%%%%LIGHT SPECTRUM

\usetikzlibrary{shapes.geometric}
\usetikzlibrary{arrows,decorations.pathmorphing}
\usepackage{modiagram}
\usetikzlibrary{decorations.markings} 

\definecolor{myyellow}{RGB}{254,241,24}
\definecolor{myorange}{RGB}{234,125,1}
\usepackage{tikz}
\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{arrows}
\usepackage{nicefrac}
\usepackage[switch, modulo]{lineno}

\usetikzlibrary{chains,matrix}

\newcommand{\moup}{$\uparrow$}
\newcommand{\modown}{$\downarrow$}
\newcommand{\moupdown}{$\uparrow\,\downarrow$}



% Style to set TikZ camera angle, like PGFPlots `view`
\tikzset{viewport/.style 2 args={
    x={({cos(-#1)*1cm},{sin(-#1)*sin(#2)*1cm})},
    y={({-sin(-#1)*1cm},{cos(-#1)*sin(#2)*1cm})},
    z={(0,{cos(#2)*1cm})}
}}

% Styles to plot only points that are before or behind the sphere.
\pgfplotsset{only foreground/.style={
    restrict expr to domain={rawx*\CameraX + rawy*\CameraY + rawz*\CameraZ}{-0.05:100},
}}
\pgfplotsset{only background/.style={
    restrict expr to domain={rawx*\CameraX + rawy*\CameraY + rawz*\CameraZ}{-100:0.05}
}}

% Automatically plot transparent lines in background and solid lines in foreground
\def\addFGBGplot[#1]#2;{
    %\addplot3[#1,only background, opacity=0.25] #2;
    \addplot3[#1,only foreground] #2;
}

\newcommand{\ViewAzimuth}{-20}
\newcommand{\ViewElevation}{30}

\pgfmathsetmacro{\CameraX}{sin(\ViewAzimuth)*cos(\ViewElevation)}
\pgfmathsetmacro{\CameraY}{-cos(\ViewAzimuth)*cos(\ViewElevation)}
\pgfmathsetmacro{\CameraZ}{sin(\ViewElevation)}
\newsavebox\mononut
\sbox\mononut{
\begin{tikzpicture}
    % Compute camera unit vector for calculating depth
    \begin{scope}
      \draw[thin,blue!50] (0,0) circle (1);
      \begin{axis}[
            hide axis,
            view={\ViewAzimuth}{\ViewElevation},     % Set view angle
            disabledatascaling,                      % Align PGFPlots coordinates with TikZ
            anchor=origin,                           % Align PGFPlots coordinates with TikZ
            viewport={\ViewAzimuth}{\ViewElevation}, % Align PGFPlots coordinates with TikZ
        ]
        % Plot equator and two longitude lines with occlusion
        \pgfplotsinvokeforeach{30,60,...,150}{
        \addFGBGplot[blue!50,thick,domain=0:2*pi, samples=100, samples y=1] 
        ({cos(deg(x))*sin(#1)}, {sin(deg(x))*sin(#1)}, {cos(#1)});
        }
        %\addFGBGplot[domain=0:2*pi, samples=100, samples y=1] (0, {sin(deg(x))}, {cos(deg(x))});
        \pgfplotsinvokeforeach{90,125,160}{
        \addFGBGplot[blue!50,thick,domain=0:2*pi, samples=100, samples y=1]
        ({sin(deg(x))*sin(#1)},{cos(#1)}, {cos(deg(x))*sin(#1)});}
      \end{axis}
    \end{scope}
\end{tikzpicture}
}
\newsavebox\mononutdashed
\sbox\mononutdashed{
\begin{tikzpicture}
    % Compute camera unit vector for calculating depth
    \begin{scope}
      \draw[thin,blue!50,dashed] (0,0) circle (1);
      \begin{axis}[
            hide axis,
            view={\ViewAzimuth}{\ViewElevation},     % Set view angle
            disabledatascaling,                      % Align PGFPlots coordinates with TikZ
            anchor=origin,                           % Align PGFPlots coordinates with TikZ
            viewport={\ViewAzimuth}{\ViewElevation}, % Align PGFPlots coordinates with TikZ
        ]
        % Plot equator and two longitude lines with occlusion
        \pgfplotsinvokeforeach{30,60,...,150}{
        \addFGBGplot[blue!50,dashed,thick,domain=0:2*pi, samples=100, samples y=1] 
        ({cos(deg(x))*sin(#1)}, {sin(deg(x))*sin(#1)}, {cos(#1)});
        }
        %\addFGBGplot[domain=0:2*pi, samples=100, samples y=1] (0, {sin(deg(x))}, {cos(deg(x))});
        \pgfplotsinvokeforeach{90,125,160}{
        \addFGBGplot[blue!50,dashed,thick,domain=0:2*pi, samples=100, samples y=1]
        ({sin(deg(x))*sin(#1)},{cos(#1)}, {cos(deg(x))*sin(#1)});}
      \end{axis}
    \end{scope}
\end{tikzpicture}
}
\newsavebox\peanut
\sbox\peanut{
\begin{tikzpicture}
    \begin{scope}
      \draw[thin,blue!50] (45:1) arc(45:315:1);
      \clip (45:1) arc(45:315:1);
      \begin{axis}[
            hide axis,
            view={\ViewAzimuth}{\ViewElevation},     % Set view angle
            disabledatascaling,                      % Align PGFPlots coordinates with TikZ
            anchor=origin,                           % Align PGFPlots coordinates with TikZ
            viewport={\ViewAzimuth}{\ViewElevation}, % Align PGFPlots coordinates with TikZ
        ]
        % Plot equator and two longitude lines with occlusion
        \pgfplotsinvokeforeach{30,60,...,150}{
        \addFGBGplot[blue!50,thick,domain=0:2*pi, samples=100, samples y=1] 
        ({cos(deg(x))*sin(#1)}, {sin(deg(x))*sin(#1)}, {cos(#1)});
        }
        %\addFGBGplot[domain=0:2*pi, samples=100, samples y=1] (0, {sin(deg(x))}, {cos(deg(x))});
        \pgfplotsinvokeforeach{90,125,160}{
        \addFGBGplot[blue!50,thick,domain=0:2*pi, samples=100, samples y=1]
        ({sin(deg(x))*sin(#1)},{cos(#1)}, {cos(deg(x))*sin(#1)});}
      \end{axis}
    \end{scope}
    \begin{scope}[xshift={1.4cm}]
      \draw[thin,blue!50] (225:1) arc(225:225+270:1);
      \clip (225:1) arc(225:225+270:1);
      \begin{axis}[
            hide axis,
            view={\ViewAzimuth}{\ViewElevation},     % Set view angle
            disabledatascaling,                      % Align PGFPlots coordinates with TikZ
            anchor=origin,                           % Align PGFPlots coordinates with TikZ
            viewport={\ViewAzimuth}{\ViewElevation}, % Align PGFPlots coordinates with TikZ
        ]
        % Plot equator and two longitude lines with occlusion
        \pgfplotsinvokeforeach{30,60,...,150}{
        \addFGBGplot[blue!50,thick,domain=0:2*pi, samples=100, samples y=1] 
        ({cos(deg(x))*sin(#1)}, {sin(deg(x))*sin(#1)}, {cos(#1)});
        }
        %\addFGBGplot[domain=0:2*pi, samples=100, samples y=1] (0, {sin(deg(x))}, {cos(deg(x))});
        \pgfplotsinvokeforeach{95,125,160}{
        \addFGBGplot[blue!50,thick,domain=0:2*pi, samples=100, samples y=1]
        ({sin(deg(x))*sin(#1)},{cos(#1)}, {cos(deg(x))*sin(#1)});}
      \end{axis}
    \end{scope}
\end{tikzpicture}
}
\newsavebox\peanutdashed
\sbox\peanutdashed{
\begin{tikzpicture}
    \begin{scope}
      \draw[thin,blue!50,dashed] (45:1) arc(45:315:1);
      \clip (45:1) arc(45:315:1);
      \begin{axis}[
            hide axis,
            view={\ViewAzimuth}{\ViewElevation},     % Set view angle
            disabledatascaling,                      % Align PGFPlots coordinates with TikZ
            anchor=origin,                           % Align PGFPlots coordinates with TikZ
            viewport={\ViewAzimuth}{\ViewElevation}, % Align PGFPlots coordinates with TikZ
        ]
        % Plot equator and two longitude lines with occlusion
        \pgfplotsinvokeforeach{30,60,...,150}{
        \addFGBGplot[blue!50,dashed,thick,domain=0:2*pi, samples=100, samples y=1] 
        ({cos(deg(x))*sin(#1)}, {sin(deg(x))*sin(#1)}, {cos(#1)});
        }
        %\addFGBGplot[domain=0:2*pi, samples=100, samples y=1] (0, {sin(deg(x))}, {cos(deg(x))});
        \pgfplotsinvokeforeach{90,125,160}{
        \addFGBGplot[blue!50,dashed,thick,domain=0:2*pi, samples=100, samples y=1]
        ({sin(deg(x))*sin(#1)},{cos(#1)}, {cos(deg(x))*sin(#1)});}
      \end{axis}
    \end{scope}
    \begin{scope}[xshift={1.4cm}]
      \draw[thin,blue!50,dashed] (225:1) arc(225:225+270:1);
      \clip (225:1) arc(225:225+270:1);
      \begin{axis}[
            hide axis,
            view={\ViewAzimuth}{\ViewElevation},     % Set view angle
            disabledatascaling,                      % Align PGFPlots coordinates with TikZ
            anchor=origin,                           % Align PGFPlots coordinates with TikZ
            viewport={\ViewAzimuth}{\ViewElevation}, % Align PGFPlots coordinates with TikZ
        ]
        % Plot equator and two longitude lines with occlusion
        \pgfplotsinvokeforeach{30,60,...,150}{
        \addFGBGplot[blue!50,dashed,thick,domain=0:2*pi, samples=100, samples y=1] 
        ({cos(deg(x))*sin(#1)}, {sin(deg(x))*sin(#1)}, {cos(#1)});
        }
        %\addFGBGplot[domain=0:2*pi, samples=100, samples y=1] (0, {sin(deg(x))}, {cos(deg(x))});
        \pgfplotsinvokeforeach{95,125,160}{
        \addFGBGplot[blue!50,dashed,thick,domain=0:2*pi, samples=100, samples y=1]
        ({sin(deg(x))*sin(#1)},{cos(#1)}, {cos(deg(x))*sin(#1)});}
      \end{axis}
    \end{scope}
\end{tikzpicture}
}



\usepackage{tikz,tikz-3dplot}

\definecolor{color1}{RGB}{ 86, 180, 233} % Skyblue
\definecolor{color2}{RGB}{230, 159,   0} % Orange


%%%%%%%%PHASE DIAGRAM
\usepgfplotslibrary{fillbetween}
\tikzset{vcol/.code={\colorlet{vcol}{#1}},hcol/.code={\colorlet{hcol}{#1}},vcol=red,hcol=blue}
\pgfdeclarefunctionalshading[vcol,hcol]{azimuth}{\pgfpointorigin}%
{\pgfpoint{50bp}{50bp}}%
{%
\pgfshadecolortorgb{vcol}{\mycola}%
\pgfshadecolortorgb{hcol}{\mycolb}
}{%
atan 90 div dup dup 
\mycolablue \mycolbblue sub mul \mycolablue exch sub 3 1 roll
\mycolagreen \mycolbgreen sub mul \mycolagreen exch sub exch 
\mycolared \mycolbred sub mul \mycolared exch sub 3 1 roll exch 
}%%%%%%%%PHASE DIAGRAM
\usepackage{spath}
\usetikzlibrary{fadings}

\usetikzlibrary{shapes}


\usetikzlibrary{calc}
\usepackage{nicefrac}


\tikzfading[name=fade inside,
inner color=transparent!0,
outer color=transparent!0] 


\usepgfplotslibrary{fillbetween}

\tikzset{vcol/.code={\colorlet{vcol}{#1}},hcol/.code={\colorlet{hcol}{#1}},vcol=red,hcol=blue}
\pgfdeclarefunctionalshading[vcol,hcol]{azimuth}{\pgfpointorigin}%
{\pgfpoint{50bp}{50bp}}%
{%
\pgfshadecolortorgb{vcol}{\mycola}%
\pgfshadecolortorgb{hcol}{\mycolb}
}{%
atan 90 div dup dup 
\mycolablue \mycolbblue sub mul \mycolablue exch sub 3 1 roll
\mycolagreen \mycolbgreen sub mul \mycolagreen exch sub exch 
\mycolared \mycolbred sub mul \mycolared exch sub 3 1 roll exch 
}



%%%%%%%LARGE EXPONETIAL
\usepackage{scalerel}
\usepackage{amsmath}
\newlength\tempdimA
\newlength\tempdimB
\def\myexp#1{\setbox0=\hbox{$\strut#1$}\tempdimA=\dimexpr\ht0+\dp0\relax%
  \tempdimB=\dimexpr.45\ht0+\dp0\relax%
  \scaleto{e}{.666\tempdimA}% THE e WILL BE .666 THE HEIGHT+DEPTH OF THE EXPONENT
  \raisebox{\tempdimB}{\box0}}
%%%%%%%LARGE EXPONETIAL

\newcolumntype{L}{>{\raggedright\arraybackslash}X}
\newcommand\Cancel[1]{\cancel{\ce{#1}}}
\usepackage{chemmacros}
\usechemmodule{redox,reactions}
\restoresymbol{tikz}{orbital}
\restoresymbol{chem}{orbital}

%%%%COVER DESIGN
\usetikzlibrary{lindenmayersystems}
\usetikzlibrary[shadings]
\usepackage{emerald}% for 1-4

\usepackage{titlesec}
\usepackage{textpos}

\DeclareFixedFont{\chapternumberfont}{T1}{ppl}{}{}{1.5in}
\titleformat{name=\subsection, numberless}[display]{\Huge\bfseries\sffamily\color{white}}{
%\thispagestyle{empty}
\begin{tikzpicture}[overlay, remember picture]
        \path let \p1 = (current page.west), \p2 = (current page.east) in
              node[minimum width=\x2-\x1, minimum height=5cm, rectangle, fill=cyan, anchor=north west, align=left, text width=\x2-\x1] at ($(current page.north west)$) {
                \begin{textblock*}{5in}(\dimexpr\x2-4.5in,\dimexpr0.25\headheight-1in)
                    \tikz \node [white,text width=2in, align=right, font=\sffamily] {{\normalsize DIGITAL MEDIA PRIMER}\\[12pt] \raisebox{50pt}{{\large \chaptertitlename}} \raisebox{-12pt}{\chapternumberfont \thechapter}};
                \end{textblock*}
              };
        \path let \p1 = (current page.west), \p2 = (current page.east) in
              node[minimum width=\x2-\x1, minimum height=0.8in, rectangle, fill=cyan!50, anchor=south west, align=left, text width=\x2-\x1] at ($(current page.south west)$) {};
\end{tikzpicture}
}{-1.75in}{}[\vspace*{1in}]

\definecolor{gmitblue}{RGB}{93,138,168}
\definecolor{gmitred}{RGB}{241, 148, 138}

%%%%%%%%%%PAGE STYLE FOR THE READER
\fancypagestyle{style1}{
\fancyhf{}
\fancyhead[C]{%
\begin{tikzpicture}[overlay, remember picture]%
    \fill[gmitblue] (current page.north west) rectangle ($(current page.north east)+(0,-1in)$);
    \node[anchor=north west, text=white, font=\Large\scshape, minimum size=1in, inner xsep=5mm] at (current page.north west) {\hspace{1cm} \Huge To The Reader};
%    \node[anchor=north east, minimum size=1in, inner xsep=5mm] at (current page.north east) {\includegraphics[scale=.1]{example-image-a}};
      %node[minimum width=\x2-\x1, minimum height=2cm, draw, rectangle, fill=blue!20, anchor=north west, align=left, text width=\x2-\x1] at ($(current page.north west)$) {\Large\bfseries \quad #1};
\end{tikzpicture}
}
\fancyfoot[CE]{
    \begin{tikzpicture}[overlay, remember picture]%
    \fill[gmitblue] (current page.south west) rectangle ($(current page.south east)+(0,.5in)$);
    \node[anchor=south west, text=white, font=\Large, minimum size=.5in] at (current page.south west) {\thepage};
%    \node[anchor=south, text=white, font=\large, minimum size=.5in] at (current page.south) {\leftmark};
    \node[anchor=south east, text=white, font=\large, minimum size=.5in, inner xsep=5mm] at (current page.south east) {\today};
\end{tikzpicture}
}
\fancyfoot[CO]{
    \begin{tikzpicture}[overlay, remember picture]%
    \fill[gmitblue] (current page.south west) rectangle ($(current page.south east)+(0,.5in)$);
    \node[anchor=south west, text=white, font=\large, minimum size=.5in, inner xsep=5mm] at (current page.south west) {\today};
%    \node[anchor=south, text=white, font=\large, minimum size=.5in] at (current page.south) {\leftmark};
    \node[anchor=south east, text=white, font=\Large, minimum size=.5in] at (current page.south east) {\thepage};
\end{tikzpicture}
\renewcommand{\headrulewidth}{0pt}% 2pt header rule
}
}
%%%%%%%%%%PAGE STYLE FOR THE READER









%%%%%%%%%%PAGE STYLE FOR THE ONLINE
\fancypagestyle{style3}{
\fancyhf{}
\fancyhead[C]{%
\begin{tikzpicture}[overlay, remember picture]%
    \fill[yellow] (current page.north west) rectangle ($(current page.north east)+(0,-1in)$);
    \node[anchor=north west, text=white, font=\Large\scshape, minimum size=1in, inner xsep=5mm] at (current page.north west) {\hspace{1cm} \Huge Studying Online};
%    \node[anchor=north east, minimum size=1in, inner xsep=5mm] at (current page.north east) {\includegraphics[scale=.1]{example-image-a}};
      %node[minimum width=\x2-\x1, minimum height=2cm, draw, rectangle, fill=blue!20, anchor=north west, align=left, text width=\x2-\x1] at ($(current page.north west)$) {\Large\bfseries \quad #1};
\end{tikzpicture}
}
\fancyfoot[CE]{
    \begin{tikzpicture}[overlay, remember picture]%
    \fill[yellow] (current page.south west) rectangle ($(current page.south east)+(0,.5in)$);
    \node[anchor=south west, text=white, font=\Large, minimum size=.5in] at (current page.south west) {\thepage};
%    \node[anchor=south, text=white, font=\large, minimum size=.5in] at (current page.south) {\leftmark};
    \node[anchor=south east, text=white, font=\large, minimum size=.5in, inner xsep=5mm] at (current page.south east) {\today};
\end{tikzpicture}
}
\fancyfoot[CO]{
    \begin{tikzpicture}[overlay, remember picture]%
    \fill[yellow] (current page.south west) rectangle ($(current page.south east)+(0,.5in)$);
    \node[anchor=south west, text=white, font=\large, minimum size=.5in, inner xsep=5mm] at (current page.south west) {\today};
%    \node[anchor=south, text=white, font=\large, minimum size=.5in] at (current page.south) {\leftmark};
    \node[anchor=south east, text=white, font=\Large, minimum size=.5in] at (current page.south east) {\thepage};
\end{tikzpicture}
\renewcommand{\headrulewidth}{0pt}% 2pt header rule
}
}
%%%%%%%%%%PAGE STYLE FOR THE ONLINE



%%%%%%%%%%PAGE STYLE FOR THE CALEDAR
\fancypagestyle{style2}{
\fancyhf{}
\fancyhead[C]{%
\begin{tikzpicture}[overlay, remember picture]%
    \fill[gmitred] (current page.north west) rectangle ($(current page.north east)+(0,-1in)$);
    \node[anchor=north west, text=white, font=\Large\scshape, minimum size=1in, inner xsep=5mm] at (current page.north west) {\hspace{1cm} \Huge Academic Calendar};
%    \node[anchor=north east, minimum size=1in, inner xsep=5mm] at (current page.north east) {\includegraphics[scale=.1]{example-image-a}};
      %node[minimum width=\x2-\x1, minimum height=2cm, draw, rectangle, fill=blue!20, anchor=north west, align=left, text width=\x2-\x1] at ($(current page.north west)$) {\Large\bfseries \quad #1};
\end{tikzpicture}
}
\fancyfoot[CE]{
    \begin{tikzpicture}[overlay, remember picture]%
    \fill[gmitred] (current page.south west) rectangle ($(current page.south east)+(0,.5in)$);
    \node[anchor=south west, text=white, font=\Large, minimum size=.5in] at (current page.south west) {\thepage};
%    \node[anchor=south, text=white, font=\large, minimum size=.5in] at (current page.south) {\leftmark};
    \node[anchor=south east, text=white, font=\large, minimum size=.5in, inner xsep=5mm] at (current page.south east) {\today};
\end{tikzpicture}
}
\fancyfoot[CO]{
    \begin{tikzpicture}[overlay, remember picture]%
    \fill[gmitred] (current page.south west) rectangle ($(current page.south east)+(0,.5in)$);
    \node[anchor=south west, text=white, font=\large, minimum size=.5in, inner xsep=5mm] at (current page.south west) { };
%    \node[anchor=south, text=white, font=\large, minimum size=.5in] at (current page.south) {\leftmark};
    \node[anchor=south east, text=white, font=\Large, minimum size=.5in] at (current page.south east) {\thepage};
\end{tikzpicture}
\renewcommand{\headrulewidth}{0pt}% 2pt header rule
}
}
%%%%%%%%%%PAGE STYLE FOR THE CALENDAR


%%%%%%%%%%PAGE STYLE FOR  REVIEW
\fancypagestyle{style4}{
\fancyhf{}
\fancyhead[C]{%
\begin{tikzpicture}[overlay, remember picture]%
    \fill[purple!40!gray] (current page.south west) rectangle ($(current page.south east)+(0,.5in)$);
    \fill[purple!40!gray] ($(current page.north east)+(-0.5in, 0)$)  rectangle (current page.south east);
    \node[anchor=east, text=white, font=\Large\scshape, minimum size=1in, inner xsep=15mm, rotate=90] at ( $(current page.north east)+(-0.25in, 0)$) {\hspace{1cm} \Huge Review-Quizz};
%    \node[anchor=north east, minimum size=1in, inner xsep=5mm] at (current page.north east) {\includegraphics[scale=.1]{example-image-a}};
      %node[minimum width=\x2-\x1, minimum height=2cm, draw, rectangle, fill=blue!20, anchor=north west, align=left, text width=\x2-\x1] at ($(current page.north west)$) {\Large\bfseries \quad #1};
\end{tikzpicture}
}

}
%%%%%%%%%%PAGE STYLE FOR REVIEW

%%%%%%%%%%PAGE STYLE FOR  PARTS
\fancypagestyle{style6}{
\fancyhf{}
\fancyhead[C]{%
\begin{tikzpicture}[overlay, remember picture]%
    \fill[purple!40!gray] (current page.south west) rectangle ($(current page.north east)+(0,.5in)$);
    \node[anchor=east, text=white, font=\Large\scshape, minimum size=1in, inner xsep=15mm, rotate=90] at ( $(current page.north east)+(-0.25in, 0)$) {\hspace{1cm} };
%    \node[anchor=north east, minimum size=1in, inner xsep=5mm] at (current page.north east) {\includegraphics[scale=.1]{example-image-a}};
      %node[minimum width=\x2-\x1, minimum height=2cm, draw, rectangle, fill=blue!20, anchor=north west, align=left, text width=\x2-\x1] at ($(current page.north west)$) {\Large\bfseries \quad #1};
\end{tikzpicture}
}

}
%%%%%%%%%%PAGE STYLE FOR  PARTS


%%%%%%%%%%PAGE STYLE FOR  REVIEW ENTRY PAGE
\fancypagestyle{style5}{
\fancyhf{}
\fancyhead[C]{%
\begin{tikzpicture}[overlay, remember picture]%
    \fill[cyan] (current page.south west) rectangle ($(current page.north east)+(0,.5in)$);
    \node[anchor=east, text=white, font=\Large\scshape, minimum size=1in, inner xsep=15mm, rotate=90] at ( $(current page.north east)+(-0.25in, 0)$) {\hspace{1cm} };
%    \node[anchor=north east, minimum size=1in, inner xsep=5mm] at (current page.north east) {\includegraphics[scale=.1]{example-image-a}};
      %node[minimum width=\x2-\x1, minimum height=2cm, draw, rectangle, fill=blue!20, anchor=north west, align=left, text width=\x2-\x1] at ($(current page.north west)$) {\Large\bfseries \quad #1};
\end{tikzpicture}
}

}
%%%%%%%%%%PAGE STYLE FOR  REVIEW ENTRY PAGE





\usepackage{enumitem,graphicx}% http://ctan.org/pkg/{enumitem,graphicx}
\definecolor{Red}{cmyk}{0,1,1,0}
\def\red{\color{Red}}
\definecolor{Blue}{cmyk}{1,1,0,0}
\def\blue{\color{Blue}}
\Huge
\usetikzlibrary{arrows,shapes}
\usetikzlibrary{positioning,calendar,er}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{shapes.geometric}
\usepackage{xifthen}

%\newcommand{\holidays}{\foreach \x in {01-06,04-04}
%{ \ifthenelse{equals = \i}{\node [draw,cloud] {};} {}   }
%}



\newcommand{\calrow}[1]{\node[anchor=base,xshift=0.5ex](seg){\textcolor{red}{M}}; % Shift first weekday
\node[base right=of seg, xshift=0.05cm](ter){\textcolor{red}{T}}; \node[base right=of ter, xshift=0.1cm](qua){\textcolor{red}{W}};
\node[base right=of qua, xshift=0.2cm](qui){\textcolor{red}{T}}; \node[base right=of qui, xshift=0.2cm](sex){\textcolor{red}{F}};
\node[base right=of sex, xshift=0.1cm](sab){\textcolor{red}{S}}; \node[base right=of sab, xshift=0.15cm](dom){\textcolor{red}{S}};
\node[black,above=of qui]{\textbf{#1}};}
\newcommand{\calperiod}[1]{\calendar[dates=\the\year-#1-01 to \the\year-#1-last,
  every day/.style={anchor=base}, % Center days
  day text={\%d=},rounded corners=0,anchor=base,text height=1ex,text depth=-0.5ex] % Make node placement easier
if(Sunday) [black] \holidays;}
\newcommand{\holidays}{
%if (equals=01-06) [black!50]%
if (equals=06-02,
      equals=06-09,
      equals=06-16,
      equals=06-23,
      equals=06-30,
      equals=07-07,
      equals=07-14,
      ) {\node [fill=blue!50,draw,diamond,  opacity=1] {};}
      if (equals=05-30,
      equals=06-06,
      equals=06-11,
      equals=06-13,
      equals=06-20,
      equals=06-25,
      equals=06-27,
      equals=07-11,
      ) {\node [fill=yellow,draw,star, opacity=1] {};}
      if (equals=06-04,
      equals=06-18,
            equals=07-02,
      equals=07-16,
      ) {\node [fill=red,draw,cloud,  opacity=1] {};}
      if (equals=07-16){\node [fill=green,draw,cloud,  opacity=1] {};}
      }

\colorlet{darkgreen}{green!50!black}


\newboolean{firstanswerofthechapter}  

\usepackage{xcolor}
\colorlet{lightcyan}{cyan!40!white}

\usepackage{chngcntr}
\usepackage{stackengine}

\usepackage{tasks}
\newlength{\longestlabel}
\settowidth{\longestlabel}{\bfseries viii.}
\settasks{counter-format={tsk[r].}, label-format={\bfseries}, label-width=\longestlabel,
    item-indent=0pt, label-offset=2pt, column-sep={10pt}}

\usepackage[lastexercise,answerdelayed]{exercise}
\counterwithin{Answer}{chapter}
\renewcounter{Exercise}[chapter]
\newcommand{\QuestionNB}{\bfseries\arabic{Question}.\ }
\renewcommand{\ExerciseName}{EXERCISES}
\renewcommand{\AnswerName}{Answers:}
\renewcommand{\AnswerHeader}{\ifthenelse{\boolean{firstanswerofthechapter}}{\bfseries\textcolor{black}{\AnswerName\ \ExerciseHeaderNB}}{\bfseries\textcolor{black}{\AnswerName\ \ExerciseHeaderNB}}}
\setlength{\QuestionIndent}{0pt}


\usepackage{tasks}
\AtBeginEnvironment{tasks}{\setstretch{.4}}

%%%%%%%%%FRUITS
\usepackage{xcolor-material}
\usetikzlibrary{fit}
\tikzset{%
   apple/.pic={
\fill [MaterialBrown] (-1/8,0) 
  arc (180:120:1 and 3/2) coordinate [pos=3/5] (@)-- ++(1/6,-1/7) 
  arc (120:180:5/4 and 3/2) -- cycle;
\fill [MaterialLightGreen500] (0,-9/10) 
  .. controls ++(180:1/8) and ++(  0:1/4) .. (-1/3,  -1)
  .. controls ++(180:1/3) and ++(270:1/2) .. (  -1,   0)
  .. controls ++( 90:1/3) and ++(180:1/3) .. (-1/2, 3/4)
  .. controls ++(  0:1/8) and ++(135:1/8) .. (   0, 4/7)
  .. controls ++( 45:1/8) and ++(180:1/8) .. ( 1/2, 3/4)
  .. controls ++(  0:1/3) and ++( 90:1/3) .. (   1,   0)
  .. controls ++(270:1/2) and ++(  0:1/3) .. ( 1/3,  -1)
  .. controls ++(180:1/4) and ++(  0:1/8) .. cycle;
\fill [MaterialLightGreen600] (0, 4/7)
  .. controls ++( 45:1/8) and ++(180:1/8) .. ( 1/2, 3/4)
  .. controls ++(  0:1/3) and ++( 90:1/3) .. (   1,   0)
  .. controls ++(270:1/2) and ++(  0:1/3) .. ( 1/3,  -1)
  .. controls ++(180:1/4) and ++(  0:1/8) .. (   0,-9/10);
\fill [MaterialGreen500, shift={(@)}, rotate=-30] 
  (0,0) arc (45:135:3/4 and 3/5) arc (225:315:3/4 and 3/5);
\fill [MaterialGreen700, shift={(@)}, rotate=-30] 
  (0,0) arc (315:225:3/4 and 3/5) -- cycle;
},
  orange/.pic={
\fill [MaterialOrange500] (0,0) circle [radius=1];
\fill [MaterialOrange600] (0,0) -- (45:1) arc (45:-135:1) -- cycle;
\fill [MaterialOrange700, shift={(0,3/4)}] coordinate (@)
ellipse [x radius=1/4, y radius=1/8];
\begin{scope}
\clip (0,0) circle [radius=1];
\fill [MaterialOrange700, shift=(@)] (90:1/4 and 1/8) 
  \foreach \i [evaluate={\j=mod(\i,2)+1/4;}]in {0,...,12}{
  -- (90+\i*30:\j*3/4 and \j*3/8) } -- cycle;
\end{scope}
\fill [MaterialBrown] (-1/16, 3/4) -- ++(0,1/4) arc (180:0:1/16 and 1/32)
   -- ++(0,-1/4) arc (360:180:1/16 and 1/32) -- cycle;
\fill [MaterialGreen500, shift=(@), rotate=-150] 
  (0,0) arc (45:135:1/2 and 4/5) arc (225:315:1/2 and 3/5);
\fill [MaterialGreen700, shift=(@), rotate=-150] 
  (0,0) arc (45:135:1/2 and 4/5) -- cycle;
},
lemon/.pic={
\tikzset{rotate=-45}
\fill [MaterialYellow500] (0, 0) ellipse [x radius=1/3, y radius=  1];
\fill [MaterialYellow500] (0, 0) ellipse [x radius=3/4, y radius=7/8];
\fill [MaterialYellow600] (270:1/3 and   1) arc (270:450:1/3 and   1);
\fill [MaterialYellow600] (270:3/4 and 7/8) arc (270:450:3/4 and 7/8);
\begin{scope}[shift=(90:9/10), rotate=-135]
\fill [MaterialGreen500] 
  (0,0) arc (45:135:1/2 and 4/5) arc (225:315:1/2 and 3/5);
\fill [MaterialGreen700] 
  (0,0) arc (45:135:1/2 and 4/5) -- cycle;
\tikzset{rotate=90, scale=3/4}
\fill [MaterialGreen500] 
  (0,0) arc (45:135:1/2 and 4/5) arc (225:315:1/2 and 3/5);
\fill [MaterialGreen700] 
  (0,0) arc (45:135:1/2 and 4/5) -- cycle;
\end{scope}
},
cherry/.pic={
\foreach \i in {1,2}{
\tikzset{shift={(-1+\i*3/4, -3/5+\i/5)},scale=1/2, rotate=15-\i*10}
\fill [MaterialRed700] (0,19/20) 
  .. controls ++(180:1/8) and ++(  0:1/4) .. (-1/3,  1)
  .. controls ++(180:1/3) and ++( 90:1/2) .. (  -1,  0)
  .. controls ++(270:1/2) and ++(180:1/2) .. (   0, -1)
  .. controls ++(  0:1/2) and ++(270:1/2) .. (   1,  0)
  .. controls ++( 90:1/2) and ++(  0:1/3) .. ( 1/3,  1)
  .. controls ++(180:1/4) and ++(  0:1/8) .. cycle;
\fill [MaterialRed800] (0, -1)
  .. controls ++(  0:1/2) and ++(270:1/2) .. (   1,  0)
  .. controls ++( 90:1/2) and ++(  0:1/3) .. ( 1/3,  1)
  .. controls ++(180:1/4) and ++(  0:1/8) .. (   0,19/20) -- cycle;
\fill [MaterialRed900] (0,3/4) coordinate (@\i) 
  ellipse [x radius=1/4, y radius=1/8];
}
\fill [MaterialBrown]
  (1/4,11/8) -- (3/8,11/8) coordinate (@)
  .. controls ++(270:1/2) and ++(135:1/3) .. (@1)
  .. controls ++(135:1/2) and ++(270:1/2) .. cycle;
\fill [MaterialBrown]
  (1/4,11/8) -- (3/8,11/8)
  .. controls ++(315:1/2) and ++(45:1/2) .. (@2)
  .. controls ++(60:1/2) and ++(315:1/2) .. cycle;
\fill [MaterialGreen500, shift={(@)}, rotate=20] 
  (0,0) arc (45:135:3/4 and 3/5) arc (225:315:3/4 and 3/5);
\fill [MaterialGreen700, shift={(@)}, rotate=20] 
  (0,0) arc (315:225:3/4 and 3/5) -- cycle;
}}
%%%%%%%%%FRUITS



%%%%%%%%%%PROBLEMS SOLUTIONS AT THE END
\usepackage[load-headings]{exsheets}[2014/05/11]

\DeclareQuestionProperty{section-title}
\usepackage{nameref}
\SetupExSheets{
  headings = block-subtitle ,headings=runin,
  headings-format = \large\bfseries\sffamily ,
  subtitle-format = \large\bfseries\sffamily ,
  counter-within = chapter ,
  counter-format = ch.qu\IfQuestionSubtitleT{:} ,
}
\SetupExSheets[question]{name=}
\NewTasks[style=multiplechoice]{choices}[\choice]


%\usepackage{enumitem}
%\setlist{nosep}\setlist{nolistsep}\setlist[itemize]{noitemsep, topsep=0pt}
%



\usepackage{flushend}

%%%TKZY DIAGRAMS
\usetikzlibrary{shadows,arrows.meta,positioning,backgrounds,fit,chains,scopes}

% Define block styles
\tikzset{%
  materia/.style={draw, fill=blue!20, text width=6.0em, text centered, minimum height=1.5em,drop shadow},
  etape/.style={materia, text width=8em, minimum width=10em, minimum height=3em, rounded corners, drop shadow},
  linepart/.style={draw, thick, color=black!50, -LaTeX, dashed},
  line/.style={draw, thick, color=black!50, -LaTeX},
  ur/.style={draw, text centered, minimum height=0.01em},
  back group/.style={fill=yellow!20,rounded corners, draw=black!50, dashed, inner xsep=15pt, inner ysep=10pt},
}

\newcommand{\transreceptor}[3]{%
  \path [linepart] (#1.east) -- node [above] {\scriptsize #2} (#3);}




%\usepackage{pst-labo}
%
%
%
%
\newcommand{\mytriangle}[1]{\tikz{\filldraw[draw=#1,fill=#1] (0,0) --
(-0.6em,0) -- (-0.3em,-0.6em);}}
\newcommand{\mytriangleup}[1]{\tikz{\filldraw[draw=#1,fill=#1] (0,0) --
(-0.6em,0) -- (-0.3em,0.6em);}}


%%%% PERIODIC TABLE PREAMBLE

\newcommand{\CommonElementTextFormat}[4]
{
  \begin{minipage}{2.2cm}
    \centering
      {\textbf{#1} \hfill #2}%
      \linebreak \linebreak
      {\textbf{#3}}%
      \linebreak \linebreak
      {{#4}}
  \end{minipage}
}

\newcommand{\ValenceElementTextFormat}[1]
{
  \begin{minipage}{2.2cm}
    \centering
      {\Huge\textbf{#1} }%
            
  \end{minipage}
}



\newcommand{\NaturalElementTextFormat}[4]
{
  \CommonElementTextFormat{#1}{#2}{\Huge {#3}}{#4}
}

\newcommand{\OutlineText}[1]
{
\ifpdf
  % Couldn't find a nicer way of doing an outline font with TikZ
  % other than using pdfliteral 1 Tr
  %
  \pdfliteral direct {0.5 w 1 Tr}{#1}%
  \pdfliteral direct {1 w 0 Tr}%
\else
  % pstricks can do this with \pscharpath from pstricks
  %
  \pscharpath[shadow=false,
    fillstyle=solid,
    fillcolor=white,
    linestyle=solid,
    linecolor=black,
    linewidth=.2pt]{#1} 
\fi
}

\newcommand{\SyntheticElementTextFormat}[4]
{
\ifpdf
  \CommonElementTextFormat{#1}{#2}{\OutlineText{\Huge #3}}{#4}
\else
  % pstricks approach results in slightly larger box
  % that doesn't break, so fudge here
  \CommonElementTextFormat{#1}{#2}{\OutlineText{\Large #3}}{#4}
\fi
}
%%%%%%%%%%%%%%%


\newcommand{\EmptyTable}{
\begin{tikzpicture}[font=\sffamily, scale=0.250, transform shape, rotate=0, baseline={(0,0cm)}]

%% Fill Color Styles
  \tikzstyle{ElementFill} = [fill=yellow!15]
  \tikzstyle{AlkaliMetalFill} = [fill=blue!55]
  \tikzstyle{AlkalineEarthMetalFill} = [fill=blue!40]
  \tikzstyle{MetalFill} = [fill=blue!25]
  \tikzstyle{MetalloidFill} = [fill=orange!25]
  \tikzstyle{NonmetalFill} = [fill=green!25]
  \tikzstyle{HalogenFill} = [fill=green!40]
  \tikzstyle{NobleGasFill} = [fill=green!55]
  \tikzstyle{NoFill} = [fill=none]
  \tikzstyle{LanthanideActinideFill} = [fill=purple!25]
  \tikzstyle{Cations} = [fill=red!55]
  \tikzstyle{Anions} = [fill=blue!55]
  \tikzstyle{TMIons} = [fill=orange!55]

%% Element Styles
  \tikzstyle{Element} = [draw=black, ElementFill,
    minimum width=2.75cm, minimum height=2.75cm, node distance=2.75cm]
  \tikzstyle{AlkaliMetal} = [Element, AlkaliMetalFill]
  \tikzstyle{AlkalineEarthMetal} = [Element, AlkalineEarthMetalFill]
  \tikzstyle{Metal} = [Element, MetalFill]
  \tikzstyle{Metalloid} = [Element, MetalloidFill]
  \tikzstyle{Nonmetal} = [Element, NonmetalFill]
  \tikzstyle{Halogen} = [Element, HalogenFill]
  \tikzstyle{NobleGas} = [Element, NobleGasFill]
  \tikzstyle{LanthanideActinide} = [Element, LanthanideActinideFill]
  \tikzstyle{PeriodLabel} = [font={\sffamily\LARGE}, node distance=2.0cm]
  \tikzstyle{GroupLabel} = [font={\sffamily\LARGE}, minimum width=2.75cm, node distance=2.0cm]
  \tikzstyle{TitleLabel} = [font={\sffamily\Huge\bfseries}]
  \tikzstyle{plain} = [Element, NoFill]
  \tikzstyle{IonCations} = [Element, Cations]
  \tikzstyle{IonAnions} = [Element, Anions]
  \tikzstyle{IonTMIons} = [Element, TMIons]

%% Group 1 - IA
  \node[name=H, plain] {\ValenceElementTextFormat{\ce{H^+}}};
  \node[name=Li, below of=H, IonCations] {\ValenceElementTextFormat{\ce{Li^+}}};
    \node[name=Na, below of=Li, IonCations] {\ValenceElementTextFormat{\ce{Na^+}}};
  \node[name=K, below of=Na, IonCations] {\ValenceElementTextFormat{\ce{K^+}}};
  \node[name=Rb, below of=K, IonCations] {\ValenceElementTextFormat{\ce{Rb^+}}};
  \node[name=Cs, below of=Rb, IonCations] {\ValenceElementTextFormat{\ce{Cs^+}}};

%% Group 2 - IIA
  \node[name=Be, right of=Li, IonCations] {\ValenceElementTextFormat{\ce{Be^{2+}}}};
  \node[name=Mg, below of=Be, IonCations] {\ValenceElementTextFormat{\ce{Mg^{2+}}}};
  \node[name=Ca, below of=Mg, IonCations] {\ValenceElementTextFormat{\ce{Ca^{2+}}}};
  \node[name=Sr, below of=Ca, IonCations] {\ValenceElementTextFormat{\ce{Sr^{2+}}}};
  \node[name=Ba, below of=Sr, IonCations] {\ValenceElementTextFormat{\ce{Ba^{2+}}}};

%% Group 3 - IIIB
  \node[name=Sc, right of=Ca, plain] {};
  \node[name=Y, below of=Sc, plain] {};
  \node[name=LaLu, below of=Y, plain] {};

%% Group 4 - IVB
  \node[name=Ti, right of=Sc, plain] {};
  \node[name=Zr, below of=Ti, plain] {};
  \node[name=Hf, below of=Zr, plain] {};

%% Group 5 - VB
  \node[name=V, right of=Ti, plain] {};
  \node[name=Nb, below of=V, plain] {};
  \node[name=Ta, below of=Nb, plain] {};

%% Group 6 - VIB
  \node[name=Cr, right of=V, IonTMIons] {\ValenceElementTextFormat{\ce{Cr^{2+}}\\\ce{Cr^{3+}}   }};
  \node[name=Mo, below of=Cr, plain] {};
  \node[name=W, below of=Mo, plain] {};

%% Group 7 - VIIB
  \node[name=Mn, right of=Cr, IonTMIons] {\ValenceElementTextFormat{\ce{Mn^{2+}}\\\ce{Mn^{3+}}   }};
  \node[name=Tc, below of=Mn, plain] {};
  \node[name=Re, below of=Tc, plain] {};

%% Group 8 - VIIIB
  \node[name=Fe, right of=Mn, IonTMIons] {\ValenceElementTextFormat{\ce{Fe^{2+}}\\\ce{Fe^{3+}}   }};
  \node[name=Ru, below of=Fe, plain] {};
  \node[name=Os, below of=Ru, plain] {};

%% Group 9 - VIIIB
  \node[name=Co, right of=Fe, IonTMIons] {\ValenceElementTextFormat{\ce{Co^{2+}}\\\ce{Co^{3+}}   }};
  \node[name=Rh, below of=Co, plain] {};
  \node[name=Ir, below of=Rh, plain] {};

%% Group 10 - VIIIB
  \node[name=Ni, right of=Co, plain] {};
  \node[name=Pd, below of=Ni, plain] {};
  \node[name=Pt, below of=Pd, plain] {};

%% Group 11 - IB
  \node[name=Cu, right of=Ni, IonTMIons] {\ValenceElementTextFormat{\ce{Cu^{+}}\\\ce{Cu^{2+}}   }};
  \node[name=Ag, below of=Cu, IonCations] {\ValenceElementTextFormat{\ce{Ag^{+}}}};
  \node[name=Au, below of=Ag, plain] {};

%% Group 12 - IIB
  \node[name=Zn, right of=Cu, IonCations] {\ValenceElementTextFormat{\ce{Zn^{2+}}}};
  \node[name=Cd, below of=Zn, IonCations] {\ValenceElementTextFormat{\ce{Cd^{2+}}}};
  \node[name=Hg, below of=Cd, plain] {};

%% Group 13 - IIIA
  \node[name=Ga, right of=Zn, IonCations] {\ValenceElementTextFormat{\ce{Ga^{3+}}}};
    \node[name=Al, above of=Ga, IonCations] {\ValenceElementTextFormat{\ce{Al^{3+}}}};
  \node[name=B, above of=Al, plain] {\ValenceElementTextFormat{\ce{B^{3+}}}};
  \node[name=In, below of=Ga, plain] {};
  \node[name=Tl, below of=In, plain] {};

%% Group 14 - IVA
  \node[name=C, right of=B, plain] {};
  \node[name=Si, below of=C, plain] {};
  \node[name=Ge, below of=Si, plain] {};
  \node[name=Sn, below of=Ge, IonTMIons] {\ValenceElementTextFormat{\ce{Sn^{2+}}\\\ce{Sn^{4+}}   }};
  \node[name=Pb, below of=Sn, IonTMIons] {\ValenceElementTextFormat{\ce{Pb^{2+}}\\\ce{Pb^{4+}}   }};

%% Group 15 - VA
  \node[name=N, right of=C, IonAnions] {\ValenceElementTextFormat{\ce{N^{3-}}}};
  \node[name=P, below of=N, IonAnions] {\ValenceElementTextFormat{\ce{P^{3-}}}};
  \node[name=As, below of=P, plain] {};
  \node[name=Sb, below of=As, plain] {};
  \node[name=Bi, below of=Sb, plain] {};

%% Group 16 - VIA
  \node[name=O, right of=N, IonAnions] {\ValenceElementTextFormat{\ce{O^{2-}}}};
  \node[name=S, below of=O, IonAnions] {\ValenceElementTextFormat{\ce{S^{2-}}}};
  \node[name=Se, below of=S, plain] {};
  \node[name=Te, below of=Se, plain] {};
  \node[name=Po, below of=Te, plain] {};

%% Group 17 - VIIA
  \node[name=F, right of=O, IonAnions] {\ValenceElementTextFormat{\ce{F^{-}}}};
  \node[name=Cl, below of=F, IonAnions] {\ValenceElementTextFormat{\ce{Cl^{-}}}};
  \node[name=Br, below of=Cl, IonAnions] {\ValenceElementTextFormat{\ce{Br^{-}}}};
  \node[name=I, below of=Br, IonAnions] {\ValenceElementTextFormat{\ce{I^{-}}}};
  \node[name=At, below of=I, plain] {};

%% Group 18 - VIIIA
  \node[name=Ne, right of=F, plain] {};
  \node[name=He, above of=Ne, plain] {};
  \node[name=Ar, below of=Ne, plain] {};
  \node[name=Kr, below of=Ar, plain] {};
  \node[name=Xe, below of=Kr, plain] {};
  \node[name=Rn, below of=Xe, plain] {};

%% Period
  \node[name=Period1, left of=H, PeriodLabel] {1};
  \node[name=Period2, left of=Li, PeriodLabel] {2};
  \node[name=Period3, left of=Na, PeriodLabel] {3}; 
  \node[name=Period4, left of=K, PeriodLabel] {4}; 
  \node[name=Period5, left of=Rb, PeriodLabel] {5};
  \node[name=Period6, left of=Cs, PeriodLabel] {6};

%% Group
  \node[name=Group1, above of=H, GroupLabel] {1 \hfill IA};
  \node[name=Group2, above of=Be, GroupLabel] {2 \hfill IIA};
  \node[name=Group3, above of=Sc, GroupLabel] {3 \hfill IIIB};
  \node[name=Group4, above of=Ti, GroupLabel] {4 \hfill IVB};
  \node[name=Group5, above of=V, GroupLabel] {5 \hfill VB};
  \node[name=Group6, above of=Cr, GroupLabel] {6 \hfill VIB};
  \node[name=Group7, above of=Mn, GroupLabel] {7 \hfill VIIB};
  \node[name=Group8, above of=Fe, GroupLabel] {8 \hfill VIIIB};
  \node[name=Group9, above of=Co, GroupLabel] {9 \hfill VIIIB};
  \node[name=Group10, above of=Ni, GroupLabel] {10 \hfill VIIIB};
  \node[name=Group11, above of=Cu, GroupLabel] {11 \hfill IB};
  \node[name=Group12, above of=Zn, GroupLabel] {12 \hfill IIB};
  \node[name=Group13, above of=B, GroupLabel] {13 \hfill IIIA};
  \node[name=Group14, above of=C, GroupLabel] {14 \hfill IVA};
  \node[name=Group15, above of=N, GroupLabel] {15 \hfill VA};
  \node[name=Group16, above of=O, GroupLabel] {16 \hfill VIA};
  \node[name=Group17, above of=F, GroupLabel] {17 \hfill VIIA};
  \node[name=Group18, above of=He, GroupLabel] {18 \hfill VIIIA};
\begin{scope}[xshift =25.5em, yshift =-10.5em, scale=2.5]
  \draw[black, IonAnions] (0,0) rectangle +(1em, 1em) node[right, xshift=-2.5em, yshift=-.5em]{Anions};
  \draw[black, IonCations] (2,-0) rectangle +(1em, 1em) node[right, xshift=-2.5em, yshift=-.5em]{Cations};
  \draw[black, IonTMIons] (4,0) rectangle +(1em, 1em) node[right, xshift=.0em, yshift=-.5em]{Transition metal Cations};
 \end{scope} 
\end{tikzpicture} }
%%%%%%%%%%%%%%%%%%


\newcommand{\GasTable}{
\begin{tikzpicture}[font=\sffamily, scale=0.250, transform shape, rotate=0, baseline={(0,0cm)}]

%% Fill Color Styles
  \tikzstyle{ElementFill} = [fill=yellow!15]
  \tikzstyle{AlkaliMetalFill} = [fill=blue!55]
  \tikzstyle{AlkalineEarthMetalFill} = [fill=blue!40]
  \tikzstyle{MetalFill} = [fill=blue!25]
  \tikzstyle{MetalloidFill} = [fill=orange!25]
  \tikzstyle{NonmetalFill} = [fill=green!25]
  \tikzstyle{HalogenFill} = [fill=green!40]
  \tikzstyle{NobleGasFill} = [fill=green!55]
  \tikzstyle{NoFill} = [fill=none]
  \tikzstyle{LanthanideActinideFill} = [fill=purple!25]
  \tikzstyle{Cations} = [fill=red!55]
  \tikzstyle{Anions} = [fill=blue!55]
  \tikzstyle{TMIons} = [fill=orange!55]

%% Element Styles
  \tikzstyle{Element} = [draw=black, ElementFill,
    minimum width=2.75cm, minimum height=2.75cm, node distance=2.75cm]
  \tikzstyle{AlkaliMetal} = [Element, AlkaliMetalFill]
  \tikzstyle{AlkalineEarthMetal} = [Element, AlkalineEarthMetalFill]
  \tikzstyle{Metal} = [Element, MetalFill]
  \tikzstyle{Metalloid} = [Element, MetalloidFill]
  \tikzstyle{Nonmetal} = [Element, NonmetalFill]
  \tikzstyle{Halogen} = [Element, HalogenFill]
  \tikzstyle{NobleGas} = [Element, NobleGasFill]
  \tikzstyle{LanthanideActinide} = [Element, LanthanideActinideFill]
  \tikzstyle{PeriodLabel} = [font={\sffamily\LARGE}, node distance=2.0cm]
  \tikzstyle{GroupLabel} = [font={\sffamily\LARGE}, minimum width=2.75cm, node distance=2.0cm]
  \tikzstyle{TitleLabel} = [font={\sffamily\Huge\bfseries}]
  \tikzstyle{plain} = [Element, NoFill]
  \tikzstyle{IonCations} = [Element, Cations]
  \tikzstyle{IonAnions} = [Element, Anions]
  \tikzstyle{IonTMIons} = [Element, TMIons]

%% Group 1 - IA
  \node[name=H, IonAnions] {\ValenceElementTextFormat{\ce{H}}};
  \node[name=Li, below of=H, plain] {};
    \node[name=Na, below of=Li, plain] {};
  \node[name=K, below of=Na, plain] {};
  \node[name=Rb, below of=K, plain] {};
  \node[name=Cs, below of=Rb, plain] {};

%% Group 2 - IIA
  \node[name=Be, right of=Li, plain] {};
  \node[name=Mg, below of=Be, plain] {};
  \node[name=Ca, below of=Mg, plain] {};
    \node[name=Sr, below of=Ca, plain] {};
  \node[name=Ba, below of=Sr, plain] {};

%% Group 3 - IIIB
  \node[name=Sc, right of=Ca, plain] {};
  \node[name=Y, below of=Sc, plain] {};
  \node[name=LaLu, below of=Y, plain] {};

%% Group 4 - IVB
  \node[name=Ti, right of=Sc, plain] {};
  \node[name=Zr, below of=Ti, plain] {};
  \node[name=Hf, below of=Zr, plain] {};

%% Group 5 - VB
  \node[name=V, right of=Ti, plain] {};
  \node[name=Nb, below of=V, plain] {};
  \node[name=Ta, below of=Nb, plain] {};

%% Group 6 - VIB
  \node[name=Cr, right of=V, plain] {};
  \node[name=Mo, below of=Cr, plain] {};
  \node[name=W, below of=Mo, plain] {};

%% Group 7 - VIIB
  \node[name=Mn, right of=Cr, plain] {};
  \node[name=Tc, below of=Mn, plain] {};
  \node[name=Re, below of=Tc, plain] {};

%% Group 8 - VIIIB
  \node[name=Fe, right of=Mn, plain] {};
  \node[name=Ru, below of=Fe, plain] {};
  \node[name=Os, below of=Ru, plain] {};

%% Group 9 - VIIIB
  \node[name=Co, right of=Fe, plain] {};
  \node[name=Rh, below of=Co, plain] {};
  \node[name=Ir, below of=Rh, plain] {};

%% Group 10 - VIIIB
  \node[name=Ni, right of=Co, plain] {};
  \node[name=Pd, below of=Ni, plain] {};
  \node[name=Pt, below of=Pd, plain] {};

%% Group 11 - IB
  \node[name=Cu, right of=Ni, plain] {};
  \node[name=Ag, below of=Cu, plain] {};
  \node[name=Au, below of=Ag, plain] {};

%% Group 12 - IIB
  \node[name=Zn, right of=Cu, plain] {};
  \node[name=Cd, below of=Zn, plain] {};
  \node[name=Hg, below of=Cd, plain] {};

%% Group 13 - IIIA
  \node[name=Ga, right of=Zn, plain] {};
    \node[name=Al, above of=Ga, plain] {};
  \node[name=B, above of=Al, plain] {};
  \node[name=In, below of=Ga, plain] {};
  \node[name=Tl, below of=In, plain] {};

%% Group 14 - IVA
  \node[name=C, right of=B, plain] {};
  \node[name=Si, below of=C, plain] {};
  \node[name=Ge, below of=Si, plain] {};
  \node[name=Sn, below of=Ge, plain] {};
  \node[name=Pb, below of=Sn, plain] {};

%% Group 15 - VA
  \node[name=N, right of=C, IonAnions] {\ValenceElementTextFormat{\ce{N}}};
  \node[name=P, below of=N, plain] {};
  \node[name=As, below of=P, plain] {};
  \node[name=Sb, below of=As, plain] {};
  \node[name=Bi, below of=Sb, plain] {};

%% Group 16 - VIA
  \node[name=O, right of=N, IonAnions] {\ValenceElementTextFormat{\ce{O}}};
  \node[name=S, below of=O, plain] {};
  \node[name=Se, below of=S, plain] {};
  \node[name=Te, below of=Se, plain] {};
  \node[name=Po, below of=Te, plain] {};

%% Group 17 - VIIA
  \node[name=F, right of=O, IonAnions] {\ValenceElementTextFormat{\ce{F}}};
  \node[name=Cl, below of=F, IonAnions] {\ValenceElementTextFormat{\ce{Cl}}};
  \node[name=Br, below of=Cl, IonAnions] {\ValenceElementTextFormat{\ce{Br}}};
  \node[name=I, below of=Br, IonAnions] {\ValenceElementTextFormat{\ce{I}}};
  \node[name=At, below of=I, plain] {};

%% Group 18 - VIIIA
  \node[name=Ne, right of=F, IonAnions] {\ValenceElementTextFormat{\ce{Ne}}};
  \node[name=He, above of=Ne, IonAnions] {\ValenceElementTextFormat{\ce{He}}};
  \node[name=Ar, below of=Ne, IonAnions] {\ValenceElementTextFormat{\ce{Ar}}};
  \node[name=Kr, below of=Ar, IonAnions] {\ValenceElementTextFormat{\ce{Kr}}};
  \node[name=Xe, below of=Kr, IonAnions] {\ValenceElementTextFormat{\ce{Xe}}};
  \node[name=Rn, below of=Xe, IonAnions] {\ValenceElementTextFormat{\ce{Rn}}};




%\begin{scope}[xshift =25.5em, yshift =-10.5em, scale=2.5]
%  \draw[black, IonAnions] (0,0) rectangle +(1em, 1em) node[right, xshift=-2.5em, yshift=-.5em]{Anions};
%  \draw[black, IonCations] (2,-0) rectangle +(1em, 1em) node[right, xshift=-2.5em, yshift=-.5em]{Cations};
%  \draw[black, IonTMIons] (4,0) rectangle +(1em, 1em) node[right, xshift=.0em, yshift=-.5em]{Transition metal Cations};
% \end{scope} 
\end{tikzpicture} }
%%%%%%%%%%%%%%%%%%



\usepackage{pgffor}
\newenvironment{localsize}[1]
{%
  \let\orignewcommand\newcommand
  \let\newcommand\renewcommand
  \makeatletter
  \input{bk#1.clo}%
  \makeatother
  \let\newcommand\orignewcommand
}
{%
}


%\newcommand{\myscale}[2]{%
%  \foreach \index in {#1,...,#2}{\index , \space\space}%
%}


%%%%%%%%%%%%%COLOR BOX IN NAMING CHAPTER
\newtcolorbox{namingbox}[1][]{
enhanced,
      boxrule=0pt,
      arc=0pt,
      outer arc=0pt,
      interior code={\fill[overlay,cyan!10] (frame.north west) rectangle (frame.south east);},}
%%%%%%%%%%%%%COLOR BOX IN NAMING CHAPTER

\usepackage{tikz-cd}
\usetikzlibrary{arrows.meta}
\tikzset{elmove/.style={-{Stealth[#1]},shorten >=3pt,shorten <=2pt}}
\usepackage{totcount}
\usepackage{pgffor}
\newcounter{numA}


%\usepackage[figurewithin=chapter, tablewithin=chapter]{caption}

\newenvironment{answersenvironment}{ }{ }
\BeforeBeginEnvironment{answersenvironment}{ \newgeometry{left=0.8in,right=0.8in, top=2.5cm,bottom=2.5cm}}
\AfterEndEnvironment{answersenvironment}{\restoregeometry}



%%%ABSOLUTE VALUES
\DeclarePairedDelimiter\abs{\lvert}{\rvert}%
\DeclarePairedDelimiter\norm{\lVert}{\rVert}%
% Swap the definition of \abs* and \norm*, so that \abs
% and \norm resizes the size of the brackets, and the 
% starred version does not.
\makeatletter
\let\oldabs\abs
\def\abs{\@ifstar{\oldabs}{\oldabs*}}
%
\let\oldnorm\norm
\def\norm{\@ifstar{\oldnorm}{\oldnorm*}}
\makeatother

%%%ABSOLUTE VALUES
\usepackage{relsize}
\tikzset{fontscale/.style = {font=\relsize{#1}}}



%%%%%%GAS ERLENMEYER
\usepackage{tkz-euclide}
\usepackage{pgfplots}
\usepackage{pgf}
\usetikzlibrary{backgrounds, calc, shadows, shadows.blur}
\usetikzlibrary{fit,arrows.meta}
\pgfplotsset{compat=newest}
\usetikzlibrary{calc, shadings, arrows.meta}
\definecolor{tappo}{RGB}{148,154,110}
\definecolor{lightblue}{RGB}{155,210,220}
\tikzset{
    arrR/.style={-Latex},
    arrL/.style={Latex-}
}
\newcommand\flask[4][arrR]{%
\begin{scope}[shift={(#2)}]
\draw[gray] (-1.8,0) arc (180:0:1.8cm and 6mm);
\begin{scope}
\clip[rounded corners=5mm] (-.5,5) -- (-.5,3.5) -- (-1.8,.5) [sharp corners]-- (-1.8,0) arc (180:360:1.8cm and 6mm) [rounded corners=5mm]--  (1.8,.5) --  (.5,3.5) [sharp corners]-- (.5,5) -- cycle;
\end{scope}
\draw[gray] (.1,4) arc (0:180:1mm and .5mm);
\draw (.1,4.8) -- (.1,4) arc (360:180:1mm and .5mm) -- (-.1,4.8);
\draw[right color=tappo, left color=tappo, middle color=tappo!40] (.4,4.5) -- (.6,5.5) arc (0:180:6mm and 2mm) -- (-.4,4.5) arc (180:360:4mm and 2mm);
\draw[fill=tappo!60] (0,5.5) ellipse (6mm and 2mm);
\draw[fill=lightblue,rounded corners=5mm, fill opacity=.7] (-.5,5) -- (-.5,3.5) -- (-1.8,.5) [sharp corners]-- (-1.8,0) arc (180:360:1.8cm and 6mm) [rounded corners=5mm]--  (1.8,.5) --  (.5,3.5) [sharp corners]-- (.5,5) arc (360:180:5mm and 2mm);
\draw[fill=lightblue, opacity=.5] (.5,5) to[out=-50,in=230, looseness=2] (-.5,5) arc (180:360:5mm and 2mm);
\fill[black] (0,5.5) ellipse (1mm and .5mm);
\draw[fill=lightblue, fill opacity=.5] (.1,6.3) -- (.1,5.5) arc (360:180:1mm and .5mm) -- (-.1,6.3) -- cycle;
\draw[left color=black, right color=black, middle color=gray] (.1,6.5) -- (.1,6.3) arc (360:180:1mm and .5mm) -- (-.1,6.5) -- cycle;
\draw[ultra thick, fill=white!95!black] (0,7.5) circle (1cm);
\node[font=\sffamily\bfseries\scriptsize] at (0,7.9) {hPa};
\foreach \x [evaluate=\x as \angle using int(210-(\x*16))] in {0,...,15}{%
    \pgfmathsetmacro\tick{int(mod(\x,5))}
    \ifnum\x=0
    \draw[very thick] ($(0,7.5)+(\angle:1cm)$) --++ (\angle:-2mm) node[pos=1.8, text=black, font=\tiny] {$\x$};
    \else
    \ifnum\tick=0
    \draw[very thick] ($(0,7.5)+(\angle:1cm)$) --++ (\angle:-2mm) node[pos=1.8, text=black, font=\tiny] {$\x00$};
    \else   
    \draw ($(0,7.5)+(\angle:1cm)$) --++ (\angle:-2mm);
    \fi
    \fi
}
\begin{scope}[remember picture,overlay,shift={(0,7.5)},rotate=210-(#3*.16)]
\filldraw[black] (-.2,.03) --++ (1,-.01) --++ (0,-.04) --++ (-1,-.01) --++ (0,-.08) --++ (-.05,0) --++ (0,.22) --++ (.05,0) -- cycle;
\end{scope}
\draw[gray, fill=lightblue!50] (.49,3.9) ellipse (.5mm and 1mm);
\draw[fill=lightblue, fill opacity=.5] (.49,4) -- (2,4) arc (90:-90:.5mm and 1mm) -- (.49,3.8) arc (-90:-270:.5mm and 1mm);
\draw (2,3.8) arc (-90:-270:.5mm and 1mm);
\begin{scope}
\draw[#1, line width=.2mm] (1.5,3.9) -- (2.5,3.9) node[right, font=\scriptsize] {#4};
\draw[fill=lightblue!60] (.8,4.2) -- (1,4.2) -- (1,4.1) -- (.94,4.1) -- (.94,4.05) -- (1,4) arc (360:180:1mm and .25mm) -- (.86,4.05) -- (.86,4.1) -- (.8,4.1) -- cycle;
\draw[fill=lightblue!60] (1,3.81) -- (.95,3.75) -- (.85,3.75) -- (.8,3.81);
\draw[fill=lightblue!60] (.96,3.76) to[out=-50,in=230, looseness=1.8] (.84,3.76) to[out=-15,in=195] cycle;
\draw[fill=lightblue!60] (.94,3.72) to[out=-50,in=230, looseness=2] (.86,3.72) to[out=-15,in=195] cycle;
\end{scope}
\begin{scope}[xshift=4mm]
\draw[fill=lightblue!60] (.8,4.2) -- (1,4.2) -- (1,4.1) -- (.94,4.1) -- (.94,4.05) -- (1,4) arc (360:180:1mm and .25mm) -- (.86,4.05) -- (.86,4.1) -- (.8,4.1) -- cycle;
\draw[fill=lightblue!60] (1,3.81) -- (.95,3.75) -- (.85,3.75) -- (.8,3.81);
\draw[fill=lightblue!60] (.96,3.76) to[out=-50,in=230, looseness=1.8] (.84,3.76) to[out=-15,in=195] cycle;
\draw[fill=lightblue!60] (.94,3.72) to[out=-50,in=230, looseness=2] (.86,3.72) to[out=-15,in=195] cycle;
\end{scope}
\end{scope}
}
%%%%%%GAS ERLENMEYER

\usetikzlibrary{patterns}
\usetikzlibrary{intersections}

%%%COLOR CYLINDERS
\tikzset{pics/.cd,
  cylinder/.style 2 args={%
code={
\colorlet{cylinder color}{#2}
\edef\ch{#1}
\foreach \i in {-1,1}{
\begin{scope}[yscale=\i]
\ifnum \i=1
\path [circular glow={fill=black, opacity=0.25}]
  ellipse [x radius=1, y radius=1/2];
\else
\def\ch{2}
\fi
\begin{scope}    
\clip [preaction={left color=cylinder color, right color=cylinder color!25!black}] (1,0) arc (360:180:1 and 1/2) -- ++(0,\ch) arc (180:0:1 and 1/3) -- cycle;
\fill [white, opacity=0.25, path fading=east]
   (0.75,-1) rectangle (1,\ch+1);
\fill [white, opacity=0.25, path fading=west]
   (0.75,-1) rectangle (0.25,\ch+1);
\fill [white, opacity=0.25, path fading=west]
   (-0.5,-1) rectangle (-0.875,\ch+1);
\fill [white, opacity=0.25, path fading=east]
   (-0.5,-1) rectangle (-0.125,\ch+1);
\end{scope}
\ifnum\i<0\relax
\fill [white, opacity=0.25]
 (-1,0) rectangle (1,\ch+1/2);
\fill [white, path fading=north]
 (-1,0) rectangle (1,\ch+1/2);
\else
\shade [left color=cylinder color, right color=cylinder color!25!black,
postaction={fill=white,opacity=0.25, path fading=north}] (0,\ch) ellipse [x radius=1, y radius=1/3];
\fi
\end{scope}
}}}}
%%%%%%%


%%%% HEAT CONVENTION BOX
\newtcolorbox{solutionbox}{
        colframe=cyan!20!white,
        colback =cyan!20!white,
        top=0mm, bottom=0mm, left=0mm, right=0mm,
        arc=0mm,
%
        fontupper=\color{blue!70!black},
        fonttitle=\bfseries\color{blue!70!black},
                        }
%%%% HEAT CONVENTION BOX
         
 %%%FANCY ARROWS       
\usetikzlibrary{fadings,shapes.arrows,shadows}
\usepackage{xparse}
\tikzfading[name=arrowfading, top color=transparent!0, bottom color=transparent!95]
\tikzset{arrowfill/.style={#1,general shadow={fill=black, shadow yshift=-0.8ex, path fading=arrowfading}}}
\tikzset{arrowstyle/.style n args={3}{draw=#2,arrowfill={#3}, single arrow,minimum height=#1, single arrow,
single arrow head extend=.3cm,}}

\NewDocumentCommand{\tikzfancyarrow}{O{2cm} O{FireBrick} O{top color=OrangeRed!20, bottom color=Red} m}{
\tikz[baseline=-0.5ex]\node [arrowstyle={#1}{#2}{#3}] {#4};
}
 %%%FANCY ARROWS       
\usetikzlibrary{decorations.text}
\usetikzlibrary{shapes.symbols}






\newcommand{\AtomicPropertyFormat}[2]
{
  \begin{minipage}{2.2cm}
    \centering
%      {\textbf{#1} \hfill #2}%
%      \linebreak \linebreak
      {\Huge \textbf{#1}}%
      \linebreak \linebreak
      {\Huge {#2}}
  \end{minipage}
}


\def\myshiftb#1{\scriptsize\raisebox{1ex}}

\newcommand{\IETable}{

%% Fill Color Styles
  \tikzstyle{ElementFill} = [fill=yellow!15]
  \tikzstyle{AlkaliMetalFill} = [fill=blue!55]
  \tikzstyle{AlkalineEarthMetalFill} = [fill=blue!40]
  \tikzstyle{MetalFill} = [fill=blue!25]
  \tikzstyle{MetalloidFill} = [fill=orange!25]
  \tikzstyle{NonmetalFill} = [fill=green!25]
  \tikzstyle{HalogenFill} = [fill=green!40]
  \tikzstyle{NobleGasFill} = [fill=green!55]
  \tikzstyle{NoFill} = [fill=none]
  \tikzstyle{LanthanideActinideFill} = [fill=purple!25]
  \tikzstyle{Cations} = [fill=red!55]
  \tikzstyle{Anions} = [fill=blue!55]
  \tikzstyle{TMIons} = [fill=orange!55]

%% Element Styles
  \tikzstyle{Element} = [draw=black, ElementFill,
    minimum width=2.75cm, minimum height=2.75cm, node distance=2.75cm]
  \tikzstyle{AlkaliMetal} = [Element, AlkaliMetalFill]
  \tikzstyle{AlkalineEarthMetal} = [Element, AlkalineEarthMetalFill]
  \tikzstyle{Metal} = [Element, MetalFill]
  \tikzstyle{Metalloid} = [Element, MetalloidFill]
  \tikzstyle{Nonmetal} = [Element, NonmetalFill]
  \tikzstyle{Halogen} = [Element, HalogenFill]
  \tikzstyle{NobleGas} = [Element, NobleGasFill]
  \tikzstyle{LanthanideActinide} = [Element, LanthanideActinideFill]
  \tikzstyle{PeriodLabel} = [font={\sffamily\LARGE}, node distance=2.0cm]
  \tikzstyle{GroupLabel} = [font={\sffamily\LARGE}, minimum width=2.75cm, node distance=2.0cm]
  \tikzstyle{TitleLabel} = [font={\sffamily\Huge\bfseries}]
  \tikzstyle{plain} = [Element, NoFill]
  \tikzstyle{IonCations} = [Element, Cations]
  \tikzstyle{IonAnions} = [Element, Anions]
  \tikzstyle{IonTMIons} = [Element, TMIons]
  \tikzstyle{AtomicProperty1} = [Element, HalogenFill]

%% Group 1 - IA
  \node[name=H, AtomicProperty1]{\AtomicPropertyFormat{\ce{H}}{1312} }; 
  \node[name=Li, below of=H, AtomicProperty1] {\AtomicPropertyFormat{ \ce{Li}}  {520}	};
    \node[name=Na, below of=Li, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Na}}  { 496}};
  \node[name=K, below of=Na, AtomicProperty1] {\AtomicPropertyFormat{  \ce{K}}  { 419}};
  \node[name=Rb, below of=K, AtomicProperty1]  {\AtomicPropertyFormat{  \ce{Rb} } { 403} };
  \node[name=Cs, below of=Rb, AtomicProperty1]  {\AtomicPropertyFormat{  \ce{Cs}}  { 376} };

  
%% Group 2 - IIA
  \node[name=Be, right of=Li, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Be}}{ 899	 }}; 
  \node[name=Mg, below of=Be, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Mg}}  { 738}};
  \node[name=Ca, below of=Mg, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Ca}}  { 590}};
    \node[name=Sr, below of=Ca, AtomicProperty1]  {\AtomicPropertyFormat{  \ce{Sr} } { 549} };
  \node[name=Ba, below of=Sr, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Ba}}  { 503} };


%% Group 13 - IIIA
  \node[name=Ga, right of=Ca, AtomicProperty1, xshift=1cm]  {\AtomicPropertyFormat{  \ce{Ga}}  { 579}};
    \node[name=Al, above of=Ga, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Al}}  { 577}};
  \node[name=B, above of=Al, AtomicProperty1] {\AtomicPropertyFormat{  \ce{B}}  {801	} };
  \node[name=In, below of=Ga, AtomicProperty1]  {\AtomicPropertyFormat{  \ce{In} } { 558} };
  \node[name=Tl, below of=In, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Tl }}  {589} };

%% Group 14 - IVA
  \node[name=C, right of=B, AtomicProperty1] {\AtomicPropertyFormat{ \ce{C}}  {1086}	 }; 
  \node[name=Si, below of=C, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Si}}  { 786}};
  \node[name=Ge, below of=Si, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Ge}}  { 762}};
  \node[name=Sn, below of=Ge, AtomicProperty1]{\AtomicPropertyFormat{  \ce{Sn} } { 707} };
  \node[name=Pb, below of=Sn, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Pb}}  { 716} };

%% Group 15 - VA
  \node[name=N, right of=C, AtomicProperty1]  {\AtomicPropertyFormat{ \ce{N}}  {1402}	 };
  \node[name=P, below of=N, AtomicProperty1] {\AtomicPropertyFormat{  \ce{P}}  { 1012}};
  \node[name=As, below of=P, AtomicProperty1] {\AtomicPropertyFormat{  \ce{As}}  { 947}};
  \node[name=Sb, below of=As, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Sb} } {834} };     
  \node[name=Bi, below of=Sb, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Bi }}  {703} };

%% Group 16 - VIA
  \node[name=O, right of=N, AtomicProperty1]  {\AtomicPropertyFormat{ \ce{O}}  {1314}};
  \node[name=S, below of=O, AtomicProperty1] {\AtomicPropertyFormat{  \ce{S}}  { 1000}};
  \node[name=Se, below of=S, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Se}}  { 941}};
  \node[name=Te, below of=Se, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Te} } { 869} };   
  \node[name=Po, below of=Te, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Po}}  { 812} };

%% Group 17 - VIIA
  \node[name=F, right of=O, AtomicProperty1] {\AtomicPropertyFormat{ \ce{F }} {1681.0}	 };
  \node[name=Cl, below of=F, AtomicProperty1]    {\AtomicPropertyFormat{  \ce{Cl }}  {1251}};
  \node[name=Br, below of=Cl, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Br}}  { 1140}};
  \node[name=I, below of=Br, AtomicProperty1] {\AtomicPropertyFormat{  \ce{I } } {1008} };
  \node[name=At, below of=I, AtomicProperty1] {\AtomicPropertyFormat{  \ce{At}}  { 899} };

%% Group 18 - VIIIA
  \node[name=Ne, right of=F, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Ne}}  {2081}};
  \node[name=He, above of=Ne, AtomicProperty1] {\AtomicPropertyFormat{\ce{He} } {2372} }; 
  \node[name=Ar, below of=Ne, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Ar}}  { 1520}};
  \node[name=Kr, below of=Ar, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Kr}}  { 1350}};
  \node[name=Xe, below of=Kr, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Xe} } { 1170} };
  \node[name=Rn, below of=Xe, AtomicProperty1] {\AtomicPropertyFormat{  \ce{Rn}}  { 1037} };

\node[name=Group1, above of=H, GroupLabel] {1 \hfill IA};
  \node[name=Group2, above of=Be, GroupLabel] {2 \hfill IIA};
   \node[name=Group13, above of=B, GroupLabel] {13 \hfill IIIA};
  \node[name=Group14, above of=C, GroupLabel] {14 \hfill IVA};
  \node[name=Group15, above of=N, GroupLabel] {15 \hfill VA};
  \node[name=Group16, above of=O, GroupLabel] {16 \hfill VIA};
  \node[name=Group17, above of=F, GroupLabel] {17 \hfill VIIA};
  \node[name=Group18, above of=He, GroupLabel] {18 \hfill VIIIA};
	\draw [<-, thick, -latex,postaction={decorate,decoration={text along path,text align=center,text={|\myshiftb|Ionization energy  increases}}}] (0,10em ) to   (50 em ,10 em);
 		 	\draw [<-, thick, -latex,postaction={decorate,decoration={reverse path,raise=0em,text along path,text align=center,text={|\myshiftb|Ionization energy  increases}}}]     (66 em ,-40 em)	to	(66em,0em ) ;
}
%%%%%%%%%%%%%%%%%%

%\begin{scope}[xshift =25.5em, yshift =-10.5em, scale=2.5]
%  \draw[black, IonAnions] (0,0) rectangle +(1em, 1em) node[right, xshift=-2.5em, yshift=-.5em]{Anions};
%  \draw[black, IonCations] (2,-0) rectangle +(1em, 1em) node[right, xshift=-2.5em, yshift=-.5em]{Cations};
%  \draw[black, IonTMIons] (4,0) rectangle +(1em, 1em) node[right, xshift=.0em, yshift=-.5em]{Transition metal Cations};
% \end{scope} 
 
\newcommand{\EATable}{

%% Fill Color Styles
  \tikzstyle{ElementFill} = [fill=yellow!15]
  \tikzstyle{AlkaliMetalFill} = [fill=blue!55]
  \tikzstyle{AlkalineEarthMetalFill} = [fill=blue!40]
  \tikzstyle{MetalFill} = [fill=blue!25]
  \tikzstyle{MetalloidFill} = [fill=orange!25]
  \tikzstyle{NonmetalFill} = [fill=green!25]
  \tikzstyle{HalogenFill} = [fill=green!40]
  \tikzstyle{NobleGasFill} = [fill=green!55]
  \tikzstyle{NoFill} = [fill=none]
  \tikzstyle{LanthanideActinideFill} = [fill=purple!25]
  \tikzstyle{Cations} = [fill=red!55]
  \tikzstyle{Anions} = [fill=blue!55]
  \tikzstyle{TMIons} = [fill=orange!55]

%% Element Styles
  \tikzstyle{Element} = [draw=black, ElementFill,
    minimum width=2.75cm, minimum height=2.75cm, node distance=2.75cm]
  \tikzstyle{AlkaliMetal} = [Element, AlkaliMetalFill]
  \tikzstyle{AlkalineEarthMetal} = [Element, AlkalineEarthMetalFill]
  \tikzstyle{Metal} = [Element, MetalFill]
  \tikzstyle{Metalloid} = [Element, MetalloidFill]
  \tikzstyle{Nonmetal} = [Element, NonmetalFill]
  \tikzstyle{Halogen} = [Element, HalogenFill]
  \tikzstyle{NobleGas} = [Element, NobleGasFill]
  \tikzstyle{LanthanideActinide} = [Element, LanthanideActinideFill]
  \tikzstyle{PeriodLabel} = [font={\sffamily\LARGE}, node distance=2.0cm]
  \tikzstyle{GroupLabel} = [font={\sffamily\LARGE}, minimum width=2.75cm, node distance=2.0cm]
  \tikzstyle{TitleLabel} = [font={\sffamily\Huge\bfseries}]
  \tikzstyle{plain} = [Element, NoFill]
  \tikzstyle{IonCations} = [Element, Cations]
  \tikzstyle{IonAnions} = [Element, Anions]
  \tikzstyle{IonTMIons} = [Element, TMIons]
  \tikzstyle{AtomicProperty1} = [Element, HalogenFill]
  \tikzstyle{AtomicProperty2} = [Element, MetalloidFill]

%% Group 1 - IAAtomicProperty2
  \node[name=H, AtomicProperty2] {\AtomicPropertyFormat{  \ce{H }}  {-195 }};
  \node[name=Li, below of=H, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Li}}  { -49 }};
    \node[name=Na, below of=Li, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Na}}  { -53 }};
  \node[name=K, below of=Na, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{K}}  {  -48 }};
  \node[name=Rb, below of=K, AtomicProperty2]   {\AtomicPropertyFormat{  \ce{Rb}}  { -47}}; 
  \node[name=Cs, below of=Rb, AtomicProperty2]   {\AtomicPropertyFormat{  \ce{Cs}}  { -45 }};

 
%% Group 2 - IIA
  \node[name=Be, right of=Li, AtomicProperty2]   {\AtomicPropertyFormat{  \ce{Be}}  { 48 }};
  \node[name=Mg, below of=Be, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Mg}}  { 40 }};
  \node[name=Ca, below of=Mg, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Ca}}  {  -2 }};
    \node[name=Sr, below of=Ca, AtomicProperty2]   {\AtomicPropertyFormat{  \ce{Sr}}  {-5.}};
  \node[name=Ba, below of=Sr, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Ba}}  { -14 }};
 
%% Group 13 - IIIA
  \node[name=Ga, right of=Ca, AtomicProperty2, xshift=1cm]   {\AtomicPropertyFormat{  \ce{Ga}}  {  -20 }};
    \node[name=Al, above of=Ga, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Al}}  { -42 }};
  \node[name=B, above of=Al, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{B}}  { -27 }};
  \node[name=In, below of=Ga, AtomicProperty2]   {\AtomicPropertyFormat{  \ce{In}}  { -37 }};
  \node[name=Tl, below of=In, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Tl}}  { -36.4 }};

%% Group 14 - IVA
  \node[name=C, right of=B, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{C}}  { -122}};
  \node[name=Si, below of=C, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Si}}  { -134}};
  \node[name=Ge, below of=Si, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Ge}}  { -119}}; 
  \node[name=Sn, below of=Ge, AtomicProperty2]	 {\AtomicPropertyFormat{  \ce{Sn}}  { -107}};
  \node[name=Pb, below of=Sn, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Pb}}  { -34 }};

%% Group 15 - VA
  \node[name=N, right of=C, AtomicProperty2]   {\AtomicPropertyFormat{  \ce{N }}  {6.8}};
  \node[name=P, below of=N, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{P}}  { -72 }};
  \node[name=As, below of=P, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{As}}  {  -78 }};
  \node[name=Sb, below of=As, AtomicProperty2]      {\AtomicPropertyFormat{  \ce{Sb}}  { -101 }};
  \node[name=Bi, below of=Sb, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Bi}}  { -90.924 }};

%% Group 16 - VIA
  \node[name=O, right of=N, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{O}}  { -113}}; 
  \node[name=S, below of=O, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{S}}  { -200}};
  \node[name=Se, below of=S, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Se}}  {  -195}};
  \node[name=Te, below of=Se, AtomicProperty2]     {\AtomicPropertyFormat{  \ce{Te}}  { -190 }};
  \node[name=Po, below of=Te, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Po}}  { -136}}; 

%% Group 17 - VIIA
  \node[name=F, right of=O, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{F }}  {-328}};
  \node[name=Cl, below of=F, AtomicProperty2]    {\AtomicPropertyFormat{  \ce{Cl }}  {-349 }};
  \node[name=Br, below of=Cl, AtomicProperty2] {\AtomicPropertyFormat{  \ce{Br}}  {  -325}};  
  \node[name=I, below of=Br, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{I}}  { -295}}; 
  \node[name=At, below of=I, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{At}}  { -233}}; 

%% Group 18 - VIIIA
  \node[name=Ne, right of=F, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Ne}}  { 116 }};
  \node[name=He, above of=Ne, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{He}}  { 48 }};
  \node[name=Ar, below of=Ne, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Ar}}  { 96  }};
  \node[name=Kr, below of=Ar, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Kr}}  { 96 }};
  \node[name=Xe, below of=Kr, AtomicProperty2]  {\AtomicPropertyFormat{  \ce{Xe}}  { 77 }};
  \node[name=Rn, below of=Xe, AtomicProperty2] {\AtomicPropertyFormat{  \ce{Rn}}  { 68 }}; 

\node[name=Group1, above of=H, GroupLabel] {1 \hfill IA};
  \node[name=Group2, above of=Be, GroupLabel] {2 \hfill IIA};
   \node[name=Group13, above of=B, GroupLabel] {13 \hfill IIIA};
  \node[name=Group14, above of=C, GroupLabel] {14 \hfill IVA};
  \node[name=Group15, above of=N, GroupLabel] {15 \hfill VA};
  \node[name=Group16, above of=O, GroupLabel] {16 \hfill VIA};
  \node[name=Group17, above of=F, GroupLabel] {17 \hfill VIIA};
  \node[name=Group18, above of=He, GroupLabel] {18 \hfill VIIIA};
	\draw [<-, thick, -latex,postaction={decorate,decoration={text along path,text align=center,text={|\myshiftb|Electron affinity  increases}}}] (0,10em ) to   (50 em ,10 em);
 		 	\draw [<-, thick, -latex,postaction={decorate,decoration={reverse path,raise=0em,text along path,text align=center,text={|\myshiftb|Electron affinity  increases}}}]     (66 em ,-40 em)	to	(66em,0em ) ;
}
%%%%%%%%%%%%%%%%%%


\newcommand{\RadiusTable}{

%% Fill Color Styles
  \tikzstyle{ElementFill} = [fill=yellow!15]
  \tikzstyle{AlkaliMetalFill} = [fill=blue!55]
  \tikzstyle{AlkalineEarthMetalFill} = [fill=blue!40]
  \tikzstyle{MetalFill} = [fill=blue!25]
  \tikzstyle{MetalloidFill} = [fill=orange!25]
  \tikzstyle{NonmetalFill} = [fill=green!25]
  \tikzstyle{HalogenFill} = [fill=green!40]
  \tikzstyle{NobleGasFill} = [fill=green!55]
  \tikzstyle{NoFill} = [fill=none]
  \tikzstyle{LanthanideActinideFill} = [fill=purple!25]
  \tikzstyle{Cations} = [fill=red!55]
  \tikzstyle{Anions} = [fill=blue!55]
  \tikzstyle{TMIons} = [fill=orange!55]

%% Element Styles
  \tikzstyle{Element} = [draw=black, ElementFill,
    minimum width=2.75cm, minimum height=2.75cm, node distance=2.75cm]
  \tikzstyle{AlkaliMetal} = [Element, AlkaliMetalFill]
  \tikzstyle{AlkalineEarthMetal} = [Element, AlkalineEarthMetalFill]
  \tikzstyle{Metal} = [Element, MetalFill]
  \tikzstyle{Metalloid} = [Element, MetalloidFill]
  \tikzstyle{Nonmetal} = [Element, NonmetalFill]
  \tikzstyle{Halogen} = [Element, HalogenFill]
  \tikzstyle{NobleGas} = [Element, NobleGasFill]
  \tikzstyle{LanthanideActinide} = [Element, LanthanideActinideFill]
  \tikzstyle{PeriodLabel} = [font={\sffamily\LARGE}, node distance=2.0cm]
  \tikzstyle{GroupLabel} = [font={\sffamily\LARGE}, minimum width=2.75cm, node distance=2.0cm]
  \tikzstyle{TitleLabel} = [font={\sffamily\Huge\bfseries}]
  \tikzstyle{plain} = [Element, NoFill]
  \tikzstyle{IonCations} = [Element, Cations]
  \tikzstyle{IonAnions} = [Element, Anions]
  \tikzstyle{IonTMIons} = [Element, TMIons]
  \tikzstyle{AtomicProperty1} = [Element, HalogenFill]
  \tikzstyle{AtomicProperty2} = [Element, MetalloidFill]
    \tikzstyle{AtomicProperty3} = [Element, ElementFill]


%% Group 1 - IAAtomicPropertyAtomicProperty32
  \node[name=H, AtomicProperty3] {\AtomicPropertyFormat{  \ce{H}}  { 53}}; 
  \node[name=Li, below of=H, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Li}}  { 167}};
    \node[name=Na, below of=Li, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Na}}  { 190}};
  \node[name=K, below of=Na, AtomicProperty3]  {\AtomicPropertyFormat{  \ce{K }}  {243}}; 
    \node[name=Rb, below of=K, AtomicProperty3]    {\AtomicPropertyFormat{  \ce{Rb}}  { 265}};
  \node[name=Cs, below of=Rb, AtomicProperty3]    {\AtomicPropertyFormat{  \ce{Cs}}  { 298}};
 
%% Group 2 - IIA
  \node[name=Be, right of=Li, AtomicProperty3]    {\AtomicPropertyFormat{  \ce{Be}}  { 112}};
  \node[name=Mg, below of=Be, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Mg}}  { 145}};
  \node[name=Ca, below of=Mg, AtomicProperty3]  {\AtomicPropertyFormat{  \ce{Ca}}  { 194}};
    \node[name=Sr, below of=Ca, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Sr }}  {219}};
  \node[name=Ba, below of=Sr, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Ba}}  { 253}};


 %% Group 13 - IIIA
  \node[name=Ga, right of=Ca, AtomicProperty3, xshift=1cm]   {\AtomicPropertyFormat{  \ce{Ga}}  { 136}};
    \node[name=Al, above of=Ga, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Al }}  {118}};
  \node[name=B, above of=Al, AtomicProperty3]  {\AtomicPropertyFormat{  \ce{B }}  {87}}; 
  \node[name=In, below of=Ga, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{In }}  {156}};
  \node[name=Tl, below of=In, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Tl }}  {156}};

%% Group 14 - IVA
  \node[name=C, right of=B, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{C }}  {67}};
  \node[name=Si, below of=C, AtomicProperty3] {\AtomicPropertyFormat{  \ce{Si}}  { 111}}; 
  \node[name=Ge, below of=Si, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Ge}}  { 125}};
  \node[name=Sn, below of=Ge, AtomicProperty3]{\AtomicPropertyFormat{  \ce{Sn }}  {145}};	 
  \node[name=Pb, below of=Sn, AtomicProperty3]  {\AtomicPropertyFormat{  \ce{Pb}}  { 154}}; 

%% Group 15 - VA
  \node[name=N, right of=C, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{N }}  {56}};
    \node[name=P, below of=N, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{P }}  {98}};
  \node[name=As, below of=P, AtomicProperty3]  {\AtomicPropertyFormat{  \ce{As }}  {114}}; 
  \node[name=Sb, below of=As, AtomicProperty3]  {\AtomicPropertyFormat{  \ce{Sb }}  {133}};     
  \node[name=Bi, below of=Sb, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Bi}}  { 143}};

 %% Group 16 - VIA
  \node[name=O, right of=N, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{O }}  {48}};
  \node[name=S, below of=O, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{S }}  {00}};
  \node[name=Se, below of=S, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Se}}  { 103}};
  \node[name=Te, below of=Se, AtomicProperty3] {\AtomicPropertyFormat{  \ce{Te }}  {123}};    
    \node[name=Po, below of=Te, AtomicProperty3]    {\AtomicPropertyFormat{  \ce{Po }}  {135}};

%% Group 17 - VIIA
  \node[name=F, right of=O, AtomicProperty3]  {\AtomicPropertyFormat{  \ce{F }}  {42}};
  \node[name=Cl, below of=F, AtomicProperty3]     {\AtomicPropertyFormat{  \ce{Cl}}  {79}};
  \node[name=Br, below of=Cl, AtomicProperty3]  {\AtomicPropertyFormat{  \ce{Br }}  {94}};
  \node[name=I, below of=Br, AtomicProperty3]    {\AtomicPropertyFormat{  \ce{I }}  {115}};
  \node[name=At, below of=I, AtomicProperty3]    {\AtomicPropertyFormat{  \ce{At }}  {127}};

%% Group 18 - VIIIA
  \node[name=Ne, right of=F, AtomicProperty3]  {\AtomicPropertyFormat{  \ce{Ne}}  { 38}};
  \node[name=He, above of=Ne, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{He}}  { 31}};
  \node[name=Ar, below of=Ne, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Ar }}  {71}};
  \node[name=Kr, below of=Ar, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Kr }}  {88}};
  \node[name=Xe, below of=Kr, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Xe}}  { 108}};
  \node[name=Rn, below of=Xe, AtomicProperty3]   {\AtomicPropertyFormat{  \ce{Rn}}  { 120}};

\node[name=Group1, above of=H, GroupLabel] {1 \hfill IA};
  \node[name=Group2, above of=Be, GroupLabel] {2 \hfill IIA};
   \node[name=Group13, above of=B, GroupLabel] {13 \hfill IIIA};
  \node[name=Group14, above of=C, GroupLabel] {14 \hfill IVA};
  \node[name=Group15, above of=N, GroupLabel] {15 \hfill VA};
  \node[name=Group16, above of=O, GroupLabel] {16 \hfill VIA};
  \node[name=Group17, above of=F, GroupLabel] {17 \hfill VIIA};
  \node[name=Group18, above of=He, GroupLabel] {18 \hfill VIIIA};
	\draw [<-, thick, -latex,postaction={decorate,decoration={reverse path,raise=-1em,text along path,text align=center,text={|\myshiftb|Atomic radius  increases}}}]   (50 em ,-45 em) to (0,-45em )  ;
 		 	\draw [<-, thick, -latex,postaction={decorate,decoration={reverse path,text along path,text align=center,text={|\myshiftb|Atomic radius increases}}}]    		(-8em,0em )  to   (-8 em ,-40 em);
}
%%%%%%%%%%%%%%%%%%


\pgfdeclareverticalshading{up}{100bp}
{color(0bp)=(pgftransparent!0); color(50bp)=(pgftransparent!0);
 color(75bp)=(pgftransparent!25); color(100bp)=(pgftransparent!25)}
\pgfdeclarefading{up}{\pgfuseshading{up}}    
\pgfdeclareradialshading{thick ring}{\pgfpointorigin}{
  color(0pt)=(pgftransparent!100); color(15pt)=(pgftransparent!100); 
  color(20)=(pgftransparent!0);
  color(25bp)=(pgftransparent!100); color(50bp)=(pgftransparent!100)}
\pgfdeclarefading{thick ring}{\pgfuseshading{thick ring}}    
\begin{tikzfadingfrompicture}[name=ball]
\shade [shading=ball, ball color=black] circle [radius=1];
\end{tikzfadingfrompicture} 
\begin{tikzfadingfrompicture}[name=ring]
\fill [white, path fading=thick ring] circle [radius=1];
\fill [black, path fading=up, fading angle=215] circle [radius=1];
\end{tikzfadingfrompicture}    

\tikzset{shiny ball/.style={
  fill=none, draw=none, shading=ball, shading angle=-15,
  postaction={fill=white, path fading=ball, opacity=0.75, fading angle=45},
  postaction={fill=white, path fading=ring}
}}



\newcommand{\ENTable}{
%% Fill Color Styles
  \tikzstyle{ElementFill} = [fill=yellow!15]
  \tikzstyle{AlkaliMetalFill} = [fill=blue!55]
  \tikzstyle{AlkalineEarthMetalFill} = [fill=blue!40]
  \tikzstyle{MetalFill} = [fill=blue!25]
  \tikzstyle{MetalloidFill} = [fill=orange!25]
  \tikzstyle{NonmetalFill} = [fill=green!25]
  \tikzstyle{HalogenFill} = [fill=green!40]
  \tikzstyle{NobleGasFill} = [fill=green!55]
  \tikzstyle{NoFill} = [fill=none]
  \tikzstyle{LanthanideActinideFill} = [fill=purple!25]
  \tikzstyle{Cations} = [fill=red!55]
  \tikzstyle{Anions} = [fill=blue!55]
  \tikzstyle{TMIons} = [fill=orange!55]

%% Element Styles
  \tikzstyle{Element} = [draw=black, ElementFill,
    minimum width=2.75cm, minimum height=2.75cm, node distance=2.75cm]
  \tikzstyle{AlkaliMetal} = [Element, AlkaliMetalFill]
  \tikzstyle{AlkalineEarthMetal} = [Element, AlkalineEarthMetalFill]
  \tikzstyle{Metal} = [Element, MetalFill]
  \tikzstyle{Metalloid} = [Element, MetalloidFill]
  \tikzstyle{Nonmetal} = [Element, NonmetalFill]
  \tikzstyle{Halogen} = [Element, HalogenFill]
  \tikzstyle{NobleGas} = [Element, NobleGasFill]
  \tikzstyle{LanthanideActinide} = [Element, LanthanideActinideFill]
  \tikzstyle{PeriodLabel} = [font={\sffamily\LARGE}, node distance=2.0cm]
  \tikzstyle{GroupLabel} = [font={\sffamily\LARGE}, minimum width=2.75cm, node distance=2.0cm]
  \tikzstyle{TitleLabel} = [font={\sffamily\Huge\bfseries}]
  \tikzstyle{plain} = [Element, NoFill]
  \tikzstyle{IonCations} = [Element, Cations]
  \tikzstyle{IonAnions} = [Element, Anions]
  \tikzstyle{IonTMIons} = [Element, TMIons]
  \tikzstyle{AtomicProperty1} = [Element, HalogenFill]
  \tikzstyle{AtomicProperty2} = [Element, MetalloidFill]
    \tikzstyle{AtomicProperty3} = [Element, ElementFill]
    \tikzstyle{AtomicProperty4} = [Element, AlkalineEarthMetalFill]


%% Group 1 - IAAtomicPropertyAtomicProperty42
  \node[name=H, AtomicProperty4]  {\AtomicPropertyFormat{  \ce{H}}  { 2.20}};
  \node[name=Li, below of=H, AtomicProperty4]    {\AtomicPropertyFormat{  \ce{Li}}  { 0.98}};
    \node[name=Na, below of=Li, AtomicProperty4]    {\AtomicPropertyFormat{  \ce{Na}}  { 0.93}};
  \node[name=K, below of=Na, AtomicProperty4]   {\AtomicPropertyFormat{  \ce{K}}  { 0.82}};
    \node[name=Rb, below of=K, AtomicProperty4]     {\AtomicPropertyFormat{  \ce{Rb}}  { 0.82}};
      \node[name=Cs, below of=Rb, AtomicProperty4]     {\AtomicPropertyFormat{  \ce{Cs}}  { 0.79}};
 

%% Group 2 - IIA
  \node[name=Be, right of=Li, AtomicProperty4]     {\AtomicPropertyFormat{  \ce{Be}}  { 1.57}};
  \node[name=Mg, below of=Be, AtomicProperty4]  {\AtomicPropertyFormat{  \ce{Mg}}  { 1.31}};  
  \node[name=Ca, below of=Mg, AtomicProperty4]   {\AtomicPropertyFormat{  \ce{Ca}}  { 1.00}};
    \node[name=Sr, below of=Ca, AtomicProperty4] {\AtomicPropertyFormat{  \ce{Sr}}  { 0.95}};  
  \node[name=Ba, below of=Sr, AtomicProperty4]   {\AtomicPropertyFormat{  \ce{Ba}}  { 0.89}};


 %% Group 13 - IIIA
  \node[name=Ga, right of=Ca, AtomicProperty4, xshift=1cm]  {\AtomicPropertyFormat{  \ce{Ga}}  { 1.81}};  
    \node[name=Al, above of=Ga, AtomicProperty4]   {\AtomicPropertyFormat{  \ce{Al }}  {1.61}}; 
  \node[name=B, above of=Al, AtomicProperty4]  {\AtomicPropertyFormat{  \ce{B }}  {2.04}};
  \node[name=In, below of=Ga, AtomicProperty4]    {\AtomicPropertyFormat{  \ce{In}}  { 1.78}};
  \node[name=Tl, below of=In, AtomicProperty4]    {\AtomicPropertyFormat{  \ce{Tl}}  { 1.62}};

%% Group 14 - IVA
  \node[name=C, right of=B, AtomicProperty4]    {\AtomicPropertyFormat{  \ce{C }}  {2.55}};
  \node[name=Si, below of=C, AtomicProperty4]  {\AtomicPropertyFormat{  \ce{Si}}  { 1.90}};
  \node[name=Ge, below of=Si, AtomicProperty4]    {\AtomicPropertyFormat{  \ce{Ge}}  { 2.01}};
  \node[name=Sn, below of=Ge, AtomicProperty4] {\AtomicPropertyFormat{  \ce{Sn}}  { 1.96}};	 
  \node[name=Pb, below of=Sn, AtomicProperty4]    {\AtomicPropertyFormat{  \ce{Pb}}  { 2.33}};

%% Group 15 - VA
 \node[name=N,right of =C,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{N}}  { 3.04}};
\node[name=P,below of =N,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{P }}  {2.19}};
\node[name=As,below of =P,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{As}}  { 2.18}};
\node[name=Sb,below of =As,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{Sb }}  {2.05}};
\node[name=Bi,below of =Sb,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{Bi}}  { 2.02}};

\node[name=O,right of =N,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{O}}  { 3.44}};
\node[name=S,below of =O,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{S}}  { 2.58}};
\node[name=Se,below of =S,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{Se}}  { 2.55}};
\node[name=Te,below of =Se,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{Te }}  {2.1}};
\node[name=Po,below of =Te,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{Po}}  { 2.0}};

\node[name=F,right of =O,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{F}}  { 3.98}};
\node[name=Cl,below of =F,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{Cl}}  { 3.16}};
\node[name=Br,below of =Cl,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{Br}}  { 2.96}};
\node[name=I,below of =Br,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{I }}  {2.66}};
\node[name=At,below of =I,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{At}}  { 2.2}};

\node[name=Ne,right of =F,AtomicProperty4]	{};
\node[name=He,above of=Ne,AtomicProperty4]	{};
\node[name=Ar,below of =Ne,AtomicProperty4]	{};
\node[name=Kr,below of =Ar,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{Kr}}  { 3.00}};
\node[name=Xe,below of =Kr,AtomicProperty4]	{\AtomicPropertyFormat{  \ce{Xe}}  { 2.6}};
\node[name=Rn,below of =Xe,AtomicProperty4]	{};

\node[name=Group1, above of=H, GroupLabel] {1 \hfill IA};
  \node[name=Group2, above of=Be, GroupLabel] {2 \hfill IIA};
   \node[name=Group13, above of=B, GroupLabel] {13 \hfill IIIA};
  \node[name=Group14, above of=C, GroupLabel] {14 \hfill IVA};
  \node[name=Group15, above of=N, GroupLabel] {15 \hfill VA};
  \node[name=Group16, above of=O, GroupLabel] {16 \hfill VIA};
  \node[name=Group17, above of=F, GroupLabel] {17 \hfill VIIA};
  \node[name=Group18, above of=He, GroupLabel] {18 \hfill VIIIA};
	\draw [<-, thick, -latex,postaction={decorate,decoration={text along path,text align=center,text={|\myshiftb|Electronegativity  increases}}}] (0,10em ) to   (50 em ,10 em);
 		 	\draw [<-, thick, -latex,postaction={decorate,decoration={reverse path,raise=0em,text along path,text align=center,text={|\myshiftb|Electronegativity  increases}}}]     (66 em ,-40 em)	to	(66em,0em ) ;

}
%%%%%%%%%%%%%%%%%%



\newcommand{\MCTable}{
%% Fill Color Styles
  \tikzstyle{ElementFill} = [fill=yellow!15]
  \tikzstyle{AlkaliMetalFill} = [fill=blue!55]
  \tikzstyle{AlkalineEarthMetalFill} = [fill=blue!40]
  \tikzstyle{MetalFill} = [fill=blue!25]
  \tikzstyle{MetalloidFill} = [fill=orange!25]
  \tikzstyle{NonmetalFill} = [fill=green!25]
  \tikzstyle{HalogenFill} = [fill=green!40]
  \tikzstyle{NobleGasFill} = [fill=green!55]
  \tikzstyle{NoFill} = [fill=none]
  \tikzstyle{LanthanideActinideFill} = [fill=purple!25]
  \tikzstyle{Cations} = [fill=red!55]
  \tikzstyle{Anions} = [fill=blue!55]
  \tikzstyle{TMIons} = [fill=orange!55]

%% Element Styles
  \tikzstyle{Element} = [draw=black, ElementFill,
    minimum width=2.75cm, minimum height=2.75cm, node distance=2.75cm]
  \tikzstyle{AlkaliMetal} = [Element, AlkaliMetalFill]
  \tikzstyle{AlkalineEarthMetal} = [Element, AlkalineEarthMetalFill]
  \tikzstyle{Metal} = [Element, MetalFill]
  \tikzstyle{Metalloid} = [Element, MetalloidFill]
  \tikzstyle{Nonmetal} = [Element, NonmetalFill]
  \tikzstyle{Halogen} = [Element, HalogenFill]
  \tikzstyle{NobleGas} = [Element, NobleGasFill]
  \tikzstyle{LanthanideActinide} = [Element, LanthanideActinideFill]
  \tikzstyle{PeriodLabel} = [font={\sffamily\LARGE}, node distance=2.0cm]
  \tikzstyle{GroupLabel} = [font={\sffamily\LARGE}, minimum width=2.75cm, node distance=2.0cm]
  \tikzstyle{TitleLabel} = [font={\sffamily\Huge\bfseries}]
  \tikzstyle{plain} = [Element, NoFill]
  \tikzstyle{IonCations} = [Element, Cations]
  \tikzstyle{IonAnions} = [Element, Anions]
  \tikzstyle{IonTMIons} = [Element, TMIons]
  \tikzstyle{AtomicProperty1} = [Element, HalogenFill]
  \tikzstyle{AtomicProperty2} = [Element, MetalloidFill]
    \tikzstyle{AtomicProperty3} = [Element, ElementFill]
    \tikzstyle{AtomicProperty4} = [Element, AlkalineEarthMetalFill]
        \tikzstyle{AtomicProperty5} = [Element, LanthanideActinideFill]



%% Group 1 - IAAtomicPropertyAtomicProperty42
  \node[name=H, AtomicProperty5]  {\AtomicPropertyFormat{  \ce{H}}  {  }};
  \node[name=Li, below of=H, AtomicProperty5]    {\AtomicPropertyFormat{  \ce{Li}} {  }};
    \node[name=Na, below of=Li, AtomicProperty5]    {\AtomicPropertyFormat{  \ce{Na}}  {  }};
  \node[name=K, below of=Na, AtomicProperty5]   {\AtomicPropertyFormat{  \ce{K}}  {  }};
    \node[name=Rb, below of=K, AtomicProperty5]     {\AtomicPropertyFormat{  \ce{Rb}} {  }};
      \node[name=Cs, below of=Rb, AtomicProperty5]     {\AtomicPropertyFormat{  \ce{Cs}}  {  }};
 

%% Group 2 - IIA
  \node[name=Be, right of=Li, AtomicProperty5]     {\AtomicPropertyFormat{  \ce{Be}}  {  }};
  \node[name=Mg, below of=Be, AtomicProperty5]  {\AtomicPropertyFormat{  \ce{Mg}}  {  }}; 
  \node[name=Ca, below of=Mg, AtomicProperty5]   {\AtomicPropertyFormat{  \ce{Ca}}  {  }};
    \node[name=Sr, below of=Ca, AtomicProperty5] {\AtomicPropertyFormat{  \ce{Sr}}  {  }}; 
  \node[name=Ba, below of=Sr, AtomicProperty5]   {\AtomicPropertyFormat{  \ce{Ba}} {  }};


 %% Group 13 - IIIA
  \node[name=Ga, right of=Ca, AtomicProperty5, xshift=1cm]  {\AtomicPropertyFormat{  \ce{Ga}} {  }}; 
    \node[name=Al, above of=Ga, AtomicProperty5]   {\AtomicPropertyFormat{  \ce{Al }}  {  }}; 
  \node[name=B, above of=Al, AtomicProperty5]  {\AtomicPropertyFormat{  \ce{B }}  {  }};
  \node[name=In, below of=Ga, AtomicProperty5]    {\AtomicPropertyFormat{  \ce{In}}  {  }};
  \node[name=Tl, below of=In, AtomicProperty5]    {\AtomicPropertyFormat{  \ce{Tl}}  {  }};

%% Group 14 - IVA
  \node[name=C, right of=B, AtomicProperty5]    {\AtomicPropertyFormat{  \ce{C }}  {  }};
  \node[name=Si, below of=C, AtomicProperty5]  {\AtomicPropertyFormat{  \ce{Si}}  {  }};
  \node[name=Ge, below of=Si, AtomicProperty5]    {\AtomicPropertyFormat{  \ce{Ge}} {  }};
  \node[name=Sn, below of=Ge, AtomicProperty5] {\AtomicPropertyFormat{  \ce{Sn}}  {  }};	 
  \node[name=Pb, below of=Sn, AtomicProperty5]    {\AtomicPropertyFormat{  \ce{Pb}}  {  }};

%% Group 15 - VA
 \node[name=N,right of =C,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{N}}  {  }};
\node[name=P,below of =N,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{P }}  {  }};
\node[name=As,below of =P,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{As}}  {  }};
\node[name=Sb,below of =As,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Sb }}  {  }};
\node[name=Bi,below of =Sb,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Bi}}  {  }};

\node[name=O,right of =N,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{O}}  {  }};
\node[name=S,below of =O,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{S}}  {  }};
\node[name=Se,below of =S,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Se}}  {  }};
\node[name=Te,below of =Se,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Te }}  {  }};
\node[name=Po,below of =Te,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Po}}  {  }};

\node[name=F,right of =O,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{F}}  {  }};
\node[name=Cl,below of =F,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Cl}}  {  }};
\node[name=Br,below of =Cl,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Br}}  {  }};
\node[name=I,below of =Br,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{I }}  {  }};
\node[name=At,below of =I,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{At}}  {  }};

\node[name=Ne,right of =F,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Ne}}  {  }};
\node[name=He,above of=Ne,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{He}}  {  }};
\node[name=Ar,below of =Ne,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Ar}}  {  }};
\node[name=Kr,below of =Ar,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Kr}}  {  }};
\node[name=Xe,below of =Kr,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Xe}}  {  }};
\node[name=Rn,below of =Xe,AtomicProperty5]	{\AtomicPropertyFormat{  \ce{Rn}}  {  }};

\node[name=Group1, above of=H, GroupLabel] {1 \hfill IA};
  \node[name=Group2, above of=Be, GroupLabel] {2 \hfill IIA};
   \node[name=Group13, above of=B, GroupLabel] {13 \hfill IIIA};
  \node[name=Group14, above of=C, GroupLabel] {14 \hfill IVA};
  \node[name=Group15, above of=N, GroupLabel] {15 \hfill VA};
  \node[name=Group16, above of=O, GroupLabel] {16 \hfill VIA};
  \node[name=Group17, above of=F, GroupLabel] {17 \hfill VIIA};
  \node[name=Group18, above of=He, GroupLabel] {18 \hfill VIIIA};
	\draw [<-, thick, -latex,postaction={decorate,decoration={reverse path,raise=-1em,text along path,text align=center,text={|\myshiftb|Atomic radius  increases}}}]   (50 em ,-45 em) to (0,-45em )  ;
 		 	\draw [<-, thick, -latex,postaction={decorate,decoration={reverse path,text along path,text align=center,text={|\myshiftb|Atomic radius increases}}}]    		(-8em,0em )  to   (-8 em ,-40 em);

}
%%%%%%%%%%%%%%%%%%






	 
 \usepackage{bm}

\pgfdeclareverticalshading{rainbow}{100bp}
{color(0bp)=(red); color(25bp)=(red); color(35bp)=(yellow);
color(45bp)=(green); color(55bp)=(cyan); color(65bp)=(blue);
color(75bp)=(violet); color(100bp)=(violet)}


\ExplSyntaxOn

\keys_define:nn { colour_transition_circle } {
    inner   .fp_set:N   = \l__inner_radius,
    inner   .initial:n  = {2},
    outer   .fp_set:N   = \l__outer_radius,
    outer   .initial:n  = {3},
    angle   .fp_set:N   = \l__start_angle,
    angle   .initial:n  = {0}
}

\NewDocumentCommand \ColourTransitionCircle { O{} m } {
\group_begin:
    \keys_set:nn { colour_transition_circle } {#1}
    \clist_clear:N \l_tmpa_clist
    \clist_map_inline:nn {#2} {
        \clist_put_right:Nn \l_tmpa_clist {##1}
        %\clist_put_right:Nn \l_tmpa_clist {##1}
    }
    \exp_args:Nx \col_trans_circ:n \l_tmpa_clist
\group_end:
}

\cs_new_protected:Npn \col_trans_circ:n #1 {
    \int_step_inline:nnnn {1} {1} {\clist_count:n {#1} - 1} {
        \path[top~color=\clist_item:nn {#1} {##1}, bottom~color=\clist_item:nn {#1} {##1+1}, shading~angle={270-(180-360/\clist_count:n {#1})/2+(##1-1)*360/\clist_count:n {#1}+\fp_use:N \l__start_angle}] ({\fp_use:N \l__inner_radius*cos((##1-1)*360/\clist_count:n {#1}+\fp_use:N \l__start_angle)},{\fp_use:N \l__inner_radius*sin((##1-1)*360/\clist_count:n {#1}+\fp_use:N \l__start_angle)}) arc[radius = \fp_use:N \l__inner_radius, start~angle={(##1-1)*360/\clist_count:n {#1}+\fp_use:N \l__start_angle}, delta~angle=360/\clist_count:n {#1}] -- ({\fp_use:N \l__outer_radius*cos(##1*360/\clist_count:n {#1}+\fp_use:N \l__start_angle)},{\fp_use:N \l__outer_radius*sin(##1*360/\clist_count:n {#1}+\fp_use:N \l__start_angle)}) arc[radius = \fp_use:N \l__outer_radius, start~angle={##1*360/\clist_count:n {#1}+\fp_use:N \l__start_angle}, delta~angle=-360/\clist_count:n {#1}] -- cycle;
    }
    \path[top~color=\clist_item:nn {#1} {\clist_count:n {#1}}, bottom~color=\clist_item:nn {#1} {1}, shading~angle={180-180/\clist_count:n {#1}+\fp_use:N \l__start_angle}]({\fp_use:N \l__inner_radius*cos((\clist_count:n {#1}-1)*360/\clist_count:n {#1}+\fp_use:N \l__start_angle)},{\fp_use:N \l__inner_radius*sin((\clist_count:n {#1}-1)*360/\clist_count:n {#1}+\fp_use:N \l__start_angle)}) arc[radius = \fp_use:N \l__inner_radius, start~angle={(\clist_count:n {#1}-1)*360/\clist_count:n {#1}+\fp_use:N \l__start_angle}, delta~angle=360/\clist_count:n {#1}] -- ({\fp_use:N \l__outer_radius*cos(\clist_count:n {#1}*360/\clist_count:n {#1}+\fp_use:N \l__start_angle)},{\fp_use:N \l__outer_radius*sin(\clist_count:n {#1}*360/\clist_count:n {#1}+\fp_use:N \l__start_angle)}) arc[radius = \fp_use:N \l__outer_radius, start~angle={\clist_count:n {#1}*360/\clist_count:n {#1}+\fp_use:N \l__start_angle}, delta~angle=-360/\clist_count:n {#1}] -- cycle;
}

\ExplSyntaxOff


\makeatletter
\def\createshadingfromlist#1#2#3{%
  \pgfutil@tempcnta=0\relax
  \pgfutil@for\pgf@tmp:={#3}\do{\advance\pgfutil@tempcnta by1}%
  \ifnum\pgfutil@tempcnta=1\relax%
    \edef\pgf@spec{color(0)=(#3);color(100)=(#3)}%
  \else%
    \pgfmathparse{50/(\pgfutil@tempcnta-1)}\let\pgf@step=\pgfmathresult%
    %
    \pgfutil@tempcntb=1\relax%
    \pgfutil@for\pgf@tmp:={#3}\do{%
      \ifnum\pgfutil@tempcntb=1\relax%
        \edef\pgf@spec{color(0)=(\pgf@tmp);color(25)=(\pgf@tmp)}%
      \else%
        \ifnum\pgfutil@tempcntb<\pgfutil@tempcnta\relax%
          \pgfmathparse{25+\pgf@step/4+(\pgfutil@tempcntb-1)*\pgf@step}%
          \edef\pgf@spec{\pgf@spec;color(\pgfmathresult)=(\pgf@tmp)}%
        \else%
          \edef\pgf@spec{\pgf@spec;color(75)=(\pgf@tmp);color(100)=(\pgf@tmp)}%
        \fi%
      \fi%
      \advance\pgfutil@tempcntb by1\relax%
    }%
  \fi%
  \csname pgfdeclare#2shading\endcsname{#1}{100}\pgf@spec%
}
\definecolor{indigo}{rgb}{0.44, 0.0, 1.0}
\createshadingfromlist{shading1}{vertical}{red,yellow,green,cyan,blue}
\createshadingfromlist{shading2}{vertical}{red,yellow}
\createshadingfromlist{shading3}{vertical}{black,blue,cyan,white}

\createshadingfromlist{shading0}{vertical}{violet}
\createshadingfromlist{shading1}{vertical}{violet,indigo}
\createshadingfromlist{shading2}{vertical}{indigo}
\createshadingfromlist{shading3}{vertical}{indigo,blue}
\createshadingfromlist{shading4}{vertical}{blue}
\createshadingfromlist{shading5}{vertical}{blue,green}
\createshadingfromlist{shading6}{vertical}{green}
\createshadingfromlist{shading7}{vertical}{green,yellow}
\createshadingfromlist{shading8}{vertical}{yellow}
\createshadingfromlist{shading9}{vertical}{yellow,orange}
\createshadingfromlist{shading10}{vertical}{orange}
\createshadingfromlist{shading11}{vertical}{orange,red}
\createshadingfromlist{shading12}{vertical}{red}
\createshadingfromlist{shading13}{vertical}{white,red!10,red!20,red!30,red!40}

				 
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}
\usetikzlibrary{spy}
\makeatletter
\newcommand\xcoord[2][center]{{%
    \pgfpointanchor{#2}{#1}%
    \pgfmathparse{\pgf@x/\pgf@xx}%
    \pgfmathprintnumber{\pgfmathresult}%
}}
\newcommand\ycoord[2][center]{{%
    \pgfpointanchor{#2}{#1}%bll
    \pgfmathparse{\pgf@y/\pgf@yy}%
    \pgfmathprintnumber{\pgfmathresult}%
}}
\makeatother
\usetikzlibrary{decorations.text}
\tikzset{
  ring shading/.code args={from #1 at #2 to #3 at #4}{
    \def\colin{#1}
    \def\radin{#2}
    \def\colout{#3}
    \def\radout{#4}
    \pgfmathsetmacro{\proportion}{\radin/\radout}
    \pgfmathsetmacro{\outer}{.8818cm}
    \pgfmathsetmacro{\inner}{.8818cm*\proportion}
    \pgfmathsetmacro{\innerlow}{\inner-0.01pt}
    \pgfdeclareradialshading{ring}{\pgfpoint{0cm}{0cm}}%
    {
      color(0pt)=(white);
      color(\innerlow)=(white);
      color(\inner)=(#1);
      color(\outer)=(#3)
    }
    \pgfkeysalso{/tikz/shading=ring}
  },
}

\pgfdeclarefunctionalshading{sphere}{\pgfpoint{-25bp}{-25bp}}{\pgfpoint{25bp}{25bp}}{}{
%% calculate unit coordinates
25 div exch
25 div exch
%% copy stack
2 copy 
%% compute -z^2 of the current position 
dup mul exch
dup mul add
1.0 sub
%% and the -z^2 of the light source 
0.3 dup mul
-0.5 dup mul add
1.0 sub
%% now their sqrt product
mul abs sqrt
%% and the sum product of the rest
exch 0.3 mul add
exch -0.5 mul add
%% max(dotprod,0)
dup abs add 2.0 div 
%% matte-ify
0.6 mul 0.4 add
%% currently there is just one number in the stack.
%% we need three corresponding to the RGB values
dup
0.4
}
\usetikzlibrary{calc,fadings,decorations.pathreplacing}

\tikzset{My Line Style/.style={ultra thick, blue, fill=yellow!10, fill opacity=0.5, join=round}}



\newcommand\FccUnitCell{ 
%points on cube
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,4,0);
\coordinate (C) at (0,4,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,4,0);
\coordinate (G) at (4,4,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%place non-atom cube corners
\shadedraw [ball color= black] (A) circle (0.25cm);
\shadedraw [ball color= black] (C) circle (0.25cm);
\shadedraw [ball color= black] (F) circle (0.25cm);
\shadedraw [ball color= black] (H) circle (0.25cm);
\shadedraw [ball color= black] (B) circle (0.25cm);
\shadedraw [ball color= black] (D) circle (0.25cm);
\shadedraw [ball color= black] (E) circle (0.25cm);
\shadedraw [ball color= black] (G) circle (0.25cm);
%draw the center of each face
\shadedraw [ball color= black] (I) circle (0.25cm);
\shadedraw [ball color= black] (J) circle (0.25cm);
\shadedraw [ball color= black] (K) circle (0.25cm);
\shadedraw [ball color= black] (L) circle (0.25cm);
\shadedraw [ball color= black] (M) circle (0.25cm);
\shadedraw [ball color= black] (N) circle (0.25cm);
%draw cube
\draw [dashed] (A) -- (B);
\draw [dashed] (B) -- (C);
\draw [dashed] (C) -- (D);
\draw [dashed] (D) -- (A);
\draw [dashed] (E) -- (F);
\draw [dashed] (F) -- (G);
\draw [dashed] (G) -- (H);
\draw [dashed] (H) -- (E);
\draw [dashed] (A) -- (E);
\draw [dashed] (B) -- (F);
\draw [dashed] (C) -- (G);
\draw [dashed] (D) -- (H);
\draw [dashed] (0,4,2) -- (4,4,2) -- (4,0,2)-- (0,0,2) -- cycle;
\draw [dashed] (2,4,0) -- (2,4,4) -- (2,0,4)-- (2,0,0) -- cycle;
\draw [dashed] (0,2,4)  -- (4,2,4) -- (4,2,0)  -- (0,2,0) -- cycle;
\draw [dashed] (I)  -- (J) ;
\draw [dashed] (K)  -- (L) ;
\draw [dashed] (M)  -- (N) ;
 }


\newcommand\waterphadesiagram{\begin{center}
\begin{tikzpicture}[scale=0.8]
	% Draw the grid.
	\draw [cornflower!20,step=0.25,thin] (-3,-3) grid (3,3);
	\draw [cornflower!40,step=1.0,thin] (-3,-3) grid (3,3);
	% Draw Axes
	\draw[axisarrow] (-2.75,-3) -- (-2.75,3);
		\draw[dotted, thick] (-0.6,-3) -- (-0.6,0) -- (-2.75,0);
			\draw[scarlet] (-1.6,0.5)  edge[out=350,in=180,axisarrow] (-0.6,0);
	\node[inner sep=0pt] at (-1.6,0.6) {{\scriptsize (0$^{\circ}$C, 1 atm)}};

		\draw[dotted, thick] (2.6,-3) -- (2.6,2.2) -- (-2.75,2.2);
			\draw[scarlet] (2,2.5)  edge[out=275,in=180,axisarrow] (2.6,2.2);
	\node[inner sep=0pt] at (2,2.6) {{\scriptsize (374$^{\circ}$C, 218 atm)}};


	\node[inner sep=0pt] at (-2.5,2.8) {$P$};
	\draw[axisarrow] (-3,-2.75) -- (3,-2.75);
	\node[inner sep=0pt] at (2.8,-2.5) {$T$};
	% Draw phase boundaries
	\draw[thick, cornflower] (-2.75,-2.75) edge[out=20,in=240] (-0.5,-1);
	\draw[thick, cornflower] (-0.5,-1) -- (-1,2.8);
	\draw[thick, cornflower] (-0.5,-1) edge[out=20,in=250] (2.6,2.2);
	% Label Cold Toast phase
	\node[inner sep=0pt] at (-1.75,1) {\begin{tabular}{c} (s) \end{tabular}};
	% Label Toast phase
	\node[inner sep=0pt] at (0.5,1) {(l)};
	% Label Airplane Wine phase
	\node[inner sep=0pt] at (1,-2) {\begin{tabular}{c} (g) \end{tabular}};
	% Point to and label the Toast Point
	\draw[scarlet] (1,-1) edge[out=190,in=350,axisarrow] (-0.5,-1);
	\node[inner sep=0pt] at (1.8,-0.8) {{\scriptsize (0.01$^{\circ}$C, 0.006 atm)}};
\end{tikzpicture}\end{center}}	


\newcommand\FccAlloyA{\begin{center}\begin{tikzpicture}[scale = 0.4]
%points on cube
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,4,0);
\coordinate (C) at (0,4,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,4,0);
\coordinate (G) at (4,4,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%place non-atom cube corners
\shadedraw [ball color= gray!20] (A) circle (0.25cm);
\shadedraw [ball color= black] (C) circle (0.25cm);
\shadedraw [ball color= black] (F) circle (0.25cm);
\shadedraw [ball color= black] (H) circle (0.25cm);
\shadedraw [ball color= black] (B) circle (0.25cm);
\shadedraw [ball color= black] (D) circle (0.25cm);
\shadedraw [ball color= black] (E) circle (0.25cm);
\shadedraw [ball color= black] (G) circle (0.25cm);
%draw the center of each face
\shadedraw [ball color= black] (I) circle (0.25cm);
\shadedraw [ball color= black] (J) circle (0.25cm);
\shadedraw [ball color= black] (K) circle (0.25cm);
\shadedraw [ball color= black] (L) circle (0.25cm);
\shadedraw [ball color= black] (M) circle (0.25cm);
\shadedraw [ball color= black] (N) circle (0.25cm);
%draw cube
\draw [dashed] (A) -- (B);
\draw [dashed] (B) -- (C);
\draw [dashed] (C) -- (D);
\draw [dashed] (D) -- (A);
\draw [dashed] (E) -- (F);
\draw [dashed] (F) -- (G);
\draw [dashed] (G) -- (H);
\draw [dashed] (H) -- (E);
\draw [dashed] (A) -- (E);
\draw [dashed] (B) -- (F);
\draw [dashed] (C) -- (G);
\draw [dashed] (D) -- (H);
\draw [dashed] (0,4,2) -- (4,4,2) -- (4,0,2)-- (0,0,2) -- cycle;
\draw [dashed] (2,4,0) -- (2,4,4) -- (2,0,4)-- (2,0,0) -- cycle;
\draw [dashed] (0,2,4)  -- (4,2,4) -- (4,2,0)  -- (0,2,0) -- cycle;
\draw [dashed] (I)  -- (J) ;
\draw [dashed] (K)  -- (L) ;
\draw [dashed] (M)  -- (N) ;
\begin{scope}[xshift=1cm, yshift=-3cm]
\shadedraw [ball color= black, yshift=2cm] (7,4,5) circle (0.25cm) node [right, xshift=1cm] {\ce{A}};
\shadedraw [ball color= gray!20, yshift=2cm] (7,5,5) circle (0.25cm) node [right, xshift=1cm] {\ce{B}};
\end{scope}
\end{tikzpicture}\end{center}}

\newcommand\FccAlloyB{\begin{center}\begin{tikzpicture}[scale = 0.4]
%points on cube
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,4,0);
\coordinate (C) at (0,4,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,4,0);
\coordinate (G) at (4,4,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%place non-atom cube corners
\shadedraw [ball color= gray!20] (A) circle (0.25cm);
\shadedraw [ball color= gray!20] (C) circle (0.25cm);
\shadedraw [ball color= gray!20] (F) circle (0.25cm);
\shadedraw [ball color= gray!20] (H) circle (0.25cm);
\shadedraw [ball color= black] (B) circle (0.25cm);
\shadedraw [ball color= black] (D) circle (0.25cm);
\shadedraw [ball color= black] (E) circle (0.25cm);
\shadedraw [ball color= black] (G) circle (0.25cm);
%draw the center of each face
\shadedraw [ball color= black] (I) circle (0.25cm);
\shadedraw [ball color= black] (J) circle (0.25cm);
\shadedraw [ball color= black] (K) circle (0.25cm);
\shadedraw [ball color= black] (L) circle (0.25cm);
\shadedraw [ball color= black] (M) circle (0.25cm);
\shadedraw [ball color= black] (N) circle (0.25cm);
%draw cube
\draw [dashed] (A) -- (B);
\draw [dashed] (B) -- (C);
\draw [dashed] (C) -- (D);
\draw [dashed] (D) -- (A);
\draw [dashed] (E) -- (F);
\draw [dashed] (F) -- (G);
\draw [dashed] (G) -- (H);
\draw [dashed] (H) -- (E);
\draw [dashed] (A) -- (E);
\draw [dashed] (B) -- (F);
\draw [dashed] (C) -- (G);
\draw [dashed] (D) -- (H);
\draw [dashed] (0,4,2) -- (4,4,2) -- (4,0,2)-- (0,0,2) -- cycle;
\draw [dashed] (2,4,0) -- (2,4,4) -- (2,0,4)-- (2,0,0) -- cycle;
\draw [dashed] (0,2,4)  -- (4,2,4) -- (4,2,0)  -- (0,2,0) -- cycle;
\draw [dashed] (I)  -- (J) ;
\draw [dashed] (K)  -- (L) ;
\draw [dashed] (M)  -- (N) ;
\begin{scope}[xshift=1cm, yshift=-3cm]
\shadedraw [ball color= black, yshift=2cm] (7,4,5) circle (0.25cm) node [right, xshift=1cm] {\ce{A}};
\shadedraw [ball color= gray!20, yshift=2cm] (7,5,5) circle (0.25cm) node [right, xshift=1cm] {\ce{B}};
\end{scope}
\end{tikzpicture}\end{center}}

\newcommand\FccAlloyC{\begin{center}\begin{tikzpicture}[scale = 0.4]
%points on cube
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,4,0);
\coordinate (C) at (0,4,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,4,0);
\coordinate (G) at (4,4,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%place non-atom cube corners
\shadedraw [ball color= gray!20] (A) circle (0.25cm);
\shadedraw [ball color= gray!20] (C) circle (0.25cm);
\shadedraw [ball color= gray!20] (F) circle (0.25cm);
\shadedraw [ball color= gray!20] (H) circle (0.25cm);
\shadedraw [ball color= gray!20] (B) circle (0.25cm);
\shadedraw [ball color= gray!20] (D) circle (0.25cm);
\shadedraw [ball color= gray!20] (E) circle (0.25cm);
\shadedraw [ball color= gray!20] (G) circle (0.25cm);
%draw the center of each face
\shadedraw [ball color= black] (I) circle (0.25cm);
\shadedraw [ball color= black] (J) circle (0.25cm);
\shadedraw [ball color= black] (K) circle (0.25cm);
\shadedraw [ball color= black] (L) circle (0.25cm);
\shadedraw [ball color= black] (M) circle (0.25cm);
\shadedraw [ball color= black] (N) circle (0.25cm);
%draw cube
\draw [dashed] (A) -- (B);
\draw [dashed] (B) -- (C);
\draw [dashed] (C) -- (D);
\draw [dashed] (D) -- (A);
\draw [dashed] (E) -- (F);
\draw [dashed] (F) -- (G);
\draw [dashed] (G) -- (H);
\draw [dashed] (H) -- (E);
\draw [dashed] (A) -- (E);
\draw [dashed] (B) -- (F);
\draw [dashed] (C) -- (G);
\draw [dashed] (D) -- (H);
\draw [dashed] (0,4,2) -- (4,4,2) -- (4,0,2)-- (0,0,2) -- cycle;
\draw [dashed] (2,4,0) -- (2,4,4) -- (2,0,4)-- (2,0,0) -- cycle;
\draw [dashed] (0,2,4)  -- (4,2,4) -- (4,2,0)  -- (0,2,0) -- cycle;
\draw [dashed] (I)  -- (J) ;
\draw [dashed] (K)  -- (L) ;
\draw [dashed] (M)  -- (N) ;
\begin{scope}[xshift=1cm, yshift=-3cm]
\shadedraw [ball color= black, yshift=2cm] (7,4,5) circle (0.25cm) node [right, xshift=1cm] {\ce{A}};
\shadedraw [ball color= gray!20, yshift=2cm] (7,5,5) circle (0.25cm) node [right, xshift=1cm] {\ce{B}};
\end{scope}
\end{tikzpicture}\end{center}}

\newcommand\multiphasediagram{\begin{center}\begin{tikzpicture}[scale = 0.8]
	\draw[axisarrow] (-2.75,-3) -- (-2.75,3);
	\node[inner sep=0pt] at (-2.5,2.8) {$P$};
	\draw[axisarrow] (-3,-2.75) -- (4,-2.75);
	\node[inner sep=0pt] at (3.8,-2.5) {$T$};
	% Draw phase boundaries
	\draw[thick, cornflower] (-2.75,-2.75) edge[out=20,in=240] (-0.5,-1);
	\draw[thick, cornflower] (-0.5,-1) -- (0.5,2);
	\draw[thick, cornflower] (-0.5,-1) edge[out=20,in=300] (0.5,2) ;
	\draw[thick, cornflower] (0.5,2) edge[out=60,in=210] (1.,2.5);
	\draw[thick, cornflower] (0.539,0) edge[out=20,in=240] (4,1);
\fill [cornflower] (0.539,0) circle [radius=2pt];
\fill [cornflower] (-0.5,-1) circle [radius=2pt];
\fill [cornflower] (0.5,2) circle [radius=2pt];
\fill [cornflower] (4,1) circle [radius=2pt];

		% Label Cold Toast phase
	\node[inner sep=0pt] at (-1.75,1) {\begin{tabular}{c} (s$_2$) \end{tabular}};
	% Label Toast phase
	\node[inner sep=0pt] at (0.5,1) {(s$_1$)};
		\node[inner sep=0pt] at (2,1) {(l)};

	% Label Airplane Wine phase
	\node[inner sep=0pt] at (1,-2) {\begin{tabular}{c} (g) \end{tabular}};
	% Point to and label the Toast Point
%	\draw[scarlet] (1,-1) edge[out=190,in=350,axisarrow] (-0.5,-1);
%	\node[inner sep=0pt] at (1.8,-0.8) {{\scriptsize (0.01$^{\circ}$C, 0.006 atm)}};
\end{tikzpicture}\end{center}}



\newcommand\FccAlloyD{\begin{center}\begin{tikzpicture}[scale = 0.4]
%points on cube
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,4,0);
\coordinate (C) at (0,4,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,4,0);
\coordinate (G) at (4,4,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%place non-atom cube corners
\shadedraw [ball color= gray!20] (A) circle (0.25cm);
\shadedraw [ball color= gray!20] (C) circle (0.25cm);
\shadedraw [ball color= gray!20] (F) circle (0.25cm);
\shadedraw [ball color= gray!20] (H) circle (0.25cm);
\shadedraw [ball color= gray!20] (B) circle (0.25cm);
\shadedraw [ball color= gray!20] (D) circle (0.25cm);
\shadedraw [ball color= gray!20] (E) circle (0.25cm);
\shadedraw [ball color= gray!20] (G) circle (0.25cm);
%draw the center of each face
\shadedraw [ball color= gray!20] (I) circle (0.25cm);
\shadedraw [ball color= gray!20] (J) circle (0.25cm);
\shadedraw [ball color= black] (K) circle (0.25cm);
\shadedraw [ball color= black] (L) circle (0.25cm);
\shadedraw [ball color= black] (M) circle (0.25cm);
\shadedraw [ball color= black] (N) circle (0.25cm);
%draw cube
\draw [dashed] (A) -- (B);
\draw [dashed] (B) -- (C);
\draw [dashed] (C) -- (D);
\draw [dashed] (D) -- (A);
\draw [dashed] (E) -- (F);
\draw [dashed] (F) -- (G);
\draw [dashed] (G) -- (H);
\draw [dashed] (H) -- (E);
\draw [dashed] (A) -- (E);
\draw [dashed] (B) -- (F);
\draw [dashed] (C) -- (G);
\draw [dashed] (D) -- (H);
\draw [dashed] (0,4,2) -- (4,4,2) -- (4,0,2)-- (0,0,2) -- cycle;
\draw [dashed] (2,4,0) -- (2,4,4) -- (2,0,4)-- (2,0,0) -- cycle;
\draw [dashed] (0,2,4)  -- (4,2,4) -- (4,2,0)  -- (0,2,0) -- cycle;
\draw [dashed] (I)  -- (J) ;
\draw [dashed] (K)  -- (L) ;
\draw [dashed] (M)  -- (N) ;
\begin{scope}[xshift=1cm, yshift=-3cm]
\shadedraw [ball color= black, yshift=2cm] (7,4,5) circle (0.25cm) node [right, xshift=1cm] {\ce{A}};
\shadedraw [ball color= gray!20, yshift=2cm] (7,5,5) circle (0.25cm) node [right, xshift=1cm] {\ce{B}};
\end{scope}
\end{tikzpicture}\end{center}}



\newcommand\SCUnitCell{ 
%points on cube
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,4,0);
\coordinate (C) at (0,4,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,4,0);
\coordinate (G) at (4,4,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%place non-atom cube corners
\shadedraw [ball color= black] (A) circle (0.25cm);
\shadedraw [ball color= black] (C) circle (0.25cm);
\shadedraw [ball color= black] (F) circle (0.25cm);
\shadedraw [ball color= black] (H) circle (0.25cm);
\shadedraw [ball color= black] (B) circle (0.25cm);
\shadedraw [ball color= black] (D) circle (0.25cm);
\shadedraw [ball color= black] (E) circle (0.25cm);
\shadedraw [ball color= black] (G) circle (0.25cm);
%draw cube
\draw [dashed] (A) -- (B);
\draw [dashed] (B) -- (C);
\draw [dashed] (C) -- (D);
\draw [dashed] (D) -- (A);
\draw [dashed] (E) -- (F);
\draw [dashed] (F) -- (G);
\draw [dashed] (G) -- (H);
\draw [dashed] (H) -- (E);
\draw [dashed] (A) -- (E);
\draw [dashed] (B) -- (F);
\draw [dashed] (C) -- (G);
\draw [dashed] (D) -- (H);
\draw [dashed] (0,4,2) -- (4,4,2) -- (4,0,2)-- (0,0,2) -- cycle;
\draw [dashed] (2,4,0) -- (2,4,4) -- (2,0,4)-- (2,0,0) -- cycle;
\draw [dashed] (0,2,4)  -- (4,2,4) -- (4,2,0)  -- (0,2,0) -- cycle;
\draw [dashed] (I)  -- (J) ;
\draw [dashed] (K)  -- (L) ;
\draw [dashed] (M)  -- (N) ;
 }



\newcommand\CaF{\begin{center}\begin{tikzpicture}[scale = 0.8]
%points on cube
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,4,0);
\coordinate (C) at (0,4,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,4,0);
\coordinate (G) at (4,4,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%draw cube
\draw [thick,black] (A) -- (B);
\draw [thick,black] (B) -- (C);
\draw [thick,black] (C) -- (D);
\draw [thick,black] (D) -- (A);
\draw [thick,black] (E) -- (F);
\draw [thick,black] (F) -- (G);
\draw [thick,black] (G) -- (H);
\draw [thick,black] (H) -- (E);
\draw [thick,black] (A) -- (E);
\draw [thick,black] (B) -- (F);
\draw [thick,black] (C) -- (G);
\draw [thick,black] (D) -- (H);
\coordinate (A1) at (0,4,2);
\coordinate (A2) at (4,4,2);
\coordinate (A3) at (4,0,2);
\coordinate (A4) at (0,0,2);
\coordinate (A5) at (2,4,0);
\coordinate (A6) at  (2,4,4);
\coordinate (A7) at (2,0,4);
\coordinate (A8) at (2,0,0);
\coordinate (A9) at (0,2,4);
\coordinate (A10) at (4,2,4);
\coordinate (A11) at (4,2,0);
\coordinate (A12) at (0,2,0);
\coordinate (A13) at (2,2,2);
\shadedraw [ball color= gray] (A) circle (0.15cm);
\shadedraw [ball color= gray] (B) circle (0.15cm);
\shadedraw [ball color= gray] (C) circle (0.15cm);
\shadedraw [ball color= gray] (D) circle (0.15cm);
\shadedraw [ball color= gray] (E) circle (0.15cm);
\shadedraw [ball color= gray] (F) circle (0.15cm);
\shadedraw [ball color= gray] (H) circle (0.15cm);
\shadedraw [ball color= gray] (I) circle (0.15cm);
\shadedraw [ball color= gray] (2,2,0) circle (0.15cm);
\shadedraw [ball color= gray] (2,0,2) circle (0.15cm);
\shadedraw [ball color= gray] (0,2,2) circle (0.15cm);
\shadedraw [ball color= gray] (2,4,2) circle (0.15cm);
\shadedraw [ball color= gray] (4,2,2) circle (0.15cm);
\draw [dashed] (4,4,4) -- (3,3,3) -- (2,4,2) ;
\draw [dashed] (2,2,4) -- (3,3,3) -- (4,2,2) ;
\draw [dashed] (2,4,2) -- (3,3,1) -- (4,4,0) ;
\draw [dashed] (2,2,0) -- (3,3,1) -- (2,2,2) ;

\draw [dashed] (2,0,2) -- (3,1,3) -- (4,0,4) ;
\draw [dashed] (2,2,4) -- (3,1,3) -- (4,2,2) ;
\draw [dashed] (2,2,0) -- (3,1,1) -- (4,2,2) ;
\draw [dashed] (2,0,2) -- (3,1,1) -- (4,0,0) ;

\draw [dashed] (0,4,0) -- (1,3,1) -- (2,4,2) ;
\draw [dashed] (0,2,2) -- (1,3,1) -- (2,2,0) ;
\draw [dashed] (0,4,4) -- (1,3,3) -- (2,4,2) ;
\draw [dashed] (0,2,2) -- (1,3,3) -- (2,2,4) ;

\draw [dashed] (0,0,0) -- (1,1,1) -- (2,0,2) ;
\draw [dashed] (0,2,2) -- (1,1,1) -- (2,2,0) ;
\draw [dashed] (0,4,0) -- (1,1,3) -- (2,0,2) ;
\draw [dashed] (0,2,2) -- (1,1,3) -- (2,2,4) ;
\shadedraw [ball color= green] (3,1,1) circle (0.25cm);
\shadedraw [ball color= green] (3,1,3) circle (0.25cm);
\shadedraw [ball color= green] (1,1,1) circle (0.25cm);
\shadedraw [ball color= green] (1,1,3) circle (0.25cm);
\shadedraw [ball color= green] (3,3,1) circle (0.25cm);
\shadedraw [ball color= green] (3,3,3) circle (0.25cm);
\shadedraw [ball color= green] (1,3,1) circle (0.25cm);
\shadedraw [ball color= green] (1,3,3) circle (0.25cm);
\shadedraw [ball color= gray] (G) circle (0.15cm);
\shadedraw [ball color= gray] (2,2,4) circle (0.15cm);
\begin{scope}[xshift=1cm, yshift=-3cm]
\shadedraw [ball color= gray, yshift=2cm] (7,4,5) circle (0.15cm) node [right, xshift=1cm] {\ce{Ca}};
\shadedraw [ball color= green, yshift=2cm] (7,5,5) circle (0.25cm) node [right, xshift=1cm] {\ce{F}};
\end{scope}
\end{tikzpicture}\end{center}}


\newcommand\BccUnitCell{
%points on cube
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,4,0);
\coordinate (C) at (0,4,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,4,0);
\coordinate (G) at (4,4,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%place non-atom cube corners
\shadedraw [ball color= black] (A) circle (0.25cm);
\shadedraw [ball color= black] (C) circle (0.25cm);
\shadedraw [ball color= black] (F) circle (0.25cm);
\shadedraw [ball color= black] (H) circle (0.25cm);
\shadedraw [ball color= black] (B) circle (0.25cm);
\shadedraw [ball color= black] (D) circle (0.25cm);
\shadedraw [ball color= black] (E) circle (0.25cm);
\shadedraw [ball color= black] (G) circle (0.25cm);
\shadedraw [ball color= black] (2,2,2) circle (0.25cm);
%draw cube
\draw [dashed] (A) -- (B);
\draw [dashed] (B) -- (C);
\draw [dashed] (C) -- (D);
\draw [dashed] (D) -- (A);
\draw [dashed] (E) -- (F);
\draw [dashed] (F) -- (G);
\draw [dashed] (G) -- (H);
\draw [dashed] (H) -- (E);
\draw [dashed] (A) -- (E);
\draw [dashed] (B) -- (F);
\draw [dashed] (C) -- (G);
\draw [dashed] (D) -- (H);
\draw [dashed] (0,4,2) -- (4,4,2) -- (4,0,2)-- (0,0,2) -- cycle;
\draw [dashed] (2,4,0) -- (2,4,4) -- (2,0,4)-- (2,0,0) -- cycle;
\draw [dashed] (0,2,4)  -- (4,2,4) -- (4,2,0)  -- (0,2,0) -- cycle;
\draw [dashed] (I)  -- (J) ;
\draw [dashed] (K)  -- (L) ;
\draw [dashed] (M)  -- (N) ;
}


\newcommand\XeF{\begin{center}\begin{tikzpicture}[scale = 0.6]
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,6,0);
\coordinate (C) at (0,6,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,6,0);
\coordinate (G) at (4,6,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%draw cube
\draw [thick,black] (A) -- (B);
\draw [thick,black] (B) -- (C);
\draw [thick,black] (C) -- (D);
\draw [thick,black] (D) -- (A);
\draw [thick,black] (E) -- (F);
\draw [thick,black] (F) -- (G);
\draw [thick,black] (G) -- (H);
\draw [thick,black] (H) -- (E);
\draw [thick,black] (A) -- (E);
\draw [thick,black] (B) -- (F);
\draw [thick,black] (C) -- (G);
\draw [thick,black] (D) -- (H);
%\draw [dashed] (0,4,0) -- (1,3,1) -- (2,4,2);
%\draw [dashed] (2,2,0) -- (1,3,1) --(0,2,2) ;
%\draw [dashed] (0,0,4) -- (1,1,3) -- (2,0,2)  ;
%\draw [dashed] (2,0,2) -- (3,1,1)  -- (4,0,0)  ;
%\draw [dashed] (2,2,0) -- (3,1,1) -- (4,2,2)  ;

\coordinate (A1) at (0,4,2);
\coordinate (A2) at (4,4,2);
\coordinate (A3) at (4,0,2);
\coordinate (A4) at (0,0,2);
\coordinate (A5) at (2,4,0);
\coordinate (A6) at  (2,4,4);
\coordinate (A7) at (2,0,4);
\coordinate (A8) at (2,0,0);
\coordinate (A9) at (0,2,4);
\coordinate (A10) at (4,2,4);
\coordinate (A11) at (4,2,0);
\coordinate (A12) at (0,2,0);
\coordinate (A13) at (2,2,2);

\draw [dashed] (4,3,0) -- (2,3,2) -- (0,3,4);
\draw [dashed] (0,3,0) -- (2,3,2) -- (4,3,4);

\shadedraw [ball color= blue] (A) circle (0.45cm);
\shadedraw [ball color= blue] (B) circle (0.45cm);
\shadedraw [ball color= blue] (C) circle (0.45cm);
\shadedraw [ball color= blue] (D) circle (0.45cm);
\shadedraw [ball color= blue] (E) circle (0.45cm);
\shadedraw [ball color= blue] (F) circle (0.45cm);
\shadedraw [ball color= blue] (H) circle (0.45cm);
\shadedraw [ball color= blue] (4,6,4) circle (0.45cm);
\shadedraw [ball color= orange] (2,3,2) circle (0.40cm);
\shadedraw [ball color= orange] (4,1.5,0) circle (0.40cm);
\shadedraw [ball color= orange] (4,4.5,0) circle (0.40cm);
\shadedraw [ball color= orange] (0,1.5,4) circle (0.40cm);
\shadedraw [ball color= orange] (0,4.5,4) circle (0.40cm);
\shadedraw [ball color= orange] (4,1.5,4) circle (0.40cm);
\shadedraw [ball color= orange] (4,4.5,4) circle (0.40cm);
\shadedraw [ball color= orange] (0,1.5,0) circle (0.40cm);
\shadedraw [ball color= orange] (0,4.5,0) circle (0.40cm);
\begin{scope}[xshift=1cm, yshift=-3cm]
\shadedraw [ball color= orange, yshift=2cm] (7,4,5) circle (0.4cm) node [right, xshift=1cm] {\ce{F}};
\shadedraw [ball color= blue, yshift=2cm] (7,5,5) circle (0.45cm) node [right, xshift=1cm] {\ce{Xe}};
\end{scope}
\end{tikzpicture}\end{center}}

\newcommand\CaTiO{\begin{center}\begin{tikzpicture}[scale = 0.6]
%points on cube
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,4,0);
\coordinate (C) at (0,4,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,4,0);
\coordinate (G) at (4,4,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%draw cube
\draw [dashed] (A) -- (B);
\draw [dashed] (B) -- (C);
\draw [dashed] (C) -- (D);
\draw [dashed] (D) -- (A);
\draw [dashed] (E) -- (F);
\draw [dashed] (F) -- (G);
\draw [dashed] (G) -- (H);
\draw [dashed] (H) -- (E);
\draw [dashed] (A) -- (E);
\draw [dashed] (B) -- (F);
\draw [dashed] (C) -- (G);
\draw [dashed] (D) -- (H);
%\draw [dashed] (0,4,2) -- (4,4,2) -- (4,0,2)-- (0,0,2) -- cycle;
%\draw [dashed] (2,4,0) -- (2,4,4) -- (2,0,4)-- (2,0,0) -- cycle;
%\draw [dashed] (0,2,4)  -- (4,2,4) -- (4,2,0)  -- (0,2,0) -- cycle;
\draw [dashed] (I)  -- (J) ;
\draw [dashed] (K)  -- (L) ;
\draw [dashed] (M)  -- (N) ;
%Holes 
\coordinate (A1) at (0,4,2);
\coordinate (A2) at (4,4,2);
\coordinate (A3) at (4,0,2);
\coordinate (A4) at (0,0,2);
\coordinate (A5) at (2,4,0);
\coordinate (A6) at  (2,4,4);
\coordinate (A7) at (2,0,4);
\coordinate (A8) at (2,0,0);
\coordinate (A9) at (0,2,4);
\coordinate (A10) at (4,2,4);
\coordinate (A11) at (4,2,0);
\coordinate (A12) at (0,2,0);
\coordinate (A13) at (2,2,2);
\draw [dashed] (2,4,2) -- (2,2,0);
\draw [dashed] (2,4,2) -- (0,2,2);
\draw [dashed] (2,4,2) -- (4,2,2);
\draw [dashed] (2,4,2) -- (2,2,4);
\draw [dashed] (2,0,2) -- (2,2,0);
\draw [dashed] (2,0,2) -- (0,2,2);
\draw [dashed] (2,0,2) -- (4,2,2);
\draw [dashed] (2,0,2) -- (2,2,4);
\draw [dashed] (2,2,0) -- (0,2,2) -- (2,2,4) -- (4,2,2) -- cycle;
\shadedraw [ball color= blue] (A) circle (0.25cm);
\shadedraw [ball color= blue] (B) circle (0.25cm);
\shadedraw [ball color= blue] (C) circle (0.25cm);
\shadedraw [ball color= blue] (D) circle (0.25cm);
\shadedraw [ball color= blue] (E) circle (0.25cm);
\shadedraw [ball color= blue] (F) circle (0.25cm);
\shadedraw [ball color= blue] (H) circle (0.25cm);
\shadedraw [ball color= blue] (I) circle (0.25cm);
\shadedraw [ball color= red] (2,2,0) circle (0.55cm);
\shadedraw [ball color= red] (2,2,4) circle (0.55cm);
\shadedraw [ball color= red] (2,0,2) circle (0.55cm);
\shadedraw [ball color= red] (0,2,2) circle (0.55cm);
\shadedraw [ball color= red] (2,4,2) circle (0.55cm);
\shadedraw [ball color= red] (4,2,2) circle (0.55cm);
\shadedraw [ball color= orange] (2,2,2) circle (0.25cm);
\shadedraw [ball color= blue] (G) circle (0.25cm);
\begin{scope}[xshift=1cm, yshift=-3cm]
\shadedraw [ball color= orange, yshift=2cm] (7,4,5) circle (0.25cm) node [right, xshift=1cm] {\ce{Ti^{2+}}};
\shadedraw [ball color= blue, yshift=2cm] (7,5,5) circle (0.25cm) node [right, xshift=1cm] {\ce{Ca^{2+}}};
\shadedraw [ball color= red, yshift=3.25cm] (7,5,5) circle (0.55cm) node [right, xshift=1cm] {\ce{O^{2-}}};
\end{scope}
\end{tikzpicture}\end{center}}




\newcommand\ZnS{\begin{center}\begin{tikzpicture}[scale = 0.6]
%points on cube
\coordinate (A) at (0,0,0);
\coordinate (B) at (0,0,4);
\coordinate (D) at (0,4,0);
\coordinate (C) at (0,4,4);
\coordinate (E) at (4,0,0);
\coordinate (F) at (4,0,4);
\coordinate (H) at (4,4,0);
\coordinate (G) at (4,4,4);
%center of faces
\coordinate (I) at (0,2,2); %center of face ABCD
\coordinate (J) at (4,2,2); %center of face EFGH
\coordinate (K) at (2,4,2); %center of face DCGH
\coordinate (L) at (2,0,2); %center of face ABFE
\coordinate (M) at (2,2,4); %center of face CBGF
\coordinate (N) at (2,2,0); %center of face DAEH
%connectors
\coordinate (O) at (1,1,3);
\coordinate (P) at (1,3,1);
\coordinate (Q) at (3,1,1);
\coordinate (R) at (3,3,3);
%draw cube
\draw [thick,black] (A) -- (B);
\draw [thick,black] (B) -- (C);
\draw [thick,black] (C) -- (D);
\draw [thick,black] (D) -- (A);
\draw [thick,black] (E) -- (F);
\draw [thick,black] (F) -- (G);
\draw [thick,black] (G) -- (H);
\draw [thick,black] (H) -- (E);
\draw [thick,black] (A) -- (E);
\draw [thick,black] (B) -- (F);
\draw [thick,black] (C) -- (G);
\draw [thick,black] (D) -- (H);
\draw [dashed] (0,4,0) -- (1,3,1) -- (2,4,2);
\draw [dashed] (2,2,0) -- (1,3,1) --(0,2,2) ;
\draw [dashed] (0,0,4) -- (1,1,3) -- (2,0,2)  ;
\draw [dashed] (2,0,2) -- (3,1,1)  -- (4,0,0)  ;
\draw [dashed] (2,2,0) -- (3,1,1) -- (4,2,2)  ;


%\draw [dashed] (0,4,2) -- (4,4,2) -- (4,0,2)-- (0,0,2) -- cycle;
%\draw [dashed] (2,4,0) -- (2,4,4) -- (2,0,4)-- (2,0,0) -- cycle;
%\draw [dashed] (0,2,4)  -- (4,2,4) -- (4,2,0)  -- (0,2,0) -- cycle;
%\draw [dashed] (I)  -- (J) ;
%\draw [dashed] (K)  -- (L) ;
%\draw [dashed] (M)  -- (N) ;
%Holes 
\coordinate (A1) at (0,4,2);
\coordinate (A2) at (4,4,2);
\coordinate (A3) at (4,0,2);
\coordinate (A4) at (0,0,2);
\coordinate (A5) at (2,4,0);
\coordinate (A6) at  (2,4,4);
\coordinate (A7) at (2,0,4);
\coordinate (A8) at (2,0,0);
\coordinate (A9) at (0,2,4);
\coordinate (A10) at (4,2,4);
\coordinate (A11) at (4,2,0);
\coordinate (A12) at (0,2,0);
\coordinate (A13) at (2,2,2);
%\draw [dashed] (2,4,2) -- (2,2,0);
%\draw [dashed] (2,4,2) -- (0,2,2);
%\draw [dashed] (2,4,2) -- (4,2,2);
%\draw [dashed] (2,4,2) -- (2,2,4);
%\draw [dashed] (2,0,2) -- (2,2,0);
%\draw [dashed] (2,0,2) -- (0,2,2);
%\draw [dashed] (2,0,2) -- (4,2,2);
%\draw [dashed] (2,0,2) -- (2,2,4);
%\draw [dashed] (2,2,0) -- (0,2,2) -- (2,2,4) -- (4,2,2) -- cycle;
\shadedraw [ball color= orange] (A) circle (0.45cm);
\shadedraw [ball color= orange] (B) circle (0.45cm);
\shadedraw [ball color= orange] (C) circle (0.45cm);
\shadedraw [ball color= orange] (D) circle (0.45cm);
\shadedraw [ball color= orange] (E) circle (0.45cm);
\shadedraw [ball color= orange] (F) circle (0.45cm);
\shadedraw [ball color= orange] (H) circle (0.45cm);
\shadedraw [ball color= orange] (I) circle (0.45cm);
\shadedraw [ball color= orange] (2,2,0) circle (0.45cm);
\shadedraw [ball color= orange] (2,0,2) circle (0.45cm);
\shadedraw [ball color= orange] (0,2,2) circle (0.45cm);
\shadedraw [ball color= orange] (2,4,2) circle (0.45cm);
\shadedraw [ball color= orange] (4,2,2) circle (0.45cm);
\shadedraw [ball color= orange] (G) circle (0.45cm);
\draw [dashed] (0,2,2) -- (1,1,3) -- (2,2,4)  ;
\draw [dashed] (4,4,4) -- (3,3,3) -- (2,4,2) ;
\draw [dashed] (2,2,4) -- (3,3,3) -- (4,2,2) ;
\shadedraw [ball color= gray] (3,1,1) circle (0.25cm);
\shadedraw [ball color= gray] (1,1,3) circle (0.25cm);
\shadedraw [ball color= gray] (3,3,3) circle (0.25cm);
\shadedraw [ball color= gray] (1,3,1) circle (0.25cm);

\shadedraw [ball color= orange] (2,2,4) circle (0.45cm);

\begin{scope}[xshift=1cm, yshift=-3cm]
\shadedraw [ball color= orange, yshift=2cm] (7,4,5) circle (0.45cm) node [right, xshift=1cm] {\ce{Zn}};
\shadedraw [ball color= gray, yshift=2cm] (7,5,5) circle (0.25cm) node [right, xshift=1cm] {\ce{S}};
\end{scope}
\end{tikzpicture}\end{center}}







\newcommand\pgfmathsinandcos[3]{%
  \pgfmathsetmacro#1{sin(#3)}%
  \pgfmathsetmacro#2{cos(#3)}%
}
\newcommand\LongitudePlane[3][current plane]{%
  \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
  \pgfmathsinandcos\sint\cost{#3} % azimuth
  \tikzset{#1/.style={cm={\cost,\sint*\sinEl,0,\cosEl,(0,0)}}}
}
\newcommand\LatitudePlane[3][current plane]{%
  \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
  \pgfmathsinandcos\sint\cost{#3} % latitude
  \pgfmathsetmacro\yshift{\cosEl*\sint}
  \tikzset{#1/.style={cm={\cost,0,0,\cost*\sinEl,(0,\yshift)}}}
}


\newcommand\ClipLongitudeCircle[2]{
    \LongitudePlane{\angEl}{#1}
    \pgfmathsetmacro\angVis{atan(sin(#1)*cos(\angEl)/sin(\angEl))}
    \path[save path=\tmppath, current plane] (\angVis:\R) arc (\angVis:\angVis+180:\R); % current plane transformation
    \pgfoonew\patha=new spath(\tmppath)
    \pgfmathsetmacro\angVis{-atan(sin(\angEl)*cos(#1)/sin(#1))}
    \path[save path=\tmppath] (-90+\angVis:\R) arc (-90+\angVis:#2 180-90+\angVis:\R); % no coordinate transform (no current plane)
    \pgfoonew\pathb=new spath(\tmppath)
    \patha.concatenate with lineto(,\pathb)
    \patha.close()
    \patha.use path with tikz(clip)
%   \patha.use path with tikz(fill=magenta, opacity=.2)
%   \patha.use path with tikz(draw=magenta, very thick)
}

\newcommand\ClipLatitudeCircle[2]{
    \LatitudePlane{\angEl}{#1}
    \path[save path=\tmppath,current plane] (-180:\R) arc (-180:0:\R);
    \pgfoonew\patha=new spath(\tmppath)
    \path[save path=\tmppath] (0:\R) arc (0:#2 180:\R);
    \pgfoonew\pathb=new spath(\tmppath)
    \patha.concatenate with lineto(,\pathb)
    \patha.close()
    \patha.use path with tikz(clip)
%   \patha.use path with tikz(fill=cyan, opacity=.2)
%   \patha.use path with tikz(draw=cyan, very thick)
}

\newcommand\ClippedEightSphere[4]{
\begin{scope}[transform canvas={shift=(#4)}]
    \ClipLongitudeCircle{45-\angPh}{#1}
    \ClipLongitudeCircle{135-\angPh}{#2}
    \ClipLatitudeCircle{0}{#3}
    \fill[ball color=white] (0,0) circle (\R);
\end{scope}}

\newcommand\ClippedLatitudeSphere[3]{
\begin{scope}[transform canvas={shift=(#1)}]
    \LatitudePlane{\angEl}{#2}
    \ClipLatitudeCircle{0}{#3}
    \fill[ball color=white] (0,0) circle [radius=\R];
\end{scope}}

\newcommand\ClippedLongitudeSphere[3]{
\begin{scope}[transform canvas={shift=(#1)}]
    \LongitudePlane{\angEl}{#2}
    \ClipLongitudeCircle{#2}{#3}
    \fill[ball color=white] (0,0) circle [radius=\R];
\end{scope}}

\newcommand\DrawLongitudeArc[4]{
    \LongitudePlane{\angEl}{#2}
    \begin{scope}[current plane, transform canvas={shift=(#1)}]
    \fill [cyan] (0,0) -- ++(#3:\R) arc [start angle=#3, delta angle=#4, radius=\R] -- cycle;
    \draw ++(#3:\R) arc [start angle=#3, delta angle=#4, radius=\R];
    \end{scope}}

\newcommand\DrawLatitudeArc[4]{
    \LatitudePlane{\angEl}{#2}
    \begin{scope}[current plane, transform canvas={shift=(#1)}]
    \fill [cyan] (0,0) -- ++(#3:\R) arc [start angle=#3, delta angle=#4, radius=\R] -- cycle;
    \draw ++(#3:\R) arc [start angle=#3, delta angle=#4, radius=\R];
    \end{scope}}


\newcommand\sccSphere{
  \def\D{8} % cubic side length
   \pgfmathsetmacro\R{\D/2} % sphere radius
%    \pgfmathsetmacro\R{sqrt(2)/4*\D} % sphere radius
%   \pgfmathsetmacro\R{sqrt(3)/4*\D} % sphere radius
    \def\angEl{20} % elevation angle in interval [1,89]
    \def\angPh{10} % phase angle in interval [-44,44]
    \pgfmathsetmacro\uofx{cos(-135-\angPh)}
    \pgfmathsetmacro\vofx{sin(-135-\angPh)*sin(\angEl)}
    \pgfmathsetmacro\uofy{cos(-45-\angPh)}
    \pgfmathsetmacro\vofy{sin(-45-\angPh)*sin(\angEl)}
    \pgfmathsetmacro\uofz{0}
    \pgfmathsetmacro\vofz{cos(\angEl)}

    % The coordinates of the cube
    \begin{scope}[x={(\uofx cm,\vofx cm)}, y={(\uofy cm,\vofy cm)}, z={(\uofz cm,\vofz cm)}]
    \coordinate (C1) at (\D,0,0);
    \coordinate (C2) at (\D,0,\D);
    \coordinate (C3) at (0,0,\D);
    \coordinate (C4) at (0,\D,\D);
    \coordinate (C5) at (0,\D,0);
    \coordinate (C6) at (\D,\D,0);
    \coordinate (C7) at (0,0,0);
    \coordinate (C8) at (\D,\D,\D);
%    \foreach \n in {1,2,...,8} \node at (C\n) {C\n};

    \coordinate (C0) at ($(C2)!.5!(C5)$);
    \coordinate (S1) at ($(C2)!.5!(C6)$);
    \coordinate (S2) at ($(C2)!.5!(C4)$);
    \coordinate (S3) at ($(C8)!.5!(C5)$);
    \coordinate (S4) at ($(C6)!.5!(C7)$);
    \coordinate (S5) at ($(C1)!.5!(C3)$);
    \coordinate (S6) at ($(C5)!.5!(C3)$);
    \end{scope}

    % Draw the clipped spheres
    \ClippedEightSphere{+}{-}{+}{C7}
    \ClippedLongitudeSphere{S5}{45-\angPh}{+}
    \ClippedLongitudeSphere{S6}{135-\angPh}{-}
    \ClippedLatitudeSphere{S4}{0}{+}

    \ClippedEightSphere{-}{+}{-}{C8}
    \ClippedEightSphere{+}{-}{-}{C3}
    \ClippedEightSphere{+}{+}{-}{C2}
 %  \fill[ball color=white] (C0) circle [radius=\R];
    \ClippedEightSphere{-}{-}{-}{C4}
    \ClippedEightSphere{+}{+}{+}{C1}
    \ClippedEightSphere{-}{-}{+}{C5}
    \ClippedEightSphere{-}{+}{+}{C6}

%    % Draw the half spheres
%    \ClippedLatitudeSphere{S2}{0}{-}
%    \ClippedLongitudeSphere{S3}{45-\angPh}{-}
%    \ClippedLongitudeSphere{S1}{135-\angPh}{+}
%    \DrawLatitudeArc{S2}{0}{0}{360}
%    \DrawLongitudeArc{S1}{135-\angPh}{0}{360}
%    \DrawLongitudeArc{S3}{45-\angPh}{0}{360}

    % Draw the Arcs
    \DrawLongitudeArc{C1}{135-\angPh}{90}{90}
    \DrawLongitudeArc{C2}{135-\angPh}{-90}{-90}
    \DrawLongitudeArc{C4}{45-\angPh}{-90}{-90}
    \DrawLongitudeArc{C5}{45-\angPh}{90}{90}
    \DrawLongitudeArc{C6}{135-\angPh}{90}{-90}
    \DrawLongitudeArc{C6}{45-\angPh}{90}{-90}
    \DrawLongitudeArc{C8}{135-\angPh}{-90}{90}
    \DrawLongitudeArc{C8}{45-\angPh}{-90}{90}
    \DrawLatitudeArc{C2}{0}{45-\angPh}{-90}
    \DrawLatitudeArc{C3}{0}{-45-\angPh}{-90}
    \DrawLatitudeArc{C4}{0}{135-\angPh}{90}
    \DrawLatitudeArc{C8}{0}{135-\angPh}{-90}

    % Draw the cube
    \draw (C1)--(C2)--(C3)--(C4)--(C5)--(C6)--cycle;
    \draw (C2)--(C8)--(C6);
    \draw (C8)--(C4);
}

\newcommand\fccSphere{
    \def\D{8} % cubic side length
%   \pgfmathsetmacro\R{\D/2} % sphere radius
    \pgfmathsetmacro\R{sqrt(2)/4*\D} % sphere radius
%   \pgfmathsetmacro\R{sqrt(3)/4*\D} % sphere radius
    \def\angEl{20} % elevation angle in interval [1,89]
    \def\angPh{10} % phase angle in interval [-44,44]
    \pgfmathsetmacro\uofx{cos(-135-\angPh)}
    \pgfmathsetmacro\vofx{sin(-135-\angPh)*sin(\angEl)}
    \pgfmathsetmacro\uofy{cos(-45-\angPh)}
    \pgfmathsetmacro\vofy{sin(-45-\angPh)*sin(\angEl)}
    \pgfmathsetmacro\uofz{0}
    \pgfmathsetmacro\vofz{cos(\angEl)}

    % The coordinates of the cube
    \begin{scope}[x={(\uofx cm,\vofx cm)}, y={(\uofy cm,\vofy cm)}, z={(\uofz cm,\vofz cm)}]
    \coordinate (C1) at (\D,0,0);
    \coordinate (C2) at (\D,0,\D);
    \coordinate (C3) at (0,0,\D);
    \coordinate (C4) at (0,\D,\D);
    \coordinate (C5) at (0,\D,0);
    \coordinate (C6) at (\D,\D,0);
    \coordinate (C7) at (0,0,0);
    \coordinate (C8) at (\D,\D,\D);
%    \foreach \n in {1,2,...,8} \node at (C\n) {C\n};

    \coordinate (C0) at ($(C2)!.5!(C5)$);
    \coordinate (S1) at ($(C2)!.5!(C6)$);
    \coordinate (S2) at ($(C2)!.5!(C4)$);
    \coordinate (S3) at ($(C8)!.5!(C5)$);
    \coordinate (S4) at ($(C6)!.5!(C7)$);
    \coordinate (S5) at ($(C1)!.5!(C3)$);
    \coordinate (S6) at ($(C5)!.5!(C3)$);
    \end{scope}

    % Draw the clipped spheres
    \ClippedEightSphere{+}{-}{+}{C7}
    \ClippedLongitudeSphere{S5}{45-\angPh}{+}
    \ClippedLongitudeSphere{S6}{135-\angPh}{-}
    \ClippedLatitudeSphere{S4}{0}{+}

    \ClippedEightSphere{-}{+}{-}{C8}
    \ClippedEightSphere{+}{-}{-}{C3}
    \ClippedEightSphere{+}{+}{-}{C2}
%   \fill[ball color=white] (C0) circle [radius=\R];
    \ClippedEightSphere{-}{-}{-}{C4}
    \ClippedEightSphere{+}{+}{+}{C1}
    \ClippedEightSphere{-}{-}{+}{C5}
    \ClippedEightSphere{-}{+}{+}{C6}

    % Draw the half spheres
    \ClippedLatitudeSphere{S2}{0}{-}
    \ClippedLongitudeSphere{S3}{45-\angPh}{-}
    \ClippedLongitudeSphere{S1}{135-\angPh}{+}
    \DrawLatitudeArc{S2}{0}{0}{360}
    \DrawLongitudeArc{S1}{135-\angPh}{0}{360}
    \DrawLongitudeArc{S3}{45-\angPh}{0}{360}

    % Draw the Arcs
    \DrawLongitudeArc{C1}{135-\angPh}{90}{90}
    \DrawLongitudeArc{C2}{135-\angPh}{-90}{-90}
    \DrawLongitudeArc{C4}{45-\angPh}{-90}{-90}
    \DrawLongitudeArc{C5}{45-\angPh}{90}{90}
    \DrawLongitudeArc{C6}{135-\angPh}{90}{-90}
    \DrawLongitudeArc{C6}{45-\angPh}{90}{-90}
    \DrawLongitudeArc{C8}{135-\angPh}{-90}{90}
    \DrawLongitudeArc{C8}{45-\angPh}{-90}{90}
    \DrawLatitudeArc{C2}{0}{45-\angPh}{-90}
    \DrawLatitudeArc{C3}{0}{-45-\angPh}{-90}
    \DrawLatitudeArc{C4}{0}{135-\angPh}{90}
    \DrawLatitudeArc{C8}{0}{135-\angPh}{-90}

    % Draw the cube
    \draw (C1)--(C2)--(C3)--(C4)--(C5)--(C6)--cycle;
    \draw (C2)--(C8)--(C6);
    \draw (C8)--(C4);

%    % Radius node
%    \coordinate (r) at ($(C2) - (\R/10,0)$);
%    \LongitudePlane{\angEl}{135-\angPh}
%    \draw [<->, current plane, line width=0.75mm, red] (C4) -- (C6) node [xshift=3cm, yshift=5.0cm] {\color{black} \Huge $4r$} ;
%        \draw [<->, current plane, line width=0.75mm, red] (C6) -- (C5)  node [midway, xshift=1cm, yshift=-0.5cm] {\color{black}\Huge $c$};
%        \draw [<->, current plane, line width=0.75mm, red] (C5) -- (C4)  node [midway, xshift=0.5cm, yshift=0cm] {\color{black}\Huge $c$};

%    \draw [<->, current plane] (r) -- node [left] {$r$} +(-90:\R);
}

\newcommand\bccSphere{
  \def\D{8} % cubic side length
 %  \pgfmathsetmacro\R{\D/2} % sphere radius
%    \pgfmathsetmacro\R{sqrt(2)/4*\D} % sphere radius
   \pgfmathsetmacro\R{sqrt(3)/4*\D} % sphere radius
    \def\angEl{20} % elevation angle in interval [1,89]
    \def\angPh{10} % phase angle in interval [-44,44]
    \pgfmathsetmacro\uofx{cos(-135-\angPh)}
    \pgfmathsetmacro\vofx{sin(-135-\angPh)*sin(\angEl)}
    \pgfmathsetmacro\uofy{cos(-45-\angPh)}
    \pgfmathsetmacro\vofy{sin(-45-\angPh)*sin(\angEl)}
    \pgfmathsetmacro\uofz{0}
    \pgfmathsetmacro\vofz{cos(\angEl)}

    % The coordinates of the cube
    \begin{scope}[x={(\uofx cm,\vofx cm)}, y={(\uofy cm,\vofy cm)}, z={(\uofz cm,\vofz cm)}]
    \coordinate (C1) at (\D,0,0);
    \coordinate (C2) at (\D,0,\D);
    \coordinate (C3) at (0,0,\D);
    \coordinate (C4) at (0,\D,\D);
    \coordinate (C5) at (0,\D,0);
    \coordinate (C6) at (\D,\D,0);
    \coordinate (C7) at (0,0,0);
    \coordinate (C8) at (\D,\D,\D);
%    \foreach \n in {1,2,...,8} \node at (C\n) {C\n};

    \coordinate (C0) at ($(C2)!.5!(C5)$);
    \coordinate (S1) at ($(C2)!.5!(C6)$);
    \coordinate (S2) at ($(C2)!.5!(C4)$);
    \coordinate (S3) at ($(C8)!.5!(C5)$);
    \coordinate (S4) at ($(C6)!.5!(C7)$);
    \coordinate (S5) at ($(C1)!.5!(C3)$);
    \coordinate (S6) at ($(C5)!.5!(C3)$);
    \end{scope}

    % Draw the clipped spheres
    \ClippedEightSphere{+}{-}{+}{C7}
    \ClippedLongitudeSphere{S5}{45-\angPh}{+}
    \ClippedLongitudeSphere{S6}{135-\angPh}{-}
    \ClippedLatitudeSphere{S4}{0}{+}

    \ClippedEightSphere{-}{+}{-}{C8}
    \ClippedEightSphere{+}{-}{-}{C3}
    \ClippedEightSphere{+}{+}{-}{C2}
   \fill[ball color=white] (C0) circle [radius=\R];
    \ClippedEightSphere{-}{-}{-}{C4}
    \ClippedEightSphere{+}{+}{+}{C1}
    \ClippedEightSphere{-}{-}{+}{C5}
    \ClippedEightSphere{-}{+}{+}{C6}

    % Draw the Arcs
    \DrawLongitudeArc{C1}{135-\angPh}{90}{90}
    \DrawLongitudeArc{C2}{135-\angPh}{-90}{-90}
    \DrawLongitudeArc{C4}{45-\angPh}{-90}{-90}
    \DrawLongitudeArc{C5}{45-\angPh}{90}{90}
    \DrawLongitudeArc{C6}{135-\angPh}{90}{-90}
    \DrawLongitudeArc{C6}{45-\angPh}{90}{-90}
    \DrawLongitudeArc{C8}{135-\angPh}{-90}{90}
    \DrawLongitudeArc{C8}{45-\angPh}{-90}{90}
    \DrawLatitudeArc{C2}{0}{45-\angPh}{-90}
    \DrawLatitudeArc{C3}{0}{-45-\angPh}{-90}
    \DrawLatitudeArc{C4}{0}{135-\angPh}{90}
    \DrawLatitudeArc{C8}{0}{135-\angPh}{-90}

    % Draw the cube
    \draw (C1)--(C2)--(C3)--(C4)--(C5)--(C6)--cycle;
    \draw (C2)--(C8)--(C6);
    \draw (C8)--(C4);
}


\tikzfading[name=fade down,top color=red!10, bottom color=red!100, shading angle=90]

%\tikzfading[name=fade up,top color=red!100, bottom color=blue!0]

\tikzset{pics/fake box/.style args={% #1=color, #2=x dimension, #3=y dimension, #4=z dimension
#1 with dimensions #2 and #3 and #4}{
code={
\draw[gray,ultra thin,fill=#1]  (0,0,0) coordinate(-front-bottom-left) to
++ (0,#3,0) coordinate(-front-top-right) --++
(#2,0,0) coordinate(-front-top-right) --++ (0,-#3,0) 
coordinate(-front-bottom-right) -- cycle;
\draw[gray,ultra thin,fill=#1] (0,#3,0)  --++ 
 (0,0,#4) coordinate(-back-top-left) --++ (#2,0,0) 
 coordinate(-back-top-right) --++ (0,0,-#4)  -- cycle;
\draw[gray,ultra thin,fill=#1!40!black] (#2,0,0) --++ (0,0,#4) coordinate(-back-bottom-right)
--++ (0,#3,0) --++ (0,0,-#4) -- cycle;
\draw[gray,ultra thin,fill=#1!10!black, shift={(-0.6,2)}] (1,0,0) --++ (0,0,.1) coordinate(-back-bottom-right)
--++ (0,1.1,0) --++ (0,0,-.1) -- cycle;
}
}}
\newcommand{\tstar}[5]{% inner radius, outer radius, tips, rot angle, options
\pgfmathsetmacro{\starangle}{360/#3}
\draw[#5, color=yellow] (#4:#1)
\foreach \x in {1,...,#3}
{ -- (#4+\x*\starangle-\starangle/2:#2) -- (#4+\x*\starangle:#1)
}
-- cycle;
}



\usepackage{chemfig}\chemsetup{modules=orbital}\savesymbol{orbital}
\usepackage{tikzorbital}
\usepackage{pgfplotstable}
\usepackage{filecontents}
\usepgfplotslibrary{groupplots}

%%%%%%%%%%%%%%TIKZ LINEAR REGRESION
%\pgfplotstableread{
%%x1  y1  x2  y2   
%%10.0    8.04    10.0    9.14     
%%8.0 6.95    8.0 8.14     
%%13.0    7.58    13.0    8.74     
%%9.0 8.81    9.0 8.77     
%%11.0    8.33    11.0    9.26     
%%14.0    9.96    14.0    8.10     
%%6.0 7.24    6.0 6.13     
%%4.0 4.26    4.0 3.10     
%%12.0    10.84   12.0    9.13     
%%7.0 4.82    7.0 7.26     
%%5.0 5.68    5.0 4.74  
% y1 			x1	 y2 		x2
% 82.81		1 	82.89	 1 
%  85.42		2 	84.4	 	2
%  88.03		3 	88.5	 	3 
%  90.64		4 	90.81	 4
%  93.25		5 	94.5	 	5 
% }\tableLabel
\newcommand\MakeRegression[7][\tableLabel]{%
    % #1: original datatable
    % #2: x-column
    % #3: y-column
    % #4: name of new regression column
    % #5: macro to store slope in
    % #6: macro to store intercept in
    % #7: macro to store R squared
    % create the regression column:
    \pgfplotstablecreatecol[linear regression={x=#2,y=#3}]{#4}{\tableLabel}
    % store slope and intercept
    \edef#5{\pgfplotstableregressiona}
    \edef#6{\pgfplotstableregressionb}
    % calculate sum of y
    \pgfplotstablecreatecol[create col/expr={\pgfmathaccuma+\thisrow{#3}}]{tmp}{\tableLabel}
    % find number of rows in table
    \pgfplotstablegetrowsof{\tableLabel}
    \pgfmathtruncatemacro{\lastrow}{\pgfplotsretval-1}
    % get total sum of y
    \pgfplotstablegetelem{\lastrow}{tmp}\of\tableLabel
    % calculate mean
    \pgfmathsetmacro{\yMean}{\pgfplotsretval/(\lastrow+1)}
    % calculate residuals and diff from mean
    \pgfplotstablecreatecol[
      create col/assign/.code={
           \pgfmathparse{(\thisrow{#3}-\thisrow{#4})^2}
           \edef\entry{\pgfmathresult}
           \pgfkeyslet{/pgfplots/table/create col/next content}\entry
        }
    ]{residuals}{\tableLabel}
    \pgfplotstablecreatecol[
      create col/assign/.code={
           \pgfmathparse{(\thisrow{#3}-\yMean)^2}
           \edef\entry{\pgfmathresult}
           \pgfkeyslet{/pgfplots/table/create col/next content}\entry
        }
    ]{diffmean}{\tableLabel}
    % calculate sum of residuals and diff from mean
    \pgfplotstablecreatecol[create col/expr={\pgfmathaccuma+\thisrow{residuals}}]{sumres}{\tableLabel}
    \pgfplotstablecreatecol[create col/expr={\pgfmathaccuma+\thisrow{diffmean}}]{sumdiff}{\tableLabel}
    % extract SS_res and SS_tot
    \pgfplotstablegetelem{\lastrow}{sumres}\of\tableLabel
    \pgfmathsetmacro{\SSres}{\pgfplotsretval}
    \pgfplotstablegetelem{\lastrow}{sumdiff}\of\tableLabel
    \pgfmathsetmacro{\SStot}{\pgfplotsretval}
    % calculate R^2
    \pgfmathsetmacro{#7}{1-\SSres/\SStot}
}
% for easier formatting of legends
\newcommand\LegendEntry[3]{%
{\small $T=\pgfmathprintnumber{#1}
  \cdot m 
 \pgfmathprintnumber[print sign]{#2}$,
   $r^2 = \pgfmathprintnumber{#3}$}%
}
\newcommand\LegendEntryB[3]{%
{\small $Y=\pgfmathprintnumber{#1}
  \cdot x 
 \pgfmathprintnumber[print sign]{#2}$,
   $r^2 = \pgfmathprintnumber{#3}$}%
}
%%%%%%%%%%%%%%TIKZ LINEAR REGRESION
%%%%%Series of equaitons with a bracket

%%%%%%%
\usetikzlibrary{shadows.blur}
\usetikzlibrary{shapes.symbols}
%%%%%%BRACKET FOR TIKZ SQUARE
\tikzset{
    ncbar angle/.initial=90,
    ncbar/.style={
        to path=(\tikztostart)
        -- ($(\tikztostart)!#1!\pgfkeysvalueof{/tikz/ncbar angle}:(\tikztotarget)$)
        -- ($(\tikztotarget)!($(\tikztostart)!#1!\pgfkeysvalueof{/tikz/ncbar angle}:(\tikztotarget)$)!\pgfkeysvalueof{/tikz/ncbar angle}:(\tikztostart)$)
        -- (\tikztotarget)
    },
    ncbar/.default=0.5cm,
}
\tikzset{square left brace/.style={ncbar=0.5cm}}
\tikzset{square right brace/.style={ncbar=-0.5cm}} 
\newcommand*{\textastdbl}{*\llap{\raisebox{-1.35ex}{*}}}
\newcommand*{\textastdbltight}{\raisebox{-0.1ex}{*}\llap{\raisebox{-1.25ex}{*}}}
\usepackage{endiagram}






\definecolor{copper}{cmyk}{0,0.9,0.9,0.2}
\colorlet{lightgray}{black!25}
\colorlet{darkgray}{black!75}
%%%%%%ELECTROCHEMICAL BATTERIES

\newcommand{\batterya}[5]{%
\begin{scope}[shift={(8cm,0)}]

 % Draw back of vessel 1
    \draw (0,0) to [controls=+(90:0.5) and +(90:0.5)] (2,0);
    \draw[fill=blue!60, fill opacity=0.5] (0,-0.5) to
        [controls=+(90:0.5) and +(90:0.5)] (2,-0.5);

    % Draw back of vessel 2
    \draw (3.5,0) to [controls=+(90:0.5) and +(90:0.5)] (5.5,0);
    \draw[fill=lightgray, fill opacity=0.5] (3.5,-0.5) to [controls=+(90:0.5)
        and +(90:0.5)] (5.5,-0.5);

    % Draw copper electrode
    \draw[fill=copper, shift={(.7em,0)}] (0.5,2) rectangle (1.0,-1) node[shift={(-.7em,3.7em)}] {#2} node[shift={(-.8em, 7em)}]  {\Large $-$};
%    \draw (0,2.3) node {Cu};
    \draw[shift={(-0em,-1em)}] (1,-1.75) node {#1};

    % Draw salt bridge
    \draw[line join=round, line width = 10pt] (1.75,-1.75) -- (1.75,0.5) --
        (3.75, 0.5) -- (3.75,-1.75);
         \draw[line join=round, line width = 8pt, color = gray!15] (1.75,-1.75) -- (1.75,0.5) -- (3.75, 0.5) -- (3.75,-1.75);
                   \draw[line join=round, line width = 8pt, color = gray!95] (1.75,-1.75) -- (1.75,-1.40) ;
             \draw[line width = 1pt, shift={(0,-0.0em)},fill=gray!95 ] (1.75,-1.75) ellipse (.15 and .05);
                          \draw[line width = 1pt, shift={(0,-0.0em)},fill=gray!95 ] (1.75,-1.40) ellipse (.15 and .05);
            \draw[line join=round, line width = 8pt, color = gray!95] (3.75,-1.75)  -- (3.75,-1.40)  ;
             \draw[line width = 1pt, shift={(0,-0.0em)},fill=gray!95 ] (3.75,-1.75) ellipse (.15 and .05);
                          \draw[line width = 1pt, shift={(0,-0.0em)},fill=gray!95 ] (3.75,-1.40) ellipse (.15 and .05);
    \draw (2.75,0.5) node {\tiny{KNO$_{3}$}};

    %Draw front of vessel 1

    \draw (0,0) .. controls +(-90:0.5) and +(-90:0.5) .. (2,0);
    \draw (0,0) .. controls +(-90:0.5) and +(-90:0.5) .. (2,0)
        -- (2,-0.5) .. controls +(-90:0.5) and +(-90:0.5) .. (0,-0.5) -- (0,0);

    %Second part

    \draw[fill=blue!60, fill opacity=0.5] (0,-0.5) .. controls +(-90:0.5)
    and +(-90:0.5) .. (2,-0.5);
    \draw[fill=blue!60, fill opacity=0.5] (0,-0.5) .. controls +(-90:0.5)
    and +(-90:0.5) .. (2,-0.5)
        -- (2,-2) .. controls +(-90:0.5) and +(-90:0.5) .. (0,-2) -- (0,-0.5);

    % draw voltmeter

    \draw[line join = round, thick] (1,2) -- (1,2.5) -- (4.5,2.5) -- (4.5,2);
    \draw (2.75,2.5) node [circle, draw, fill=red!30] {V};
    %%Draw back of vessel 2
    %Draw Zn electrode
     \draw[fill=darkgray, shift={(-.7em,0)}] (4.5,2) rectangle (5,-1) node[shift={(-.7em,3.7em)}]  {#3} node[shift={(-.8em, 7em)}]  {\Large $+$} ;
%%    \draw (5.5,2.3) node {Zn};
    \draw[shift={(-0em,-1em)}] (4.5,-1.75) node {#4};
          \ifthenelse{\NOT 0 = #5 }{ \draw[->, shift={(0,.5em)}]   (1,2.5) -- (1.5,2.5) node [shift={(0.5,0em)}] {\small $e^-$} ;   }{\draw[->, shift={(0,.5em)}]   (1.5,2.5)  -- (1,2.5)  node [shift={(0.9,0em)}] {\small $e^-$} ;  }

     
%     %%% Hydrogen electrode
%      \draw[fill=darkgray, shift={(-1.3em,-7.1em)}] (4.9,2) rectangle (5,1.4) node [shift={( 0.7em, 1.0em)}] {\small Pt};
%  \draw[shift={(12em,-4em)}] (0,-0) .. controls (0,-.1) and (.4,-0.1) .. (.5,0) -- (.5,2.5) --(.8,2.5) -- (.8,2.7) --(.5,2.7)  --(.5,2.8)      arc(0:180:.25)    -- cycle;
%     \draw (4.5,-1.75) node {\small{ZnSO$_{4}$}};
%    \draw[line join = round, thick] (1,2) -- (1,2.5) -- (4.5,2.5) -- (4.5,-.5);
%    \draw (2.75,2.5) node [circle, draw, fill=red!30] {V};
%    
    
    % Draw front of vessel 2
    % part 1
    \draw (3.5,0) .. controls +(-90:0.5) and +(-90:0.5) .. (5.5,0);
    \draw (3.5,0) .. controls +(-90:0.5) and +(-90:0.5) .. (5.5,0)
        -- (5.5,-0.5) .. controls +(-90:0.5) and +(-90:0.5)
        .. (3.5,-0.5) -- (3.5,0);
    % part 2
    \draw[fill=lightgray, fill opacity=0.5] (3.5,-0.5) .. controls +(-90:0.5)
    and +(-90:0.5) .. (5.5,-0.5);
    \draw[fill=lightgray, fill opacity=0.5] (3.5,-0.5) .. controls +(-90:0.5)
        and +(-90:0.5) .. (5.5,-0.5) --
        (5.5,-2) .. controls +(-90:0.5) and +(-90:0.5)
        .. (3.5,-2) -- (3.5,-0.5);

  
\end{scope}
}



\newcommand{\batteryh}[4]{%
 % Draw back of vessel 1
    \draw (0,0) to [controls=+(90:0.5) and +(90:0.5)] (2,0);
    \draw[fill=blue!60, fill opacity=0.5] (0,-0.5) to
        [controls=+(90:0.5) and +(90:0.5)] (2,-0.5);

    % Draw back of vessel 2
    \draw (3.5,0) to [controls=+(90:0.5) and +(90:0.5)] (5.5,0);
    \draw[fill=lightgray, fill opacity=0.5] (3.5,-0.5) to [controls=+(90:0.5)
        and +(90:0.5)] (5.5,-0.5);

    % Draw copper electrode
    \draw[fill=copper, shift={(.7em,0)}] (0.5,2) rectangle (1.0,-1) node[shift={(-.7em,3em)}] {#2} node[shift={(-2em, 9em)}]  {\Large $-$};
%    \draw (0,2.3) node {Cu};
    \draw (1,-1.75) node {#1};

%    % Draw salt bridge
%    \draw[line join=round, line width = 10pt] (1.75,-1.75) -- (1.75,0.5) --
%        (3.75, 0.5) -- (3.75,-1.75);
%         \draw[line join=round, line width = 8pt, color = gray!15] (1.75,-1.75) -- (1.75,0.5) -- (3.75, 0.5) -- (3.75,-1.75);
%                   \draw[line join=round, line width = 8pt, color = gray!95] (1.75,-1.75) -- (1.75,-1.40) ;
%             \draw[line width = 1pt, shift={(0,-0.0em)},fill=gray!95 ] (1.75,-1.75) ellipse (.15 and .05);
%                          \draw[line width = 1pt, shift={(0,-0.0em)},fill=gray!95 ] (1.75,-1.40) ellipse (.15 and .05);
%            \draw[line join=round, line width = 8pt, color = gray!95] (3.75,-1.75)  -- (3.75,-1.40)  ;
%             \draw[line width = 1pt, shift={(0,-0.0em)},fill=gray!95 ] (3.75,-1.75) ellipse (.15 and .05);
%                          \draw[line width = 1pt, shift={(0,-0.0em)},fill=gray!95 ] (3.75,-1.40) ellipse (.15 and .05);
%    \draw (2.75,0.5) node {\tiny{KNO$_{3}$}};

    %Draw front of vessel 1

    \draw (0,0) .. controls +(-90:0.5) and +(-90:0.5) .. (2,0);
    \draw (0,0) .. controls +(-90:0.5) and +(-90:0.5) .. (2,0)
        -- (2,-0.5) .. controls +(-90:0.5) and +(-90:0.5) .. (0,-0.5) -- (0,0);

    %Second part

    \draw[fill=blue!60, fill opacity=0.5] (0,-0.5) .. controls +(-90:0.5)
    and +(-90:0.5) .. (2,-0.5);
    \draw[fill=blue!60, fill opacity=0.5] (0,-0.5) .. controls +(-90:0.5)
    and +(-90:0.5) .. (2,-0.5)
        -- (2,-2) .. controls +(-90:0.5) and +(-90:0.5) .. (0,-2) -- (0,-0.5);

%    % draw voltmeter
%
%    \draw[line join = round, thick] (1,2) -- (1,2.5) -- (4.5,2.5) -- (4.5,2);
%    \draw (2.75,2.5) node [circle, draw, fill=red!30] {V};
%    %%Draw back of vessel 2
%    %Draw Zn electrode
%     \draw[fill=darkgray, shift={(-.7em,0)}] (4.5,2) rectangle (5,-1) node[shift={(-.7em,3em)}] {#3} ;
%%%    \draw (5.5,2.3) node {Zn};
%    \draw (4.5,-1.75) node {#4};
               %%% Hydrogen electrode
      \draw[fill=darkgray, shift={(-1.3em,-7.1em)}] (4.9,2) rectangle (5,1.4) node [shift={( 0.7em, 1.0em)}] {\small Pt};
  \draw[shift={(12em,-4em)}] (0,-0) .. controls (0,-.1) and (.4,-0.1) .. (.5,0) -- (.5,2.5) --(.8,2.5) -- (.8,2.7) --(.5,2.7)  --(.5,2.8)      arc(0:180:.25)    -- cycle;
  
  \draw[->, shift={(12.6em,-3.7em)}]  (1.2,2.5) --(.8,2.5)  node[ shift={(2em,0em)}] {\small \ce{H2}};

     \draw (4.5,-1.75) node {#3} node[shift={(1em,11em)}]  {\Large $+$} ;
    \draw[line join = round, thick] (1,2) -- (1,2.5) -- (4.5,2.5) -- (4.5,-.5);
  %      \draw[->, shift={(0,.5em)}]   (1,2.5) -- (1.5,2.5) node [shift={(0.5,0em)}] {\small $e^-$} ;
     \ifthenelse{\NOT 0 = #4 }{ \draw[->, shift={(0,.5em)}]   (1,2.5) -- (1.5,2.5) node [shift={(0.5,0em)}] {\small $e^-$} ;   }{\draw[->, shift={(0,.5em)}]   (1.5,2.5)  -- (1,2.5)  node [shift={(0.9,0em)}] {\small $e^-$} ;  }
    \draw (2.75,2.5) node [circle, draw, fill=red!30] {V};
         % Draw front of vessel 2
    % part 1
    \draw (3.5,0) .. controls +(-90:0.5) and +(-90:0.5) .. (5.5,0);
    \draw (3.5,0) .. controls +(-90:0.5) and +(-90:0.5) .. (5.5,0)
        -- (5.5,-0.5) .. controls +(-90:0.5) and +(-90:0.5)
        .. (3.5,-0.5) -- (3.5,0);
    % part 2
    \draw[fill=lightgray, fill opacity=0.5] (3.5,-0.5) .. controls +(-90:0.5)
    and +(-90:0.5) .. (5.5,-0.5);
    \draw[fill=lightgray, fill opacity=0.5] (3.5,-0.5) .. controls +(-90:0.5)
        and +(-90:0.5) .. (5.5,-0.5) --
        (5.5,-2) .. controls +(-90:0.5) and +(-90:0.5)
        .. (3.5,-2) -- (3.5,-0.5);
}


\newcommand{\electrodeSolid}[4]{%
\begin{scope}[shift={(8cm,0)}]
    \draw (0,0) to [controls=+(90:0.5) and +(90:0.5)] (2,0);
    \draw[fill=#3, fill opacity=0.5] (0,-0.5) to
        [controls=+(90:0.5) and +(90:0.5)] (2,-0.5);
     \draw[fill=#4, shift={(.7em,0)}] (0.5,2) rectangle (1.0,-1) node[rotate=90,shift={(4em,0.7em)}] {#2} ;
     \draw[shift={(-0em,-1em)}] (1,-1) node {#1};
    \draw (0,0) .. controls +(-90:0.5) and +(-90:0.5) .. (2,0);
    \draw (0,0) .. controls +(-90:0.5) and +(-90:0.5) .. (2,0)
        -- (2,-0.5) .. controls +(-90:0.5) and +(-90:0.5) .. (0,-0.5) -- (0,0);
    \draw[fill=#3, fill opacity=0.5] (0,-0.5) .. controls +(-90:0.5)
    and +(-90:0.5) .. (2,-0.5);
    \draw[fill=#3, fill opacity=0.5] (0,-0.5) .. controls +(-90:0.5)
    and +(-90:0.5) .. (2,-0.5)
        -- (2,-2) .. controls +(-90:0.5) and +(-90:0.5) .. (0,-2) -- (0,-0.5);
\end{scope}
}






\newcommand{\discussionINTRO}{Introduce yourself to the class (name, borough where you leave, career objective, why choosing BMCC?) Discuss why is chemistry important for your career objective by listing three reasons why chemistry connects with your career objective.}
\newcommand{\discussionORGO}{Think about any drug you have taken recently. Paste its structure and indicate at least one functional group in the molecule.}
\newcommand{\discussionSOLUTIONS}{Carbonates drinks such as coke or simply soda contains \ce{CO2} that comes out as bubbles as the drink becomes flat. Do cold or work drinks become flat easily?}
\newcommand{\discussionKINETICSA}{How can you make a reaction go faster? Give three possible answers.}


\newcommand{\discussionKINETICS}{The normal temperature of all refrigerators is 40$^{\circ}$ F. How would the world would be different is all refrigerators would function at 50$^{\circ}$ F? Elaborate your answer in the context of the chapter.}
\newcommand{\discussionEQ}{You work at a chemistry lab synthesizing a very important and valuable chemical and you are paid based in how much product you produce. How does reaction equilibrium would affect your job? And reaction kinetics? }
\newcommand{\discussionAB}{You have two acids A and B of different concentration $C_A$ and $C_B$. Given that the $K_a$ of A is larger than the one for B, does this means that the PH of a solution of A is smaller than the PH of a solution of B? Elaborate. }
\newcommand{\discussionSOLUBLE}{You have two chemicals A and B. Given that the $K_s$ of A is larger than the one for B, does this means that the solubility of A is larger than the one of a solution of B? Elaborate.  }
\newcommand{\discussionTHERMODYN}{Describe a world in which the first principle of thermodynamics is false and a world in which the second principle of thermodynamics is false.  }
\newcommand{\discussionELECTROCHEM}{You have a battery in which $\mathscr{E}^{\circ}$ is null, does this mean it is drained?You have a battery in which $\mathscr{E}$ is null, does this mean it is drained? }


\DeclareNewLayer[
  background,
  rightmargin,
  contents={%
    \parbox[b][\layerheight][c]{\dimexpr\footskip+\footheight\relax}{%
      \hfill\rotatebox{90}{\pagemark}}}
]{lscape.foot}
\DeclareNewLayer[
  background,
  textarea,
  addhoffset=\dimexpr-\headsep-\headheight\relax,
  width=\dimexpr\headsep+\headheight\relax,
  contents={\hfill\rotatebox{90}{\headmark}\hspace*{\headsep}}
]{lscape.head}
\DeclareNewPageStyleByLayers{lscape}{lscape.foot,lscape.head}

%%%% BIKE BODY
\newcommand{\bikebody}{
%\shade[shading=radial] (-1.5,-2) rectangle (1.5,-1.6);
%\shade[shading=radial] (4.5,-2) rectangle (7.5,-1.6);
\def\Radius{1.5cm}
%\foreach \a in {0, 10, ..., 350} {  
%    \draw[red] (0, 0) -- (\a:\Radius);
%    \draw[black] (0, 0) -- (\a+1.5:\Radius);
%    \draw[gray] (0, 0) -- (\a+3:\Radius);
%    \draw[gray!50] (0, 0) -- (\a+4.5:\Radius);
%    \draw[blue] (0, 0) circle[radius=\Radius];
%    \draw[line width=4pt] (0, 0) circle[radius=\Radius+0.15cm];
%}
\foreach \h in {0, 60, ..., 300} {
    \draw[color=black,line width=0.5mm,rotate around={\h:(0,0)}] (0,0) edge[-,bend left=40] (0.2cm,0) edge[-,bend right=40] (0.2cm,0);
}
\draw[line width=1pt] (0,0) circle[radius=0.2cm];
\draw[line width=4pt,rounded corners=1pt,rotate=0] (1.68,0.6)--(1.94,0.54);
\draw[line width=0.3mm,yellow!60!black] (1.8,0) arc (0:150:1.8cm)--(0,0);
\draw[line width=0.5mm,yellow!60!black] (1.8,0) arc (0:160:1.8cm);
%\foreach \b in {0, 10, ..., 350} {  
%    \draw[color=red,rotate around={\b:(6,0)}] (6, 0) -- (7.5,0);
%    \draw[black,rotate around={\b+1.5:(6,0)}] (6, 0) -- (7.5,0);
%    \draw[gray,rotate around={\b+3:(6,0)}] (6, 0) -- (7.5,0);
%    \draw[gray!50,rotate around={\b+4.5:(6,0)}] (6, 0) -- (7.5,0);
%    \draw[blue] (6, 0) circle[radius=\Radius];
%    \draw[line width=4pt] (6, 0) circle[radius=\Radius+0.15cm];
%}
\draw[line width=0.3mm,yellow!60!black] (6,1.8) arc (90:190:1.8cm)--(6,0);
\draw[line width=0.5mm,yellow!60!black] (6,1.8) arc (90:200:1.8cm);
\draw[line width=1pt] (0,0.2cm)--(2.2,0.5cm) (0,-0.2cm)--(2.2,-0.5cm);
\draw[line width=2pt] (2.2,0)--(2.6,-0.6) (2.2,0)--(1.8,0.6);
\draw[line width=1mm,rounded corners=8pt,rotate around={25:(6,0)}] (6,0)--(6,1.3cm)--++(80:2.1cm);
\draw[line width=1mm,rounded corners=8pt,rotate around={27:(6,0)}] (6,0)--(6,1.3cm)--++(80:2.1cm);
\draw[line width=1mm,rounded corners=8pt,rotate around={26:(6,0)}] (6,0)--(6,1.3cm)--++(80:2.1cm)coordinate(a);
\draw[line width=1.5mm] (a)--++(-80:0.15cm)--++(0:0.5cm)--++(180:0.05cm)coordinate(b);
\draw[line width=1.1mm,rounded corners=4pt] (b)--++(-30:0.6cm)coordinate(c)--++(-160:0.4cm) (b)--++(150:0.6cm)coordinate(d)--++(200:0.4cm);
\draw[line width=0.4mm,rounded corners=0pt] (c)--++(-95:0.1cm)--++(-160:0.25cm) (d)--++(-95:0.1cm)--++(200:0.25cm);
\draw[line width=2mm,rotate around={35:(2.2,0)}] (2.2,0)--++(3.7,0)--++(75:0.4cm)--++(155:3.5)coordinate(e)--(2.2,0);
\draw[line width=1mm] (0,0)--(2.2,0) (0,0)--(45:2.5cm) (0,0)--(46.5:2.5) (0,0)--(2:2.2);
\draw[line width=1.2mm] (e)--++(106:0.9cm)--++(-74:0.1cm)coordinate(d);
\foreach \c in {0, 72, ..., 288} {\draw[color=red,line width=1.8mm,rotate around={\c:(2.2,0)}] (2.2,0) edge[-,bend left=30] (2.69,0);}
\draw[line width=2pt] (2.2,0) circle[radius=0.5cm];
\fill (2.2,0) circle[radius=0.1cm];
\draw[line width=4pt,rounded corners=1pt,rotate=0] (2.4,-0.58)--(2.68,-0.56);
\draw[line width=2pt] (2.2,0)--(2.6,-0.6);
\shade[top color=white,bottom color=black,rounded corners=2pt,rotate around={10:(d)}] (d)--++(220:2mm)--++(100:2mm)--++(180:3mm)--++(110:1.5mm)--++(160:2mm)--++(110:3.5mm)coordinate(i)--++(-15:10mm)--++(-5:5mm)--++(-20:3mm)coordinate(j)--++(-50:0.7mm)--++(180:4mm)--++(170:1mm)--++(-175:2mm)--(d);
\shade[top color=gray!50,bottom color=black,rounded corners=2pt,rotate around={10:(d)}] (d)--++(220:2mm)--++(100:2mm)--++(180:3mm)--++(110:1.5mm)--++(160:2mm)--++(110:3.5mm)--++(-50:4.5mm)--++(-3:13mm)--++(-10:2mm)--++(180:4mm)--++(170:1mm)--++(-175:2mm)--(d);
\filldraw[black] (0,0)circle(2pt) (6,0)circle(2pt);
\draw[line width=0.3mm] (0,0)--++(105:2cm)--++(-2:0.7cm)coordinate(g)--+(-10:1.5cm) (g)--(0,0);
\shade[top color=gray!10!white,bottom color=gray] (-0.8cm,1.9cm)--++(-3:1.4cm) arc (-90:90: 0.4mm)--++(174:1.4cm) arc (90:270: 0.65mm);
\shade[top color=gray!20,bottom color=black] (-0.8cm,1.9cm)--++(-3:1.4cm) arc (-90:90: 0.4mm)--++(177:1.4cm) arc (90:270: 0.4mm);
\node[text=\fontsize{2pt}{0}\selectfont,color=white,rotate around={10:(3,2.72)}] at (3,2.72) { };
}

%%%% BIKE 
\newcommand{\bike}{
\shade[shading=radial] (-1.5,-2) rectangle (1.5,-1.6);
\shade[shading=radial] (4.5,-2) rectangle (7.5,-1.6);
\def\Radius{1.5cm}
\foreach \a in {0, 10, ..., 350} {  
    \draw[red] (0, 0) -- (\a:\Radius);
    \draw[black] (0, 0) -- (\a+1.5:\Radius);
    \draw[gray] (0, 0) -- (\a+3:\Radius);
    \draw[gray!50] (0, 0) -- (\a+4.5:\Radius);
    \draw[blue] (0, 0) circle[radius=\Radius];
    \draw[line width=4pt] (0, 0) circle[radius=\Radius+0.15cm];
}
\foreach \h in {0, 60, ..., 300} {
    \draw[color=black,line width=0.5mm,rotate around={\h:(0,0)}] (0,0) edge[-,bend left=40] (0.2cm,0) edge[-,bend right=40] (0.2cm,0);
}
\draw[line width=1pt] (0,0) circle[radius=0.2cm];
\draw[line width=4pt,rounded corners=1pt,rotate=0] (1.68,0.6)--(1.94,0.54);
\draw[line width=0.3mm,yellow!60!black] (1.8,0) arc (0:150:1.8cm)--(0,0);
\draw[line width=0.5mm,yellow!60!black] (1.8,0) arc (0:160:1.8cm);
\foreach \b in {0, 10, ..., 350} {  
    \draw[color=red,rotate around={\b:(6,0)}] (6, 0) -- (7.5,0);
    \draw[black,rotate around={\b+1.5:(6,0)}] (6, 0) -- (7.5,0);
    \draw[gray,rotate around={\b+3:(6,0)}] (6, 0) -- (7.5,0);
    \draw[gray!50,rotate around={\b+4.5:(6,0)}] (6, 0) -- (7.5,0);
    \draw[blue] (6, 0) circle[radius=\Radius];
    \draw[line width=4pt] (6, 0) circle[radius=\Radius+0.15cm];
}
\draw[line width=0.3mm,yellow!60!black] (6,1.8) arc (90:190:1.8cm)--(6,0);
\draw[line width=0.5mm,yellow!60!black] (6,1.8) arc (90:200:1.8cm);
\draw[line width=1pt] (0,0.2cm)--(2.2,0.5cm) (0,-0.2cm)--(2.2,-0.5cm);
\draw[line width=2pt] (2.2,0)--(2.6,-0.6) (2.2,0)--(1.8,0.6);
\draw[line width=1mm,rounded corners=8pt,rotate around={25:(6,0)}] (6,0)--(6,1.3cm)--++(80:2.1cm);
\draw[line width=1mm,rounded corners=8pt,rotate around={27:(6,0)}] (6,0)--(6,1.3cm)--++(80:2.1cm);
\draw[line width=1mm,rounded corners=8pt,rotate around={26:(6,0)}] (6,0)--(6,1.3cm)--++(80:2.1cm)coordinate(a);
\draw[line width=1.5mm] (a)--++(-80:0.15cm)--++(0:0.5cm)--++(180:0.05cm)coordinate(b);
\draw[line width=1.1mm,rounded corners=4pt] (b)--++(-30:0.6cm)coordinate(c)--++(-160:0.4cm) (b)--++(150:0.6cm)coordinate(d)--++(200:0.4cm);
\draw[line width=0.4mm,rounded corners=0pt] (c)--++(-95:0.1cm)--++(-160:0.25cm) (d)--++(-95:0.1cm)--++(200:0.25cm);
\draw[line width=2mm,rotate around={35:(2.2,0)}] (2.2,0)--++(3.7,0)--++(75:0.4cm)--++(155:3.5)coordinate(e)--(2.2,0);
\draw[line width=1mm] (0,0)--(2.2,0) (0,0)--(45:2.5cm) (0,0)--(46.5:2.5) (0,0)--(2:2.2);
\draw[line width=1.2mm] (e)--++(106:0.9cm)--++(-74:0.1cm)coordinate(d);
\foreach \c in {0, 72, ..., 288} {\draw[color=red,line width=1.8mm,rotate around={\c:(2.2,0)}] (2.2,0) edge[-,bend left=30] (2.69,0);}
\draw[line width=2pt] (2.2,0) circle[radius=0.5cm];
\fill (2.2,0) circle[radius=0.1cm];
\draw[line width=4pt,rounded corners=1pt,rotate=0] (2.4,-0.58)--(2.68,-0.56);
\draw[line width=2pt] (2.2,0)--(2.6,-0.6);
\shade[top color=white,bottom color=black,rounded corners=2pt,rotate around={10:(d)}] (d)--++(220:2mm)--++(100:2mm)--++(180:3mm)--++(110:1.5mm)--++(160:2mm)--++(110:3.5mm)coordinate(i)--++(-15:10mm)--++(-5:5mm)--++(-20:3mm)coordinate(j)--++(-50:0.7mm)--++(180:4mm)--++(170:1mm)--++(-175:2mm)--(d);
\shade[top color=gray!50,bottom color=black,rounded corners=2pt,rotate around={10:(d)}] (d)--++(220:2mm)--++(100:2mm)--++(180:3mm)--++(110:1.5mm)--++(160:2mm)--++(110:3.5mm)--++(-50:4.5mm)--++(-3:13mm)--++(-10:2mm)--++(180:4mm)--++(170:1mm)--++(-175:2mm)--(d);
\filldraw[black] (0,0)circle(2pt) (6,0)circle(2pt);
\draw[line width=0.3mm] (0,0)--++(105:2cm)--++(-2:0.7cm)coordinate(g)--+(-10:1.5cm) (g)--(0,0);
\shade[top color=gray!10!white,bottom color=gray] (-0.8cm,1.9cm)--++(-3:1.4cm) arc (-90:90: 0.4mm)--++(174:1.4cm) arc (90:270: 0.65mm);
\shade[top color=gray!20,bottom color=black] (-0.8cm,1.9cm)--++(-3:1.4cm) arc (-90:90: 0.4mm)--++(177:1.4cm) arc (90:270: 0.4mm);
\node[text=\fontsize{2pt}{0}\selectfont,color=white,rotate around={10:(3,2.72)}] at (3,2.72) { };
}

\newcommand{\bikewheel}{
%\shade[shading=radial] (-1.5,-2) rectangle (1.5,-1.6);
%\shade[shading=radial] (4.5,-2) rectangle (7.5,-1.6);
\def\Radius{1.5cm}
\foreach \a in {0, 10, ..., 350} {  
    \draw[red] (0, 0) -- (\a:\Radius);
    \draw[black] (0, 0) -- (\a+1.5:\Radius);
    \draw[gray] (0, 0) -- (\a+3:\Radius);
    \draw[gray!50] (0, 0) -- (\a+4.5:\Radius);
    \draw[blue] (0, 0) circle[radius=\Radius];
    \draw[line width=4pt] (0, 0) circle[radius=\Radius+0.15cm];
}
}


  \begin{document} 
%\subfile{./cover/title.tex}
%\subfile{./periodictable/periodictable.tex}
%\clearpage\thispagestyle{empty}\mbox{}\clearpage
%\tableofcontents
%\clearpage\thispagestyle{empty}\mbox{}
%\subfile{./tothereader/tothereader.tex}
%\clearpage\thispagestyle{empty}\mbox{}
%\subfile{./online/online.tex}
%\subfile{./calendar/calendar.tex}
%
%%\subfile{./parts/a.tex} \clearpage\thispagestyle{empty}\mbox{}\clearpage
%\subfile{./chapter1/chapter1.tex}
%\subfile{./chapter1/chapter1Problems.tex}
%%%\subfile{./review/1.tex}
%\subfile{./chapter0.5/chapter0.5.tex}
%\subfile{./chapter0.5/chapter0.5Problems.tex}
%%%\subfile{./parts/ra.tex} \clearpage\thispagestyle{empty}\mbox{}\clearpage
%%%\subfile{./review/1-2.tex}
%%%
%%%\subfile{./parts/b.tex}\clearpage\thispagestyle{empty}\mbox{}
%\subfile{./chapter5/chapter5.tex} 
%\subfile{./chapter5/chapter5Problems.tex} 
%
%
%\subfile{./chapter7/chapter7.tex}
%\subfile{./chapter7/chapter7Problems.tex}\clearpage\thispagestyle{empty}\mbox{}\clearpage
%%%\subfile{./parts/rb.tex} \clearpage\thispagestyle{empty}\mbox{}\clearpage
%%%\subfile{./review/3-4.tex}
%%%
%%%\subfile{./parts/c.tex}\clearpage\thispagestyle{empty}\mbox{}
%\subfile{./chapter9/chapter9.tex}
%\subfile{./chapter9/chapter9Problems.tex}
%\subfile{./chapter8/chapter8.tex}
%\subfile{./chapter8/chapter8Problems.tex}
%%\subfile{./parts/rc.tex} \clearpage\thispagestyle{empty}\mbox{}\clearpage
%%\subfile{./review/5-6.tex}
%%%
%%%\subfile{./parts/d.tex}\clearpage\thispagestyle{empty}\mbox{}
\subfile{./chapter2/chapter2.tex}
\subfile{./chapter2/chapter2Problems.tex}
\subfile{./chapter14/chapter14.tex} 
\subfile{./chapter14/Problems.tex}
%%\subfile{./parts/rd.tex} \clearpage\thispagestyle{empty}\mbox{}\clearpage
%%\subfile{./review/7-8.tex}
%
%
%%\subfile{./parts/e.tex}\clearpage\thispagestyle{empty}\mbox{}
%\subfile{./chapter3/chapter3.tex}
%\subfile{./chapter3/chapter3Problems.tex}
%\subfile{./chapter6/chapter6.tex}
%\subfile{./chapter6/chapter6Problems.tex}
%%\subfile{./parts/re.tex} \clearpage\thispagestyle{empty}\mbox{}\clearpage
%%\subfile{./review/9-10.tex}
%%%\subfile{./review/1-10.tex}



%\subfile{./chapter15/chapter15.tex}
%\subfile{./chapter15/chapter15Problems.tex}
%\subfile{./chapter16/chapter16.tex}
%\subfile{./chapter16/chapter16Problems.tex}

%\subfile{./chapter17/chapter17.tex}
%\subfile{./chapter17/chapter17Problems.tex}
%\subfile{./chapter18/chapter18.tex}
%\subfile{./chapter18/chapter18Problems.tex}
%
%\subfile{./chapter21/chapter21.tex}
%\subfile{./chapter21/chapter21Problems.tex}
%\subfile{./chapter22/chapter22.tex}


%\subfile{./chapter19/chapter19.tex}
%\subfile{./chapter19/chapter19Problems.tex}

%\subfile{./chapter20/chapter20.tex}


%%
%\subfile{./cover/back.tex}
%%
%


\end{document} 





